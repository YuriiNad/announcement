(self.webpackChunkannouncement=self.webpackChunkannouncement||[]).push([[179],{8255:dt=>{function Re(U){return Promise.resolve().then(()=>{var A=new Error("Cannot find module '"+U+"'");throw A.code="MODULE_NOT_FOUND",A})}Re.keys=()=>[],Re.resolve=Re,Re.id=8255,dt.exports=Re},8583:(dt,Re,U)=>{"use strict";U.d(Re,{mr:()=>Te,ez:()=>Cs,K0:()=>_e,uU:()=>po,Do:()=>$e,V_:()=>z,Ye:()=>He,S$:()=>he,sg:()=>ri,O5:()=>Zr,b0:()=>xe,lw:()=>oe,EM:()=>xn,JF:()=>Oo,PM:()=>Gs,w_:()=>ae,bD:()=>go,q:()=>W,Mx:()=>Ft,HT:()=>le});var A=U(3018);let x=null;function W(){return x}function le(S){x||(x=S)}class ae{}const _e=new A.OlP("DocumentToken");let oe=(()=>{class S{historyGo(R){throw new Error("Not implemented")}}return S.\u0275fac=function(R){return new(R||S)},S.\u0275prov=(0,A.Yz7)({factory:ce,token:S,providedIn:"platform"}),S})();function ce(){return(0,A.LFG)(q)}const z=new A.OlP("Location Initialized");let q=(()=>{class S extends oe{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(R){const B=W().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",R,!1),()=>B.removeEventListener("popstate",R)}onHashChange(R){const B=W().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",R,!1),()=>B.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,B,te){fe()?this._history.pushState(R,B,te):this.location.hash=te}replaceState(R,B,te){fe()?this._history.replaceState(R,B,te):this.location.hash=te}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return S.\u0275fac=function(R){return new(R||S)(A.LFG(_e))},S.\u0275prov=(0,A.Yz7)({factory:pe,token:S,providedIn:"platform"}),S})();function fe(){return!!window.history.pushState}function pe(){return new q((0,A.LFG)(_e))}function be(S,L){if(0==S.length)return L;if(0==L.length)return S;let R=0;return S.endsWith("/")&&R++,L.startsWith("/")&&R++,2==R?S+L.substring(1):1==R?S+L:S+"/"+L}function Ue(S){const L=S.match(/#|\?|$/),R=L&&L.index||S.length;return S.slice(0,R-("/"===S[R-1]?1:0))+S.slice(R)}function Me(S){return S&&"?"!==S[0]?"?"+S:S}let he=(()=>{class S{historyGo(R){throw new Error("Not implemented")}}return S.\u0275fac=function(R){return new(R||S)},S.\u0275prov=(0,A.Yz7)({factory:ke,token:S,providedIn:"root"}),S})();function ke(S){const L=(0,A.LFG)(_e).location;return new xe((0,A.LFG)(oe),L&&L.origin||"")}const Te=new A.OlP("appBaseHref");let xe=(()=>{class S extends he{constructor(R,B){if(super(),this._platformLocation=R,this._removeListenerFns=[],null==B&&(B=this._platformLocation.getBaseHrefFromDOM()),null==B)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=B}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return be(this._baseHref,R)}path(R=!1){const B=this._platformLocation.pathname+Me(this._platformLocation.search),te=this._platformLocation.hash;return te&&R?`${B}${te}`:B}pushState(R,B,te,we){const Ge=this.prepareExternalUrl(te+Me(we));this._platformLocation.pushState(R,B,Ge)}replaceState(R,B,te,we){const Ge=this.prepareExternalUrl(te+Me(we));this._platformLocation.replaceState(R,B,Ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(R=0){var B,te;null===(te=(B=this._platformLocation).historyGo)||void 0===te||te.call(B,R)}}return S.\u0275fac=function(R){return new(R||S)(A.LFG(oe),A.LFG(Te,8))},S.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac}),S})(),$e=(()=>{class S extends he{constructor(R,B){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(R){const B=be(this._baseHref,R);return B.length>0?"#"+B:B}pushState(R,B,te,we){let Ge=this.prepareExternalUrl(te+Me(we));0==Ge.length&&(Ge=this._platformLocation.pathname),this._platformLocation.pushState(R,B,Ge)}replaceState(R,B,te,we){let Ge=this.prepareExternalUrl(te+Me(we));0==Ge.length&&(Ge=this._platformLocation.pathname),this._platformLocation.replaceState(R,B,Ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(R=0){var B,te;null===(te=(B=this._platformLocation).historyGo)||void 0===te||te.call(B,R)}}return S.\u0275fac=function(R){return new(R||S)(A.LFG(oe),A.LFG(Te,8))},S.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac}),S})(),He=(()=>{class S{constructor(R,B){this._subject=new A.vpe,this._urlChangeListeners=[],this._platformStrategy=R;const te=this._platformStrategy.getBaseHref();this._platformLocation=B,this._baseHref=Ue(Nt(te)),this._platformStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}path(R=!1){return this.normalize(this._platformStrategy.path(R))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(R,B=""){return this.path()==this.normalize(R+Me(B))}normalize(R){return S.stripTrailingSlash(function(S,L){return S&&L.startsWith(S)?L.substring(S.length):L}(this._baseHref,Nt(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._platformStrategy.prepareExternalUrl(R)}go(R,B="",te=null){this._platformStrategy.pushState(te,"",R,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Me(B)),te)}replaceState(R,B="",te=null){this._platformStrategy.replaceState(te,"",R,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Me(B)),te)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(R=0){var B,te;null===(te=(B=this._platformStrategy).historyGo)||void 0===te||te.call(B,R)}onUrlChange(R){this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)}))}_notifyUrlChangeListeners(R="",B){this._urlChangeListeners.forEach(te=>te(R,B))}subscribe(R,B,te){return this._subject.subscribe({next:R,error:B,complete:te})}}return S.\u0275fac=function(R){return new(R||S)(A.LFG(he),A.LFG(oe))},S.normalizeQueryParams=Me,S.joinWithSlash=be,S.stripTrailingSlash=Ue,S.\u0275prov=(0,A.Yz7)({factory:et,token:S,providedIn:"root"}),S})();function et(){return new He((0,A.LFG)(he),(0,A.LFG)(oe))}function Nt(S){return S.replace(/\/index.html$/,"")}var Vt=(()=>((Vt=Vt||{})[Vt.Zero=0]="Zero",Vt[Vt.One=1]="One",Vt[Vt.Two=2]="Two",Vt[Vt.Few=3]="Few",Vt[Vt.Many=4]="Many",Vt[Vt.Other=5]="Other",Vt))(),Dt=(()=>((Dt=Dt||{})[Dt.Format=0]="Format",Dt[Dt.Standalone=1]="Standalone",Dt))(),wt=(()=>((wt=wt||{})[wt.Narrow=0]="Narrow",wt[wt.Abbreviated=1]="Abbreviated",wt[wt.Wide=2]="Wide",wt[wt.Short=3]="Short",wt))(),Ht=(()=>((Ht=Ht||{})[Ht.Short=0]="Short",Ht[Ht.Medium=1]="Medium",Ht[Ht.Long=2]="Long",Ht[Ht.Full=3]="Full",Ht))(),ft=(()=>((ft=ft||{})[ft.Decimal=0]="Decimal",ft[ft.Group=1]="Group",ft[ft.List=2]="List",ft[ft.PercentSign=3]="PercentSign",ft[ft.PlusSign=4]="PlusSign",ft[ft.MinusSign=5]="MinusSign",ft[ft.Exponential=6]="Exponential",ft[ft.SuperscriptingExponent=7]="SuperscriptingExponent",ft[ft.PerMille=8]="PerMille",ft[ft.Infinity=9]="Infinity",ft[ft.NaN=10]="NaN",ft[ft.TimeSeparator=11]="TimeSeparator",ft[ft.CurrencyDecimal=12]="CurrencyDecimal",ft[ft.CurrencyGroup=13]="CurrencyGroup",ft))();function Wi(S,L){return zt((0,A.cg1)(S)[A.wAp.DateFormat],L)}function Fn(S,L){return zt((0,A.cg1)(S)[A.wAp.TimeFormat],L)}function Et(S,L){return zt((0,A.cg1)(S)[A.wAp.DateTimeFormat],L)}function Tn(S,L){const R=(0,A.cg1)(S),B=R[A.wAp.NumberSymbols][L];if(void 0===B){if(L===ft.CurrencyDecimal)return R[A.wAp.NumberSymbols][ft.Decimal];if(L===ft.CurrencyGroup)return R[A.wAp.NumberSymbols][ft.Group]}return B}const ln=A.kL8;function Fe(S){if(!S[A.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${S[A.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zt(S,L){for(let R=L;R>-1;R--)if(void 0!==S[R])return S[R];throw new Error("Locale data API: locale data undefined")}function or(S){const[L,R]=S.split(":");return{hours:+L,minutes:+R}}const ie=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Le={},Ve=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var rt=(()=>((rt=rt||{})[rt.Short=0]="Short",rt[rt.ShortGMT=1]="ShortGMT",rt[rt.Long=2]="Long",rt[rt.Extended=3]="Extended",rt))(),Je=(()=>((Je=Je||{})[Je.FullYear=0]="FullYear",Je[Je.Month=1]="Month",Je[Je.Date=2]="Date",Je[Je.Hours=3]="Hours",Je[Je.Minutes=4]="Minutes",Je[Je.Seconds=5]="Seconds",Je[Je.FractionalSeconds=6]="FractionalSeconds",Je[Je.Day=7]="Day",Je))(),tt=(()=>((tt=tt||{})[tt.DayPeriods=0]="DayPeriods",tt[tt.Days=1]="Days",tt[tt.Months=2]="Months",tt[tt.Eras=3]="Eras",tt))();function Rt(S,L,R,B){let te=function(S){if(nu(S))return S;if("number"==typeof S&&!isNaN(S))return new Date(S);if("string"==typeof S){if(S=S.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(S)){const[te,we=1,Ge=1]=S.split("-").map(mt=>+mt);return Hn(te,we-1,Ge)}const R=parseFloat(S);if(!isNaN(S-R))return new Date(R);let B;if(B=S.match(ie))return function(S){const L=new Date(0);let R=0,B=0;const te=S[8]?L.setUTCFullYear:L.setFullYear,we=S[8]?L.setUTCHours:L.setHours;S[9]&&(R=Number(S[9]+S[10]),B=Number(S[9]+S[11])),te.call(L,Number(S[1]),Number(S[2])-1,Number(S[3]));const Ge=Number(S[4]||0)-R,mt=Number(S[5]||0)-B,Wt=Number(S[6]||0),yt=Math.floor(1e3*parseFloat("0."+(S[7]||0)));return we.call(L,Ge,mt,Wt,yt),L}(B)}const L=new Date(S);if(!nu(L))throw new Error(`Unable to convert "${S}" into a date`);return L}(S);L=on(R,L)||L;let mt,Ge=[];for(;L;){if(mt=Ve.exec(L),!mt){Ge.push(L);break}{Ge=Ge.concat(mt.slice(1));const hn=Ge.pop();if(!hn)break;L=hn}}let Wt=te.getTimezoneOffset();B&&(Wt=ur(B,Wt),te=function(S,L,R){const te=S.getTimezoneOffset();return function(S,L){return(S=new Date(S.getTime())).setMinutes(S.getMinutes()+L),S}(S,-1*(ur(L,te)-te))}(te,B));let yt="";return Ge.forEach(hn=>{const Qt=function(S){if(fn[S])return fn[S];let L;switch(S){case"G":case"GG":case"GGG":L=ee(tt.Eras,wt.Abbreviated);break;case"GGGG":L=ee(tt.Eras,wt.Wide);break;case"GGGGG":L=ee(tt.Eras,wt.Narrow);break;case"y":L=X(Je.FullYear,1,0,!1,!0);break;case"yy":L=X(Je.FullYear,2,0,!0,!0);break;case"yyy":L=X(Je.FullYear,3,0,!1,!0);break;case"yyyy":L=X(Je.FullYear,4,0,!1,!0);break;case"Y":L=qr(1);break;case"YY":L=qr(2,!0);break;case"YYY":L=qr(3);break;case"YYYY":L=qr(4);break;case"M":case"L":L=X(Je.Month,1,1);break;case"MM":case"LL":L=X(Je.Month,2,1);break;case"MMM":L=ee(tt.Months,wt.Abbreviated);break;case"MMMM":L=ee(tt.Months,wt.Wide);break;case"MMMMM":L=ee(tt.Months,wt.Narrow);break;case"LLL":L=ee(tt.Months,wt.Abbreviated,Dt.Standalone);break;case"LLLL":L=ee(tt.Months,wt.Wide,Dt.Standalone);break;case"LLLLL":L=ee(tt.Months,wt.Narrow,Dt.Standalone);break;case"w":L=Vn(1);break;case"ww":L=Vn(2);break;case"W":L=Vn(1,!0);break;case"d":L=X(Je.Date,1);break;case"dd":L=X(Je.Date,2);break;case"c":case"cc":L=X(Je.Day,1);break;case"ccc":L=ee(tt.Days,wt.Abbreviated,Dt.Standalone);break;case"cccc":L=ee(tt.Days,wt.Wide,Dt.Standalone);break;case"ccccc":L=ee(tt.Days,wt.Narrow,Dt.Standalone);break;case"cccccc":L=ee(tt.Days,wt.Short,Dt.Standalone);break;case"E":case"EE":case"EEE":L=ee(tt.Days,wt.Abbreviated);break;case"EEEE":L=ee(tt.Days,wt.Wide);break;case"EEEEE":L=ee(tt.Days,wt.Narrow);break;case"EEEEEE":L=ee(tt.Days,wt.Short);break;case"a":case"aa":case"aaa":L=ee(tt.DayPeriods,wt.Abbreviated);break;case"aaaa":L=ee(tt.DayPeriods,wt.Wide);break;case"aaaaa":L=ee(tt.DayPeriods,wt.Narrow);break;case"b":case"bb":case"bbb":L=ee(tt.DayPeriods,wt.Abbreviated,Dt.Standalone,!0);break;case"bbbb":L=ee(tt.DayPeriods,wt.Wide,Dt.Standalone,!0);break;case"bbbbb":L=ee(tt.DayPeriods,wt.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":L=ee(tt.DayPeriods,wt.Abbreviated,Dt.Format,!0);break;case"BBBB":L=ee(tt.DayPeriods,wt.Wide,Dt.Format,!0);break;case"BBBBB":L=ee(tt.DayPeriods,wt.Narrow,Dt.Format,!0);break;case"h":L=X(Je.Hours,1,-12);break;case"hh":L=X(Je.Hours,2,-12);break;case"H":L=X(Je.Hours,1);break;case"HH":L=X(Je.Hours,2);break;case"m":L=X(Je.Minutes,1);break;case"mm":L=X(Je.Minutes,2);break;case"s":L=X(Je.Seconds,1);break;case"ss":L=X(Je.Seconds,2);break;case"S":L=X(Je.FractionalSeconds,1);break;case"SS":L=X(Je.FractionalSeconds,2);break;case"SSS":L=X(Je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":L=Ee(rt.Short);break;case"ZZZZZ":L=Ee(rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":L=Ee(rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":L=Ee(rt.Long);break;default:return null}return fn[S]=L,L}(hn);yt+=Qt?Qt(te,R,Wt):"''"===hn?"'":hn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),yt}function Hn(S,L,R){const B=new Date(0);return B.setFullYear(S,L,R),B.setHours(0,0,0),B}function on(S,L){const R=function(S){return(0,A.cg1)(S)[A.wAp.LocaleId]}(S);if(Le[R]=Le[R]||{},Le[R][L])return Le[R][L];let B="";switch(L){case"shortDate":B=Wi(S,Ht.Short);break;case"mediumDate":B=Wi(S,Ht.Medium);break;case"longDate":B=Wi(S,Ht.Long);break;case"fullDate":B=Wi(S,Ht.Full);break;case"shortTime":B=Fn(S,Ht.Short);break;case"mediumTime":B=Fn(S,Ht.Medium);break;case"longTime":B=Fn(S,Ht.Long);break;case"fullTime":B=Fn(S,Ht.Full);break;case"short":const te=on(S,"shortTime"),we=on(S,"shortDate");B=Ot(Et(S,Ht.Short),[te,we]);break;case"medium":const Ge=on(S,"mediumTime"),mt=on(S,"mediumDate");B=Ot(Et(S,Ht.Medium),[Ge,mt]);break;case"long":const Wt=on(S,"longTime"),yt=on(S,"longDate");B=Ot(Et(S,Ht.Long),[Wt,yt]);break;case"full":const hn=on(S,"fullTime"),Qt=on(S,"fullDate");B=Ot(Et(S,Ht.Full),[hn,Qt])}return B&&(Le[R][L]=B),B}function Ot(S,L){return L&&(S=S.replace(/\{([^}]+)}/g,function(R,B){return null!=L&&B in L?L[B]:R})),S}function Ln(S,L,R="-",B,te){let we="";(S<0||te&&S<=0)&&(te?S=1-S:(S=-S,we=R));let Ge=String(S);for(;Ge.length<L;)Ge="0"+Ge;return B&&(Ge=Ge.substr(Ge.length-L)),we+Ge}function X(S,L,R=0,B=!1,te=!1){return function(we,Ge){let mt=function(S,L){switch(S){case Je.FullYear:return L.getFullYear();case Je.Month:return L.getMonth();case Je.Date:return L.getDate();case Je.Hours:return L.getHours();case Je.Minutes:return L.getMinutes();case Je.Seconds:return L.getSeconds();case Je.FractionalSeconds:return L.getMilliseconds();case Je.Day:return L.getDay();default:throw new Error(`Unknown DateType value "${S}".`)}}(S,we);if((R>0||mt>-R)&&(mt+=R),S===Je.Hours)0===mt&&-12===R&&(mt=12);else if(S===Je.FractionalSeconds)return function(S,L){return Ln(S,3).substr(0,L)}(mt,L);const Wt=Tn(Ge,ft.MinusSign);return Ln(mt,L,Wt,B,te)}}function ee(S,L,R=Dt.Format,B=!1){return function(te,we){return function(S,L,R,B,te,we){switch(R){case tt.Months:return function(S,L,R){const B=(0,A.cg1)(S),we=zt([B[A.wAp.MonthsFormat],B[A.wAp.MonthsStandalone]],L);return zt(we,R)}(L,te,B)[S.getMonth()];case tt.Days:return function(S,L,R){const B=(0,A.cg1)(S),we=zt([B[A.wAp.DaysFormat],B[A.wAp.DaysStandalone]],L);return zt(we,R)}(L,te,B)[S.getDay()];case tt.DayPeriods:const Ge=S.getHours(),mt=S.getMinutes();if(we){const yt=function(S){const L=(0,A.cg1)(S);return Fe(L),(L[A.wAp.ExtraData][2]||[]).map(B=>"string"==typeof B?or(B):[or(B[0]),or(B[1])])}(L),hn=function(S,L,R){const B=(0,A.cg1)(S);Fe(B);const we=zt([B[A.wAp.ExtraData][0],B[A.wAp.ExtraData][1]],L)||[];return zt(we,R)||[]}(L,te,B),Qt=yt.findIndex(bn=>{if(Array.isArray(bn)){const[qt,Ar]=bn,Mi=Ge>=qt.hours&&mt>=qt.minutes,Cn=Ge<Ar.hours||Ge===Ar.hours&&mt<Ar.minutes;if(qt.hours<Ar.hours){if(Mi&&Cn)return!0}else if(Mi||Cn)return!0}else if(bn.hours===Ge&&bn.minutes===mt)return!0;return!1});if(-1!==Qt)return hn[Qt]}return function(S,L,R){const B=(0,A.cg1)(S),we=zt([B[A.wAp.DayPeriodsFormat],B[A.wAp.DayPeriodsStandalone]],L);return zt(we,R)}(L,te,B)[Ge<12?0:1];case tt.Eras:return function(S,L){return zt((0,A.cg1)(S)[A.wAp.Eras],L)}(L,B)[S.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${R}`)}}(te,we,S,L,R,B)}}function Ee(S){return function(L,R,B){const te=-1*B,we=Tn(R,ft.MinusSign),Ge=te>0?Math.floor(te/60):Math.ceil(te/60);switch(S){case rt.Short:return(te>=0?"+":"")+Ln(Ge,2,we)+Ln(Math.abs(te%60),2,we);case rt.ShortGMT:return"GMT"+(te>=0?"+":"")+Ln(Ge,1,we);case rt.Long:return"GMT"+(te>=0?"+":"")+Ln(Ge,2,we)+":"+Ln(Math.abs(te%60),2,we);case rt.Extended:return 0===B?"Z":(te>=0?"+":"")+Ln(Ge,2,we)+":"+Ln(Math.abs(te%60),2,we);default:throw new Error(`Unknown zone width "${S}"`)}}}function ar(S){return Hn(S.getFullYear(),S.getMonth(),S.getDate()+(4-S.getDay()))}function Vn(S,L=!1){return function(R,B){let te;if(L){const we=new Date(R.getFullYear(),R.getMonth(),1).getDay()-1,Ge=R.getDate();te=1+Math.floor((Ge+we)/7)}else{const we=ar(R),Ge=function(S){const L=Hn(S,0,1).getDay();return Hn(S,0,1+(L<=4?4:11)-L)}(we.getFullYear()),mt=we.getTime()-Ge.getTime();te=1+Math.round(mt/6048e5)}return Ln(te,S,Tn(B,ft.MinusSign))}}function qr(S,L=!1){return function(R,B){return Ln(ar(R).getFullYear(),S,Tn(B,ft.MinusSign),L)}}const fn={};function ur(S,L){S=S.replace(/:/g,"");const R=Date.parse("Jan 01, 1970 00:00:00 "+S)/6e4;return isNaN(R)?L:R}function nu(S){return S instanceof Date&&!isNaN(S.valueOf())}class yr{}let er=(()=>{class S extends yr{constructor(R){super(),this.locale=R}getPluralCategory(R,B){switch(ln(B||this.locale)(R)){case Vt.Zero:return"zero";case Vt.One:return"one";case Vt.Two:return"two";case Vt.Few:return"few";case Vt.Many:return"many";default:return"other"}}}return S.\u0275fac=function(R){return new(R||S)(A.LFG(A.soG))},S.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac}),S})();function Ft(S,L){L=encodeURIComponent(L);for(const R of S.split(";")){const B=R.indexOf("="),[te,we]=-1==B?[R,""]:[R.slice(0,B),R.slice(B+1)];if(te.trim()===L)return decodeURIComponent(we)}return null}class Cr{constructor(L,R,B,te){this.$implicit=L,this.ngForOf=R,this.index=B,this.count=te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class S{constructor(R,B,te){this._viewContainer=R,this._template=B,this._differs=te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;if(!this._differ&&R)try{this._differ=this._differs.find(R).create(this.ngForTrackBy)}catch(B){throw new Error(`Cannot find a differ supporting object '${R}' of type '${function(S){return S.name||typeof S}(R)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const B=[];R.forEachOperation((te,we,Ge)=>{if(null==te.previousIndex){const mt=this._viewContainer.createEmbeddedView(this._template,new Cr(null,this._ngForOf,-1,-1),null===Ge?void 0:Ge),Wt=new Dr(te,mt);B.push(Wt)}else if(null==Ge)this._viewContainer.remove(null===we?void 0:we);else if(null!==we){const mt=this._viewContainer.get(we);this._viewContainer.move(mt,Ge);const Wt=new Dr(te,mt);B.push(Wt)}});for(let te=0;te<B.length;te++)this._perViewChange(B[te].view,B[te].record);for(let te=0,we=this._viewContainer.length;te<we;te++){const Ge=this._viewContainer.get(te);Ge.context.index=te,Ge.context.count=we,Ge.context.ngForOf=this._ngForOf}R.forEachIdentityChange(te=>{this._viewContainer.get(te.currentIndex).context.$implicit=te.item})}_perViewChange(R,B){R.context.$implicit=B.item}static ngTemplateContextGuard(R,B){return!0}}return S.\u0275fac=function(R){return new(R||S)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(A.ZZ4))},S.\u0275dir=A.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),S})();class Dr{constructor(L,R){this.record=L,this.view=R}}let Zr=(()=>{class S{constructor(R,B){this._viewContainer=R,this._context=new In,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){vn("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){vn("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,B){return!0}}return S.\u0275fac=function(R){return new(R||S)(A.Y36(A.s_b),A.Y36(A.Rgc))},S.\u0275dir=A.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),S})();class In{constructor(){this.$implicit=null,this.ngIf=null}}function vn(S,L){if(L&&!L.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,A.AaK)(L)}'.`)}let po=(()=>{class S{constructor(R){this.locale=R}transform(R,B="mediumDate",te,we){if(null==R||""===R||R!=R)return null;try{return Rt(R,B,we||this.locale,te)}catch(Ge){throw function(S,L){return Error(`InvalidPipeArgument: '${L}' for pipe '${(0,A.AaK)(S)}'`)}(S,Ge.message)}}}return S.\u0275fac=function(R){return new(R||S)(A.Y36(A.soG,16))},S.\u0275pipe=A.Yjl({name:"date",type:S,pure:!0}),S})(),Cs=(()=>{class S{}return S.\u0275fac=function(R){return new(R||S)},S.\u0275mod=A.oAB({type:S}),S.\u0275inj=A.cJS({providers:[{provide:yr,useClass:er}]}),S})();const go="browser";function Gs(S){return"server"===S}let xn=(()=>{class S{}return S.\u0275prov=(0,A.Yz7)({token:S,providedIn:"root",factory:()=>new su((0,A.LFG)(_e),window)}),S})();class su{constructor(L,R){this.document=L,this.window=R,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const R=function(S,L){const R=S.getElementById(L)||S.getElementsByName(L)[0];if(R)return R;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const B=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let te=B.currentNode;for(;te;){const we=te.shadowRoot;if(we){const Ge=we.getElementById(L)||we.querySelector(`[name="${L}"]`);if(Ge)return Ge}te=B.nextNode()}}return null}(this.document,L);R&&(this.scrollToElement(R),this.attemptFocus(R))}setHistoryScrollRestoration(L){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=L)}}scrollToElement(L){const R=L.getBoundingClientRect(),B=R.left+this.window.pageXOffset,te=R.top+this.window.pageYOffset,we=this.offset();this.window.scrollTo(B-we[0],te-we[1])}attemptFocus(L){return L.focus(),this.document.activeElement===L}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const L=oi(this.window.history)||oi(Object.getPrototypeOf(this.window.history));return!(!L||!L.writable&&!L.set)}catch(L){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(L){return!1}}}function oi(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class Oo{}},1841:(dt,Re,U)=>{"use strict";U.d(Re,{eN:()=>ft,JF:()=>zt});var A=U(8583),x=U(3018),W=U(5917),me=U(7574),le=U(4612),ae=U(5435),_e=U(8002);class oe{}class ce{}class z{constructor(K){this.normalizedNames=new Map,this.lazyUpdate=null,K?this.lazyInit="string"==typeof K?()=>{this.headers=new Map,K.split("\n").forEach(ie=>{const Le=ie.indexOf(":");if(Le>0){const Ve=ie.slice(0,Le),rt=Ve.toLowerCase(),Je=ie.slice(Le+1).trim();this.maybeSetNormalizedName(Ve,rt),this.headers.has(rt)?this.headers.get(rt).push(Je):this.headers.set(rt,[Je])}})}:()=>{this.headers=new Map,Object.keys(K).forEach(ie=>{let Le=K[ie];const Ve=ie.toLowerCase();"string"==typeof Le&&(Le=[Le]),Le.length>0&&(this.headers.set(Ve,Le),this.maybeSetNormalizedName(ie,Ve))})}:this.headers=new Map}has(K){return this.init(),this.headers.has(K.toLowerCase())}get(K){this.init();const ie=this.headers.get(K.toLowerCase());return ie&&ie.length>0?ie[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(K){return this.init(),this.headers.get(K.toLowerCase())||null}append(K,ie){return this.clone({name:K,value:ie,op:"a"})}set(K,ie){return this.clone({name:K,value:ie,op:"s"})}delete(K,ie){return this.clone({name:K,value:ie,op:"d"})}maybeSetNormalizedName(K,ie){this.normalizedNames.has(ie)||this.normalizedNames.set(ie,K)}init(){this.lazyInit&&(this.lazyInit instanceof z?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(K=>this.applyUpdate(K)),this.lazyUpdate=null))}copyFrom(K){K.init(),Array.from(K.headers.keys()).forEach(ie=>{this.headers.set(ie,K.headers.get(ie)),this.normalizedNames.set(ie,K.normalizedNames.get(ie))})}clone(K){const ie=new z;return ie.lazyInit=this.lazyInit&&this.lazyInit instanceof z?this.lazyInit:this,ie.lazyUpdate=(this.lazyUpdate||[]).concat([K]),ie}applyUpdate(K){const ie=K.name.toLowerCase();switch(K.op){case"a":case"s":let Le=K.value;if("string"==typeof Le&&(Le=[Le]),0===Le.length)return;this.maybeSetNormalizedName(K.name,ie);const Ve=("a"===K.op?this.headers.get(ie):void 0)||[];Ve.push(...Le),this.headers.set(ie,Ve);break;case"d":const rt=K.value;if(rt){let Je=this.headers.get(ie);if(!Je)return;Je=Je.filter(tt=>-1===rt.indexOf(tt)),0===Je.length?(this.headers.delete(ie),this.normalizedNames.delete(ie)):this.headers.set(ie,Je)}else this.headers.delete(ie),this.normalizedNames.delete(ie)}}forEach(K){this.init(),Array.from(this.normalizedNames.keys()).forEach(ie=>K(this.normalizedNames.get(ie),this.headers.get(ie)))}}class q{encodeKey(K){return Ue(K)}encodeValue(K){return Ue(K)}decodeKey(K){return decodeURIComponent(K)}decodeValue(K){return decodeURIComponent(K)}}const pe=/%(\d[a-f0-9])/gi,be={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ue(ve){return encodeURIComponent(ve).replace(pe,(K,ie)=>{var Le;return null!==(Le=be[ie])&&void 0!==Le?Le:K})}function Me(ve){return`${ve}`}class he{constructor(K={}){if(this.updates=null,this.cloneFrom=null,this.encoder=K.encoder||new q,K.fromString){if(K.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(ve,K){const ie=new Map;return ve.length>0&&ve.replace(/^\?/,"").split("&").forEach(Ve=>{const rt=Ve.indexOf("="),[Je,tt]=-1==rt?[K.decodeKey(Ve),""]:[K.decodeKey(Ve.slice(0,rt)),K.decodeValue(Ve.slice(rt+1))],Rt=ie.get(Je)||[];Rt.push(tt),ie.set(Je,Rt)}),ie}(K.fromString,this.encoder)}else K.fromObject?(this.map=new Map,Object.keys(K.fromObject).forEach(ie=>{const Le=K.fromObject[ie];this.map.set(ie,Array.isArray(Le)?Le:[Le])})):this.map=null}has(K){return this.init(),this.map.has(K)}get(K){this.init();const ie=this.map.get(K);return ie?ie[0]:null}getAll(K){return this.init(),this.map.get(K)||null}keys(){return this.init(),Array.from(this.map.keys())}append(K,ie){return this.clone({param:K,value:ie,op:"a"})}appendAll(K){const ie=[];return Object.keys(K).forEach(Le=>{const Ve=K[Le];Array.isArray(Ve)?Ve.forEach(rt=>{ie.push({param:Le,value:rt,op:"a"})}):ie.push({param:Le,value:Ve,op:"a"})}),this.clone(ie)}set(K,ie){return this.clone({param:K,value:ie,op:"s"})}delete(K,ie){return this.clone({param:K,value:ie,op:"d"})}toString(){return this.init(),this.keys().map(K=>{const ie=this.encoder.encodeKey(K);return this.map.get(K).map(Le=>ie+"="+this.encoder.encodeValue(Le)).join("&")}).filter(K=>""!==K).join("&")}clone(K){const ie=new he({encoder:this.encoder});return ie.cloneFrom=this.cloneFrom||this,ie.updates=(this.updates||[]).concat(K),ie}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(K=>this.map.set(K,this.cloneFrom.map.get(K))),this.updates.forEach(K=>{switch(K.op){case"a":case"s":const ie=("a"===K.op?this.map.get(K.param):void 0)||[];ie.push(Me(K.value)),this.map.set(K.param,ie);break;case"d":if(void 0===K.value){this.map.delete(K.param);break}{let Le=this.map.get(K.param)||[];const Ve=Le.indexOf(Me(K.value));-1!==Ve&&Le.splice(Ve,1),Le.length>0?this.map.set(K.param,Le):this.map.delete(K.param)}}}),this.cloneFrom=this.updates=null)}}class Te{constructor(){this.map=new Map}set(K,ie){return this.map.set(K,ie),this}get(K){return this.map.has(K)||this.map.set(K,K.defaultValue()),this.map.get(K)}delete(K){return this.map.delete(K),this}keys(){return this.map.keys()}}function $e(ve){return"undefined"!=typeof ArrayBuffer&&ve instanceof ArrayBuffer}function He(ve){return"undefined"!=typeof Blob&&ve instanceof Blob}function et(ve){return"undefined"!=typeof FormData&&ve instanceof FormData}class Nt{constructor(K,ie,Le,Ve){let rt;if(this.url=ie,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=K.toUpperCase(),function(ve){switch(ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ve?(this.body=void 0!==Le?Le:null,rt=Ve):rt=Le,rt&&(this.reportProgress=!!rt.reportProgress,this.withCredentials=!!rt.withCredentials,rt.responseType&&(this.responseType=rt.responseType),rt.headers&&(this.headers=rt.headers),rt.context&&(this.context=rt.context),rt.params&&(this.params=rt.params)),this.headers||(this.headers=new z),this.context||(this.context=new Te),this.params){const Je=this.params.toString();if(0===Je.length)this.urlWithParams=ie;else{const tt=ie.indexOf("?");this.urlWithParams=ie+(-1===tt?"?":tt<ie.length-1?"&":"")+Je}}else this.params=new he,this.urlWithParams=ie}serializeBody(){return null===this.body?null:$e(this.body)||He(this.body)||et(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof he?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||et(this.body)?null:He(this.body)?this.body.type||null:$e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof he?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(K={}){var ie;const Le=K.method||this.method,Ve=K.url||this.url,rt=K.responseType||this.responseType,Je=void 0!==K.body?K.body:this.body,tt=void 0!==K.withCredentials?K.withCredentials:this.withCredentials,Rt=void 0!==K.reportProgress?K.reportProgress:this.reportProgress;let Hn=K.headers||this.headers,on=K.params||this.params;const Ot=null!==(ie=K.context)&&void 0!==ie?ie:this.context;return void 0!==K.setHeaders&&(Hn=Object.keys(K.setHeaders).reduce((Ln,ot)=>Ln.set(ot,K.setHeaders[ot]),Hn)),K.setParams&&(on=Object.keys(K.setParams).reduce((Ln,ot)=>Ln.set(ot,K.setParams[ot]),on)),new Nt(Le,Ve,Je,{params:on,headers:Hn,context:Ot,reportProgress:Rt,responseType:rt,withCredentials:tt})}}var kt=(()=>((kt=kt||{})[kt.Sent=0]="Sent",kt[kt.UploadProgress=1]="UploadProgress",kt[kt.ResponseHeader=2]="ResponseHeader",kt[kt.DownloadProgress=3]="DownloadProgress",kt[kt.Response=4]="Response",kt[kt.User=5]="User",kt))();class At{constructor(K,ie=200,Le="OK"){this.headers=K.headers||new z,this.status=void 0!==K.status?K.status:ie,this.statusText=K.statusText||Le,this.url=K.url||null,this.ok=this.status>=200&&this.status<300}}class Vt extends At{constructor(K={}){super(K),this.type=kt.ResponseHeader}clone(K={}){return new Vt({headers:K.headers||this.headers,status:void 0!==K.status?K.status:this.status,statusText:K.statusText||this.statusText,url:K.url||this.url||void 0})}}class Dt extends At{constructor(K={}){super(K),this.type=kt.Response,this.body=void 0!==K.body?K.body:null}clone(K={}){return new Dt({body:void 0!==K.body?K.body:this.body,headers:K.headers||this.headers,status:void 0!==K.status?K.status:this.status,statusText:K.statusText||this.statusText,url:K.url||this.url||void 0})}}class wt extends At{constructor(K){super(K,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${K.url||"(unknown url)"}`:`Http failure response for ${K.url||"(unknown url)"}: ${K.status} ${K.statusText}`,this.error=K.error||null}}function Ht(ve,K){return{body:K,headers:ve.headers,context:ve.context,observe:ve.observe,params:ve.params,reportProgress:ve.reportProgress,responseType:ve.responseType,withCredentials:ve.withCredentials}}let ft=(()=>{class ve{constructor(ie){this.handler=ie}request(ie,Le,Ve={}){let rt;if(ie instanceof Nt)rt=ie;else{let Rt,Hn;Rt=Ve.headers instanceof z?Ve.headers:new z(Ve.headers),Ve.params&&(Hn=Ve.params instanceof he?Ve.params:new he({fromObject:Ve.params})),rt=new Nt(ie,Le,void 0!==Ve.body?Ve.body:null,{headers:Rt,context:Ve.context,params:Hn,reportProgress:Ve.reportProgress,responseType:Ve.responseType||"json",withCredentials:Ve.withCredentials})}const Je=(0,W.of)(rt).pipe((0,le.b)(Rt=>this.handler.handle(Rt)));if(ie instanceof Nt||"events"===Ve.observe)return Je;const tt=Je.pipe((0,ae.h)(Rt=>Rt instanceof Dt));switch(Ve.observe||"body"){case"body":switch(rt.responseType){case"arraybuffer":return tt.pipe((0,_e.U)(Rt=>{if(null!==Rt.body&&!(Rt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Rt.body}));case"blob":return tt.pipe((0,_e.U)(Rt=>{if(null!==Rt.body&&!(Rt.body instanceof Blob))throw new Error("Response is not a Blob.");return Rt.body}));case"text":return tt.pipe((0,_e.U)(Rt=>{if(null!==Rt.body&&"string"!=typeof Rt.body)throw new Error("Response is not a string.");return Rt.body}));case"json":default:return tt.pipe((0,_e.U)(Rt=>Rt.body))}case"response":return tt;default:throw new Error(`Unreachable: unhandled observe type ${Ve.observe}}`)}}delete(ie,Le={}){return this.request("DELETE",ie,Le)}get(ie,Le={}){return this.request("GET",ie,Le)}head(ie,Le={}){return this.request("HEAD",ie,Le)}jsonp(ie,Le){return this.request("JSONP",ie,{params:(new he).append(Le,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ie,Le={}){return this.request("OPTIONS",ie,Le)}patch(ie,Le,Ve={}){return this.request("PATCH",ie,Ht(Ve,Le))}post(ie,Le,Ve={}){return this.request("POST",ie,Ht(Ve,Le))}put(ie,Le,Ve={}){return this.request("PUT",ie,Ht(Ve,Le))}}return ve.\u0275fac=function(ie){return new(ie||ve)(x.LFG(oe))},ve.\u0275prov=x.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class sr{constructor(K,ie){this.next=K,this.interceptor=ie}handle(K){return this.interceptor.intercept(K,this.next)}}const pi=new x.OlP("HTTP_INTERCEPTORS");let Ai=(()=>{class ve{intercept(ie,Le){return Le.handle(ie)}}return ve.\u0275fac=function(ie){return new(ie||ve)},ve.\u0275prov=x.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const Et=/^\)\]\}',?\n/;let Si=(()=>{class ve{constructor(ie){this.xhrFactory=ie}handle(ie){if("JSONP"===ie.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new me.y(Le=>{const Ve=this.xhrFactory.build();if(Ve.open(ie.method,ie.urlWithParams),ie.withCredentials&&(Ve.withCredentials=!0),ie.headers.forEach((ot,X)=>Ve.setRequestHeader(ot,X.join(","))),ie.headers.has("Accept")||Ve.setRequestHeader("Accept","application/json, text/plain, */*"),!ie.headers.has("Content-Type")){const ot=ie.detectContentTypeHeader();null!==ot&&Ve.setRequestHeader("Content-Type",ot)}if(ie.responseType){const ot=ie.responseType.toLowerCase();Ve.responseType="json"!==ot?ot:"text"}const rt=ie.serializeBody();let Je=null;const tt=()=>{if(null!==Je)return Je;const ot=1223===Ve.status?204:Ve.status,X=Ve.statusText||"OK",re=new z(Ve.getAllResponseHeaders()),ee=function(ve){return"responseURL"in ve&&ve.responseURL?ve.responseURL:/^X-Request-URL:/m.test(ve.getAllResponseHeaders())?ve.getResponseHeader("X-Request-URL"):null}(Ve)||ie.url;return Je=new Vt({headers:re,status:ot,statusText:X,url:ee}),Je},Rt=()=>{let{headers:ot,status:X,statusText:re,url:ee}=tt(),Pe=null;204!==X&&(Pe=void 0===Ve.response?Ve.responseText:Ve.response),0===X&&(X=Pe?200:0);let Ee=X>=200&&X<300;if("json"===ie.responseType&&"string"==typeof Pe){const ut=Pe;Pe=Pe.replace(Et,"");try{Pe=""!==Pe?JSON.parse(Pe):null}catch(at){Pe=ut,Ee&&(Ee=!1,Pe={error:at,text:Pe})}}Ee?(Le.next(new Dt({body:Pe,headers:ot,status:X,statusText:re,url:ee||void 0})),Le.complete()):Le.error(new wt({error:Pe,headers:ot,status:X,statusText:re,url:ee||void 0}))},Hn=ot=>{const{url:X}=tt(),re=new wt({error:ot,status:Ve.status||0,statusText:Ve.statusText||"Unknown Error",url:X||void 0});Le.error(re)};let on=!1;const Ot=ot=>{on||(Le.next(tt()),on=!0);let X={type:kt.DownloadProgress,loaded:ot.loaded};ot.lengthComputable&&(X.total=ot.total),"text"===ie.responseType&&!!Ve.responseText&&(X.partialText=Ve.responseText),Le.next(X)},Ln=ot=>{let X={type:kt.UploadProgress,loaded:ot.loaded};ot.lengthComputable&&(X.total=ot.total),Le.next(X)};return Ve.addEventListener("load",Rt),Ve.addEventListener("error",Hn),Ve.addEventListener("timeout",Hn),Ve.addEventListener("abort",Hn),ie.reportProgress&&(Ve.addEventListener("progress",Ot),null!==rt&&Ve.upload&&Ve.upload.addEventListener("progress",Ln)),Ve.send(rt),Le.next({type:kt.Sent}),()=>{Ve.removeEventListener("error",Hn),Ve.removeEventListener("abort",Hn),Ve.removeEventListener("load",Rt),Ve.removeEventListener("timeout",Hn),ie.reportProgress&&(Ve.removeEventListener("progress",Ot),null!==rt&&Ve.upload&&Ve.upload.removeEventListener("progress",Ln)),Ve.readyState!==Ve.DONE&&Ve.abort()}})}}return ve.\u0275fac=function(ie){return new(ie||ve)(x.LFG(A.JF))},ve.\u0275prov=x.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const en=new x.OlP("XSRF_COOKIE_NAME"),Pt=new x.OlP("XSRF_HEADER_NAME");class Ri{}let Qn=(()=>{class ve{constructor(ie,Le,Ve){this.doc=ie,this.platform=Le,this.cookieName=Ve,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ie=this.doc.cookie||"";return ie!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,A.Mx)(ie,this.cookieName),this.lastCookieString=ie),this.lastToken}}return ve.\u0275fac=function(ie){return new(ie||ve)(x.LFG(A.K0),x.LFG(x.Lbi),x.LFG(en))},ve.\u0275prov=x.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),ln=(()=>{class ve{constructor(ie,Le){this.tokenService=ie,this.headerName=Le}intercept(ie,Le){const Ve=ie.url.toLowerCase();if("GET"===ie.method||"HEAD"===ie.method||Ve.startsWith("http://")||Ve.startsWith("https://"))return Le.handle(ie);const rt=this.tokenService.getToken();return null!==rt&&!ie.headers.has(this.headerName)&&(ie=ie.clone({headers:ie.headers.set(this.headerName,rt)})),Le.handle(ie)}}return ve.\u0275fac=function(ie){return new(ie||ve)(x.LFG(Ri),x.LFG(Pt))},ve.\u0275prov=x.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),Fe=(()=>{class ve{constructor(ie,Le){this.backend=ie,this.injector=Le,this.chain=null}handle(ie){if(null===this.chain){const Le=this.injector.get(pi,[]);this.chain=Le.reduceRight((Ve,rt)=>new sr(Ve,rt),this.backend)}return this.chain.handle(ie)}}return ve.\u0275fac=function(ie){return new(ie||ve)(x.LFG(ce),x.LFG(x.zs3))},ve.\u0275prov=x.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),Jn=(()=>{class ve{static disable(){return{ngModule:ve,providers:[{provide:ln,useClass:Ai}]}}static withOptions(ie={}){return{ngModule:ve,providers:[ie.cookieName?{provide:en,useValue:ie.cookieName}:[],ie.headerName?{provide:Pt,useValue:ie.headerName}:[]]}}}return ve.\u0275fac=function(ie){return new(ie||ve)},ve.\u0275mod=x.oAB({type:ve}),ve.\u0275inj=x.cJS({providers:[ln,{provide:pi,useExisting:ln,multi:!0},{provide:Ri,useClass:Qn},{provide:en,useValue:"XSRF-TOKEN"},{provide:Pt,useValue:"X-XSRF-TOKEN"}]}),ve})(),zt=(()=>{class ve{}return ve.\u0275fac=function(ie){return new(ie||ve)},ve.\u0275mod=x.oAB({type:ve}),ve.\u0275inj=x.cJS({providers:[ft,{provide:oe,useClass:Fe},Si,{provide:ce,useExisting:Si}],imports:[[Jn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ve})()},3018:(dt,Re,U)=>{"use strict";U.d(Re,{deG:()=>hh,tb:()=>RC,AFp:()=>TC,ip1:()=>CI,CZH:()=>dg,hGG:()=>aS,z2F:()=>$y,sBO:()=>zw,Sil:()=>By,_Vd:()=>uh,EJc:()=>NC,SBq:()=>Da,qLn:()=>hc,vpe:()=>Rl,gxx:()=>sl,tBr:()=>Du,XFs:()=>K,OlP:()=>jn,zs3:()=>Ir,ZZ4:()=>vf,aQg:()=>Ef,soG:()=>VE,YKP:()=>Qw,v3s:()=>jA,h0i:()=>gd,PXZ:()=>OA,R0b:()=>tu,FiY:()=>Wo,Lbi:()=>SC,g9A:()=>AC,Qsj:()=>Vw,FYo:()=>_f,JOm:()=>F,Tiy:()=>yy,q3G:()=>$t,tp0:()=>$a,EAV:()=>WA,Rgc:()=>sg,dDg:()=>kC,DyG:()=>Iu,q4F:()=>_y,GfV:()=>wE,s_b:()=>Ay,ifc:()=>Ot,eFA:()=>jC,G48:()=>AA,Gpc:()=>Me,X6Q:()=>NI,_c5:()=>eS,VLi:()=>TA,c2e:()=>xC,zSh:()=>vc,wAp:()=>Lt,vHH:()=>xe,EiD:()=>Kc,mCW:()=>wr,qzn:()=>xr,JVY:()=>Ih,pB0:()=>Pn,eBb:()=>Mf,L6k:()=>ac,LAX:()=>Ul,cg1:()=>Xm,Tjo:()=>JA,kL8:()=>zv,yhl:()=>rn,dqk:()=>ee,sIi:()=>nf,CqO:()=>Ia,QGY:()=>pr,F4k:()=>ps,RDi:()=>R,AaK:()=>pe,z3N:()=>pa,qOj:()=>lm,TTD:()=>mo,_Bn:()=>hy,xp6:()=>h_,uIk:()=>of,ekj:()=>Um,Suo:()=>iC,Xpm:()=>js,lG2:()=>No,Yz7:()=>Pt,cJS:()=>Qn,oAB:()=>uo,Yjl:()=>Nr,Y36:()=>af,_UZ:()=>Rm,qZA:()=>Pp,TgZ:()=>Mp,EpF:()=>pv,n5z:()=>nn,Ikx:()=>Jm,LFG:()=>Sr,$8M:()=>yn,NdJ:()=>Op,CRH:()=>sC,oxw:()=>Fp,ALo:()=>Xb,xi3:()=>eC,Q6J:()=>pl,iGM:()=>rC,CHM:()=>ou,LSH:()=>Ha,kYT:()=>Vr,YNc:()=>Cp,_uU:()=>zm,Oqu:()=>Bp,hij:()=>vl});var A=U(9765),x=U(5319),W=U(7574),me=U(6682),le=U(2441);var oe=U(1307);function ce(){return new A.xQ}function q(t){for(let n in t)if(t[n]===q)return n;throw Error("Could not find renamed property on target object.")}function fe(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function be(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ue=q({__forward_ref__:q});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return pe(this())},t}function he(t){return ke(t)?t():t}function ke(t){return"function"==typeof t&&t.hasOwnProperty(Ue)&&t.__forward_ref__===Me}class xe extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function et(t){return"string"==typeof t?t:null==t?"":String(t)}function Xt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():et(t)}function Vt(t,n){const s=n?` in ${n}`:"";throw new xe("201",`No provider for ${Xt(t)} found${s}`)}function Fn(t,n){null==t&&function(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ln(t){return Fe(t,zt)||Fe(t,es)}function Fe(t,n){return t.hasOwnProperty(n)?t[n]:null}function Jn(t){return t&&(t.hasOwnProperty(or)||t.hasOwnProperty(ve))?t[or]:null}const zt=q({\u0275prov:q}),or=q({\u0275inj:q}),es=q({ngInjectableDef:q}),ve=q({ngInjectorDef:q});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let ie;function Ve(t){const n=ie;return ie=t,n}function rt(t,n,s){const a=ln(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&K.Optional?null:void 0!==n?n:void Vt(pe(t),"Injector")}function tt(t){return{toString:t}.toString()}var Rt=(()=>((Rt=Rt||{})[Rt.OnPush=0]="OnPush",Rt[Rt.Default=1]="Default",Rt))(),Ot=(()=>((Ot=Ot||{})[Ot.Emulated=0]="Emulated",Ot[Ot.None=2]="None",Ot[Ot.ShadowDom=3]="ShadowDom",Ot))();const Ln="undefined"!=typeof globalThis&&globalThis,ot="undefined"!=typeof window&&window,X="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ee=Ln||"undefined"!=typeof global&&global||ot||X,ut={},at=[],tn=q({\u0275cmp:q}),ar=q({\u0275dir:q}),Vn=q({\u0275pipe:q}),qr=q({\u0275mod:q}),fn=q({\u0275loc:q}),Kt=q({\u0275fac:q}),ur=q({__NG_ELEMENT_ID__:q});let Ta=0;function js(t){return tt(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Rt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||at,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,id:"c",styles:t.styles||at,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,l=t.features,p=t.pipes;return a.id+=Ta++,a.inputs=Bs(t.inputs,s),a.outputs=Bs(t.outputs),l&&l.forEach(m=>m(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(ys):null,a.pipeDefs=p?()=>("function"==typeof p?p():p).map(nu):null,a})}function ys(t){return It(t)||function(t){return t[ar]||null}(t)}function nu(t){return function(t){return t[Vn]||null}(t)}const gi={};function uo(t){return tt(()=>{const n={type:t.type,bootstrap:t.bootstrap||at,declarations:t.declarations||at,imports:t.imports||at,exports:t.exports||at,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(gi[t.id]=t.type),n})}function Vr(t,n){return tt(()=>{const s=Xn(t,!0);s.declarations=n.declarations||at,s.imports=n.imports||at,s.exports=n.exports||at})}function Bs(t,n){if(null==t)return ut;const s={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],l=u;Array.isArray(u)&&(l=u[1],u=u[0]),s[u]=a,n&&(n[u]=l)}return s}const No=js;function Nr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function It(t){return t[tn]||null}function Xn(t,n){const s=t[qr]||null;if(!s&&!0===n)throw new Error(`Type ${pe(t)} does not have '\u0275mod' property.`);return s}function ii(t){return Array.isArray(t)&&"object"==typeof t[1]}function nr(t){return Array.isArray(t)&&!0===t[1]}function Ni(t){return 0!=(8&t.flags)}function Oe(t){return 2==(2&t.flags)}function Yr(t){return 1==(1&t.flags)}function Mr(t){return null!==t.template}function yi(t){return 0!=(512&t[2])}function Wn(t,n){return t.hasOwnProperty(Kt)?t[Kt]:null}class _i{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function mo(){return Gs}function Gs(t){return t.type.prototype.ngOnChanges&&(t.setInput=jr),ia}function ia(){const t=xn(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===ut)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function jr(t,n,s,a){const u=xn(t)||function(t,n){return t[zs]=n}(t,{previous:ut,current:null}),l=u.current||(u.current={}),p=u.previous,m=this.declaredInputs[s],w=p[m];l[m]=new _i(w&&w.currentValue,n,p===ut),t[a]=n}mo.ngInherit=!0;const zs="__ngSimpleChanges__";function xn(t){return t[zs]||null}let L;function R(t){L=t}function we(t){return!!t.listen}const mt={createRenderer:(t,n)=>void 0!==L?L:"undefined"!=typeof document?document:void 0};function yt(t){for(;Array.isArray(t);)t=t[0];return t}function bn(t,n){return yt(n[t])}function qt(t,n){return yt(n[t.index])}function Mi(t,n){return t.data[n]}function Un(t,n){const s=n[t];return ii(s)?s:s[0]}function zi(t){return 4==(4&t[2])}function Ds(t){return 128==(128&t[2])}function Br(t,n){return null==n?null:t[n]}function yo(t){t[18]=0}function Ks(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const xt={lFrame:pu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fo(){return xt.bindingsEnabled}function Be(){return xt.lFrame.lView}function un(){return xt.lFrame.tView}function ou(t){return xt.lFrame.contextLView=t,t[8]}function Gn(){let t=Na();for(;null!==t&&64===t.type;)t=t.parent;return t}function Na(){return xt.lFrame.currentTNode}function Oi(t,n){const s=xt.lFrame;s.currentTNode=t,s.isParent=n}function Ma(){return xt.lFrame.isParent}function zn(){return xt.isInCheckNoChangesMode}function Kn(t){xt.isInCheckNoChangesMode=t}function Eo(){return xt.lFrame.bindingIndex++}function cu(t,n){const s=xt.lFrame;s.bindingIndex=s.bindingRootIndex=t,lu(n)}function lu(t){xt.lFrame.currentDirectiveIndex=t}function du(){return xt.lFrame.currentQueryIndex}function hu(t){xt.lFrame.currentQueryIndex=t}function Oa(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function sa(t,n,s){if(s&K.SkipSelf){let u=n,l=t;for(;!(u=u.parent,null!==u||s&K.Host||(u=Oa(l),null===u||(l=l[15],10&u.type))););if(null===u)return!1;n=u,t=l}const a=xt.lFrame=fu();return a.currentTNode=n,a.lView=t,!0}function is(t){const n=fu(),s=t[1];xt.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function fu(){const t=xt.lFrame,n=null===t?null:t.child;return null===n?pu(t):n}function pu(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Io(){const t=xt.lFrame;return xt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const xc=Io;function oa(){const t=Io();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ei(){return xt.lFrame.selectedIndex}function ki(t){xt.lFrame.selectedIndex=t}function Mn(){const t=xt.lFrame;return Mi(t.tView,t.selectedIndex)}function Co(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const l=t.data[s].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:w,ngAfterViewChecked:D,ngOnDestroy:k}=l;p&&(t.contentHooks||(t.contentHooks=[])).push(-s,p),m&&((t.contentHooks||(t.contentHooks=[])).push(s,m),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,m)),w&&(t.viewHooks||(t.viewHooks=[])).push(-s,w),D&&((t.viewHooks||(t.viewHooks=[])).push(s,D),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,D)),null!=k&&(t.destroyHooks||(t.destroyHooks=[])).push(s,k)}}function aa(t,n,s){ss(t,n,3,s)}function lr(t,n,s,a){(3&t[2])===s&&ss(t,n,s,a)}function ua(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function ss(t,n,s,a){const l=null!=a?a:-1,p=n.length-1;let m=0;for(let w=void 0!==a?65535&t[18]:0;w<p;w++)if("number"==typeof n[w+1]){if(m=n[w],null!=a&&m>=a)break}else n[w]<0&&(t[18]+=65536),(m<l||-1==l)&&(dr(t,s,n,w),t[18]=(4294901760&t[18])+w+2),w++}function dr(t,n,s,a){const u=s[a]<0,l=s[a+1],m=t[u?-s[a]:s[a]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{l.call(m)}finally{}}}else try{l.call(m)}finally{}}class Ts{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function vu(t,n,s){const a=we(t);let u=0;for(;u<s.length;){const l=s[u];if("number"==typeof l){if(0!==l)break;u++;const p=s[u++],m=s[u++],w=s[u++];a?t.setAttribute(n,m,w,p):n.setAttributeNS(p,m,w)}else{const p=l,m=s[++u];Do(p)?a&&t.setProperty(n,p,m):a?t.setAttribute(n,p,m):n.setAttribute(p,m),u++}}return u}function Eu(t){return 3===t||4===t||6===t}function Do(t){return 64===t.charCodeAt(0)}function $r(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?s=u:0===s||ca(t,s,u,null,-1===s||2===s?n[++a]:null)}}return t}function ca(t,n,s,a,u){let l=0,p=t.length;if(-1===n)p=-1;else for(;l<t.length;){const m=t[l++];if("number"==typeof m){if(m===n){p=-1;break}if(m>n){p=l-1;break}}}for(;l<t.length;){const m=t[l];if("number"==typeof m)break;if(m===s){if(null===a)return void(null!==u&&(t[l+1]=u));if(a===t[l+1])return void(t[l+2]=u)}l++,null!==a&&l++,null!==u&&l++}-1!==p&&(t.splice(p,0,n),l=p+1),t.splice(l++,0,s),null!==a&&t.splice(l++,0,a),null!==u&&t.splice(l++,0,u)}function os(t){return-1!==t}function To(t){return 32767&t}function la(t,n){let s=function(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let Ys=!0;function Qs(t){const n=Ys;return Ys=t,n}let qi=0;function Ao(t,n){const s=us(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,As(a.data,t),As(n,null),As(a.blueprint,null));const u=Ss(t,n),l=t.injectorIndex;if(os(u)){const p=To(u),m=la(u,n),w=m[1].data;for(let D=0;D<8;D++)n[l+D]=m[p+D]|w[p+D]}return n[l+8]=u,l}function As(t,n){t.push(0,0,0,0,0,0,0,0,n)}function us(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ss(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,u=n;for(;null!==u;){const l=u[1],p=l.type;if(a=2===p?l.declTNode:1===p?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Qr(t,n,s){!function(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ur)&&(a=s[ur]),null==a&&(a=s[ur]=qi++);const u=255&a;n.data[t+(u>>5)]|=1<<u}(t,n,s)}function Bo(t,n,s){if(s&K.Optional)return t;Vt(n,"NodeInjector")}function Fi(t,n,s,a){if(s&K.Optional&&void 0===a&&(a=null),0==(s&(K.Self|K.Host))){const u=t[9],l=Ve(void 0);try{return u?u.get(n,a,s&K.Optional):rt(n,a,s&K.Optional)}finally{Ve(l)}}return Bo(a,n,s)}function I(t,n,s,a=K.Default,u){if(null!==t){const l=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ur)?t[ur]:void 0;return"number"==typeof n?n>=0?255&n:_:n}(s);if("function"==typeof l){if(!sa(n,t,a))return a&K.Host?Bo(u,s,a):Fi(n,s,a,u);try{const p=l(a);if(null!=p||a&K.Optional)return p;Vt(s)}finally{xc()}}else if("number"==typeof l){let p=null,m=us(t,n),w=-1,D=a&K.Host?n[16][6]:null;for((-1===m||a&K.SkipSelf)&&(w=-1===m?Ss(t,n):n[m+8],-1!==w&&Ne(a,!1)?(p=n[1],m=To(w),n=la(w,n)):m=-1);-1!==m;){const k=n[1];if(se(l,m,k.data)){const $=T(m,n,s,p,a,D);if($!==E)return $}w=n[m+8],-1!==w&&Ne(a,n[1].data[m+8]===D)&&se(l,m,n)?(p=k,m=To(w),n=la(w,n)):m=-1}}}return Fi(n,s,a,u)}const E={};function _(){return new st(Gn(),Be())}function T(t,n,s,a,u,l){const p=n[1],m=p.data[t+8],k=P(m,p,s,null==a?Oe(m)&&Ys:a!=p&&0!=(3&m.type),u&K.Host&&l===m);return null!==k?V(n,p,k,m):E}function P(t,n,s,a,u){const l=t.providerIndexes,p=n.data,m=1048575&l,w=t.directiveStart,k=l>>20,G=u?m+k:t.directiveEnd;for(let J=a?m:m+k;J<G;J++){const de=p[J];if(J<w&&s===de||J>=w&&de.type===s)return J}if(u){const J=p[w];if(J&&Mr(J)&&J.type===s)return w}return null}function V(t,n,s,a){let u=t[s];const l=n.data;if(function(t){return t instanceof Ts}(u)){const p=u;p.resolving&&function(t,n){throw new xe("200",`Circular dependency in DI detected for ${t}`)}(Xt(l[s]));const m=Qs(p.canSeeViewProviders);p.resolving=!0;const w=p.injectImpl?Ve(p.injectImpl):null;sa(t,a,K.Default);try{u=t[s]=p.factory(void 0,l,t,a),n.firstCreatePass&&s>=a.directiveStart&&function(t,n,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:l}=n.type.prototype;if(a){const p=Gs(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,p)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,u),l&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,l),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,l))}(s,l[s],n)}finally{null!==w&&Ve(w),Qs(m),p.resolving=!1,xc()}}return u}function se(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Ne(t,n){return!(t&K.Self||t&K.Host&&n)}class st{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return I(this._tNode,this._lView,n,a,s)}}function nn(t){return tt(()=>{const n=t.prototype.constructor,s=n[Kt]||Tt(n),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const l=u[Kt]||Tt(u);if(l&&l!==s)return l;u=Object.getPrototypeOf(u)}return l=>new l})}function Tt(t){return ke(t)?()=>{const n=Tt(he(t));return n&&n()}:Wn(t)}function yn(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const l=s[u];if(Eu(l))break;if(0===l)u+=2;else if("number"==typeof l)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(l===n)return s[u+1];u+=2}}}return null}(Gn(),t)}const ai="__parameters__";function wi(t,n,s){return tt(()=>{const a=function(t){return function(...s){if(t){const a=t(...s);for(const u in a)this[u]=a[u]}}}(n);function u(...l){if(this instanceof u)return a.apply(this,l),this;const p=new u(...l);return m.annotation=p,m;function m(w,D,k){const $=w.hasOwnProperty(ai)?w[ai]:Object.defineProperty(w,ai,{value:[]})[ai];for(;$.length<=k;)$.push(null);return($[k]=$[k]||[]).push(p),w}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}class jn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Pt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hh=new jn("AnalyzeForEntryComponents"),Iu=Function;function xs(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),xs(a,n)):n!==t&&n.push(a)}return n}function Sn(t,n){t.forEach(s=>Array.isArray(s)?Sn(s,n):n(s))}function Xs(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Ba(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function C(t,n,s){let a=j(t,n);return a>=0?t[1|a]=s:(a=~a,function(t,n,s,a){let u=t.length;if(u==n)t.push(s,a);else if(1===u)t.push(a,t[0]),t[0]=s;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function N(t,n){const s=j(t,n);if(s>=0)return t[1|s]}function j(t,n){return function(t,n,s){let a=0,u=t.length>>s;for(;u!==a;){const l=a+(u-a>>1),p=t[l<<s];if(n===p)return l<<s;p>n?u=l:a=l+1}return~(u<<s)}(t,n,1)}const Ns={},da="__NG_DI_FLAG__",eo="ngTempTokenPath",ha=/\n/gm,Cu="__source",nc=q({provide:String,useValue:q});let Ho;function rc(t){const n=Ho;return Ho=t,n}function _d(t,n=K.Default){if(void 0===Ho)throw new Error("inject() must be called from an injection context");return null===Ho?rt(t,void 0,n):Ho.get(t,n&K.Optional?null:void 0,n)}function Sr(t,n=K.Default){return(ie||_d)(he(t),n)}function Jr(t){const n=[];for(let s=0;s<t.length;s++){const a=he(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let u,l=K.Default;for(let p=0;p<a.length;p++){const m=a[p],w=Rf(m);"number"==typeof w?-1===w?u=m.token:l|=w:u=m}n.push(Sr(u,l))}else n.push(Sr(a))}return n}function ic(t,n){return t[da]=n,t.prototype[da]=n,t}function Rf(t){return t[da]}function sc(t,n,s,a){const u=t[eo];throw n[Cu]&&u.unshift(n[Cu]),t.message=function(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=pe(n);if(Array.isArray(n))u=n.map(pe).join(" -> ");else if("object"==typeof n){let l=[];for(let p in n)if(n.hasOwnProperty(p)){let m=n[p];l.push(p+":"+("string"==typeof m?JSON.stringify(m):pe(m)))}u=`{${l.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${t.replace(ha,"\n  ")}`}("\n"+t.message,u,s,a),t.ngTokenPath=u,t[eo]=null,t}const Du=ic(wi("Inject",t=>({token:t})),-1),Wo=ic(wi("Optional"),8),$a=ic(wi("SkipSelf"),4);let Ae;function Rr(t){var n;return(null===(n=function(){if(void 0===Ae&&(Ae=null,ee.trustedTypes))try{Ae=ee.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Ae}())||void 0===n?void 0:n.createHTML(t))||t}class Bc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class no extends Bc{getTypeName(){return"HTML"}}class Eg extends Bc{getTypeName(){return"Style"}}class bd extends Bc{getTypeName(){return"Script"}}class _n extends Bc{getTypeName(){return"URL"}}class $c extends Bc{getTypeName(){return"ResourceURL"}}function pa(t){return t instanceof Bc?t.changingThisBreaksApplicationSecurity:t}function xr(t,n){const s=rn(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}function rn(t){return t instanceof Bc&&t.getTypeName()||null}function Ih(t){return new no(t)}function ac(t){return new Eg(t)}function Mf(t){return new bd(t)}function Ul(t){return new _n(t)}function Pn(t){return new $c(t)}class Li{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(Rr(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Su{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(n){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Rr(n),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Rr(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const s=n.attributes;for(let u=s.length-1;0<u;u--){const p=s.item(u).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&n.removeAttribute(p)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const di=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ga=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wr(t){return(t=String(t)).match(di)||t.match(ga)?t:"unsafe:"+t}function ro(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function Hc(...t){const n={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(n[a]=!0);return n}const Wc=ro("area,br,col,hr,img,wbr"),xu=ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dd=ro("rp,rt"),Ms=Hc(Wc,Hc(xu,ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hc(Dd,ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hc(Dd,xu)),cc=ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ma=ro("srcset"),zc=Hc(cc,ma,ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ro("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Td=ro("script,style,template");class bh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Ms.hasOwnProperty(s))return this.sanitizedSomething=!0,!Td.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=n.attributes;for(let u=0;u<a.length;u++){const l=a.item(u),p=l.name,m=p.toLowerCase();if(!zc.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let w=l.value;cc[m]&&(w=wr(w)),ma[m]&&(t=w,w=(t=String(t)).split(",").map(n=>wr(n.trim())).join(", ")),this.buf.push(" ",p,'="',Ch(w),'"')}var t;return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Ms.hasOwnProperty(s)&&!Wc.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(Ch(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const jl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Of=/([^\#-~ |!])/g;function Ch(t){return t.replace(/&/g,"&amp;").replace(jl,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Of,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lc;function Kc(t,n){let s=null;try{lc=lc||function(t){const n=new Su(t);return function(){try{return!!(new window.DOMParser).parseFromString(Rr(""),"text/html")}catch(t){return!1}}()?new Li(n):n}(t);let a=n?String(n):"";s=lc.getInertBodyElement(a);let u=5,l=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=l,l=s.innerHTML,s=lc.getInertBodyElement(a)}while(a!==l);return Rr((new bh).sanitizeChildren(bi(s)||s))}finally{if(s){const a=bi(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function bi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var $t=(()=>(($t=$t||{})[$t.NONE=0]="NONE",$t[$t.HTML=1]="HTML",$t[$t.STYLE=2]="STYLE",$t[$t.SCRIPT=3]="SCRIPT",$t[$t.URL=4]="URL",$t[$t.RESOURCE_URL=5]="RESOURCE_URL",$t))();function Ha(t){const n=function(){const t=Be();return t&&t[12]}();return n?n.sanitize($t.URL,t)||"":xr(t,"URL")?pa(t):wr(et(t))}const Bl="__ngContext__";function ti(t,n){t[Bl]=n}function Nu(t){const n=function(t){return t[Bl]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function dc(t){return t.ngOriginalError}function za(t,...n){t.error(...n)}class hc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=this._findContext(n),u=(t=n)&&t.ngErrorLogger||za;var t;u(this._console,"ERROR",n),s&&u(this._console,"ORIGINAL ERROR",s),a&&u(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?n.ngDebugContext||this._findContext(dc(n)):null}_findOriginalError(n){let s=n&&dc(n);for(;s&&dc(s);)s=dc(s);return s||null}}const qa=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ee))();function g(t){return t instanceof Function?t():t}var F=(()=>((F=F||{})[F.Important=1]="Important",F[F.DashCase=2]="DashCase",F))();function Ie(t,n){return undefined(t,n)}function ht(t){const n=t[3];return nr(n)?n[3]:n}function Hr(t){return pc(t[13])}function Os(t){return pc(t[4])}function pc(t){for(;null!==t&&!nr(t);)t=t[4];return t}function ir(t,n,s,a,u){if(null!=a){let l,p=!1;nr(a)?l=a:ii(a)&&(p=!0,a=a[0]);const m=yt(a);0===t&&null!==s?null==u?Pd(n,s,m):Za(n,s,m,u||null,!0):1===t&&null!==s?Za(n,s,m,u||null,!0):2===t?function(t,n,s){const a=Ph(t,n);a&&function(t,n,s,a){we(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,m,p):3===t&&n.destroyNode(m),null!=l&&function(t,n,s,a,u){const l=s[7];l!==yt(s)&&ir(n,t,a,l,u);for(let m=10;m<s.length;m++){const w=s[m];Od(w[1],w,t,n,a,l)}}(n,t,l,s,u)}}function Fr(t,n,s){return we(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function Qy(t,n){const s=t[9],a=s.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,Ks(u,-1)),s.splice(a,1)}function xh(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const u=a[17];null!==u&&u!==t&&Qy(u,a),n>0&&(t[s-1][4]=a[4]);const l=Ba(t,10+n);!function(t,n){Od(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const p=l[19];null!==p&&p.detachView(l[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Jy(t,n){if(!(256&n[2])){const s=n[11];we(s)&&s.destroyNode&&Od(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return Gf(t[1],t);for(;n;){let s=null;if(ii(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)ii(n)&&Gf(n[1],n),n=n[3];null===n&&(n=t),ii(n)&&Gf(n[1],n),s=n&&n[4]}n=s}}(n)}}function Gf(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const u=n[s[a]];if(!(u instanceof Ts)){const l=s[a+1];if(Array.isArray(l))for(let p=0;p<l.length;p+=2){const m=u[l[p]],w=l[p+1];try{w.call(m)}finally{}}else try{l.call(u)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,a=n[7];let u=-1;if(null!==s)for(let l=0;l<s.length-1;l+=2)if("string"==typeof s[l]){const p=s[l+1],m="function"==typeof p?p(n):yt(n[p]),w=a[u=s[l+2]],D=s[l+3];"boolean"==typeof D?m.removeEventListener(s[l],w,D):D>=0?a[u=D]():a[u=-D].unsubscribe(),l+=2}else{const p=a[u=s[l+1]];s[l].call(p)}if(null!==a){for(let l=u+1;l<a.length;l++)a[l]();n[7]=null}}(t,n),1===n[1].type&&we(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&nr(n[3])){s!==n[3]&&Qy(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function Xy(t,n,s){return function(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const u=t.data[a.directiveStart].encapsulation;if(u===Ot.None||u===Ot.Emulated)return null}return qt(a,s)}(t,n.parent,s)}function Za(t,n,s,a,u){we(t)?t.insertBefore(n,s,a,u):n.insertBefore(s,a,u)}function Pd(t,n,s){we(t)?t.appendChild(n,s):n.appendChild(s)}function Mh(t,n,s,a,u){null!==a?Za(t,n,s,a,u):Pd(t,n,s)}function Ph(t,n){return we(t)?t.parentNode(n):n.parentNode}let xg=function(t,n,s){return 40&t.type?qt(t,s):null};function zf(t,n,s,a){const u=Xy(t,a,n),l=n[11],m=function(t,n,s){return xg(t,n,s)}(a.parent||n[6],a,n);if(null!=u)if(Array.isArray(s))for(let w=0;w<s.length;w++)Mh(l,u,s[w],m,!1);else Mh(l,u,s,m,!1)}function tl(t,n){if(null!==n){const s=n.type;if(3&s)return qt(n,t);if(4&s)return Pg(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return tl(t,a);{const u=t[n.index];return nr(u)?Pg(-1,u):yt(u)}}if(32&s)return Ie(n,t)()||yt(t[n.index]);{const a=Mg(t,n);return null!==a?Array.isArray(a)?a[0]:tl(ht(t[16]),a):tl(t,n.next)}}return null}function Mg(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Pg(t,n){const s=10+t+1;if(s<n.length){const a=n[s],u=a[1].firstChild;if(null!==u)return tl(a,u)}return n[7]}function Oh(t,n,s,a,u,l,p){for(;null!=s;){const m=a[s.index],w=s.type;if(p&&0===n&&(m&&ti(yt(m),a),s.flags|=4),64!=(64&s.flags))if(8&w)Oh(t,n,s.child,a,u,l,!1),ir(n,t,u,m,l);else if(32&w){const D=Ie(s,a);let k;for(;k=D();)ir(n,t,u,k,l);ir(n,t,u,m,l)}else 16&w?Ya(t,n,a,s,u,l):ir(n,t,u,m,l);s=p?s.projectionNext:s.next}}function Od(t,n,s,a,u,l){Oh(s,a,t.firstChild,n,u,l,!1)}function Ya(t,n,s,a,u,l){const p=s[16],w=p[6].projection[a.projection];if(Array.isArray(w))for(let D=0;D<w.length;D++)ir(n,t,u,w[D],l);else Oh(t,n,w,p[3],u,l,!0)}function kd(t,n,s){we(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function Kf(t,n,s){we(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function kg(t,n,s){let a=t.length;for(;;){const u=t.indexOf(n,s);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const l=n.length;if(u+l===a||t.charCodeAt(u+l)<=32)return u}s=u+1}}const s_="ng-template";function QE(t,n,s){let a=0;for(;a<t.length;){let u=t[a++];if(s&&"class"===u){if(u=t[a],-1!==kg(u.toLowerCase(),n,0))return!0}else if(1===u){for(;a<t.length&&"string"==typeof(u=t[a++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function Fh(t){return 4===t.type&&t.value!==s_}function o_(t,n,s){return n===(4!==t.type||s?t.value:s_)}function JE(t,n,s){let a=4;const u=t.attrs||[],l=function(t){for(let n=0;n<t.length;n++)if(Eu(t[n]))return n;return t.length}(u);let p=!1;for(let m=0;m<n.length;m++){const w=n[m];if("number"!=typeof w){if(!p)if(4&a){if(a=2|1&a,""!==w&&!o_(t,w,s)||""===w&&1===n.length){if(va(a))return!1;p=!0}}else{const D=8&a?w:n[++m];if(8&a&&null!==t.attrs){if(!QE(t.attrs,D,s)){if(va(a))return!1;p=!0}continue}const $=a_(8&a?"class":w,u,Fh(t),s);if(-1===$){if(va(a))return!1;p=!0;continue}if(""!==D){let G;G=$>l?"":u[$+1].toLowerCase();const J=8&a?G:null;if(J&&-1!==kg(J,D,0)||2&a&&D!==G){if(va(a))return!1;p=!0}}}}else{if(!p&&!va(a)&&!va(w))return!1;if(p&&va(w))continue;p=!1,a=w|1&a}}return va(a)||p}function va(t){return 0==(1&t)}function a_(t,n,s,a){if(null===n)return-1;let u=0;if(a||!s){let l=!1;for(;u<n.length;){const p=n[u];if(p===t)return u;if(3===p||6===p)l=!0;else{if(1===p||2===p){let m=n[++u];for(;"string"==typeof m;)m=n[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=l?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function Fg(t,n,s=!1){for(let a=0;a<n.length;a++)if(JE(t,n[a],s))return!0;return!1}function d_(t,n){return t?":not("+n.trim()+")":n}function e0(t){let n=t[0],s=1,a=2,u="",l=!1;for(;s<t.length;){let p=t[s];if("string"==typeof p)if(2&a){const m=t[++s];u+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&a?u+="."+p:4&a&&(u+=" "+p);else""!==u&&!va(p)&&(n+=d_(l,u),u=""),a=p,l=l||!va(a);s++}return""!==u&&(n+=d_(l,u)),n}const sn={};function h_(t){f_(un(),Be(),Ei()+t,zn())}function f_(t,n,s,a){if(!a)if(3==(3&n[2])){const l=t.preOrderCheckHooks;null!==l&&aa(n,l,s)}else{const l=t.preOrderHooks;null!==l&&lr(n,l,0,s)}ki(s)}function Lh(t,n){return t<<17|n<<2}function hi(t){return t>>17&32767}function Qa(t){return 2|t}function gc(t){return(131068&t)>>2}function so(t,n){return-131069&t|n<<2}function fr(t){return 1|t}function Ug(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],l=s[a+1];if(-1!==l){const p=t.data[l];hu(u),p.contentQueries(2,n[l],l)}}}function Yl(t,n,s,a,u,l,p,m,w,D){const k=n.blueprint.slice();return k[0]=u,k[2]=140|a,yo(k),k[3]=k[15]=t,k[8]=s,k[10]=p||t&&t[10],k[11]=m||t&&t[11],k[12]=w||t&&t[12]||null,k[9]=D||t&&t[9]||null,k[6]=l,k[16]=2==n.type?t[16]:k,k}function Hd(t,n,s,a,u){let l=t.data[n];if(null===l)l=function(t,n,s,a,u){const l=Na(),p=Ma(),w=t.data[n]=function(t,n,s,a,u,l){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?l:l&&l.parent,s,n,a,u);return null===t.firstChild&&(t.firstChild=w),null!==l&&(p?null==l.child&&null!==w.parent&&(l.child=w):null===l.next&&(l.next=w)),w}(t,n,s,a,u),xt.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=s,l.value=a,l.attrs=u;const p=function(){const t=xt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===p?-1:p.injectorIndex}return Oi(l,!0),l}function Ql(t,n,s,a){if(0===s)return-1;const u=n.length;for(let l=0;l<s;l++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function Yi(t,n,s){is(n);try{const a=t.viewQuery;null!==a&&zh(1,a,s);const u=t.template;null!==u&&tp(t,n,u,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ug(t,n),t.staticViewQueries&&zh(2,t.viewQuery,s);const l=t.components;null!==l&&function(t,n){for(let s=0;s<n.length;s++)Wd(t,n[s])}(n,l)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,oa()}}function Jl(t,n,s,a){const u=n[2];if(256==(256&u))return;is(n);const l=zn();try{yo(n),function(t){xt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&tp(t,n,s,2,a);const p=3==(3&u);if(!l)if(p){const D=t.preOrderCheckHooks;null!==D&&aa(n,D,null)}else{const D=t.preOrderHooks;null!==D&&lr(n,D,0,null),ua(n,0)}if(function(t){for(let n=Hr(t);null!==n;n=Os(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const u=s[a],l=u[3];0==(1024&u[2])&&Ks(l,1),u[2]|=1024}}}(n),function(t){for(let n=Hr(t);null!==n;n=Os(n))for(let s=10;s<n.length;s++){const a=n[s],u=a[1];Ds(a)&&Jl(u,a,u.template,a[8])}}(n),null!==t.contentQueries&&Ug(t,n),!l)if(p){const D=t.contentCheckHooks;null!==D&&aa(n,D)}else{const D=t.contentHooks;null!==D&&lr(n,D,1),ua(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)ki(~u);else{const l=u,p=s[++a],m=s[++a];cu(p,l),m(2,n[l])}}}finally{ki(-1)}}(t,n);const m=t.components;null!==m&&function(t,n){for(let s=0;s<n.length;s++)m0(t,n[s])}(n,m);const w=t.viewQuery;if(null!==w&&zh(2,w,a),!l)if(p){const D=t.viewCheckHooks;null!==D&&aa(n,D)}else{const D=t.viewHooks;null!==D&&lr(n,D,2),ua(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),l||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Ks(n[3],-1))}finally{oa()}}function ep(t,n,s,a){const u=n[10],l=!zn(),p=zi(n);try{l&&!p&&u.begin&&u.begin(),p&&Yi(t,n,a),Jl(t,n,s,a)}finally{l&&!p&&u.end&&u.end()}}function tp(t,n,s,a,u){const l=Ei(),p=2&a;try{ki(-1),p&&n.length>20&&f_(t,n,20,zn()),s(a,u)}finally{ki(l)}}function Vu(t,n,s){!Fo()||(function(t,n,s,a){const u=s.directiveStart,l=s.directiveEnd;t.firstCreatePass||Ao(s,n),ti(a,n);const p=s.initialInputs;for(let m=u;m<l;m++){const w=t.data[m],D=Mr(w);D&&C_(n,s,w);const k=V(n,t,m,s);ti(k,n),null!==p&&D_(0,m-u,k,w,0,p),D&&(Un(s.index,n)[8]=k)}}(t,n,s,qt(s,n)),128==(128&s.flags)&&function(t,n,s){const a=s.directiveStart,u=s.directiveEnd,p=s.index,m=xt.lFrame.currentDirectiveIndex;try{ki(p);for(let w=a;w<u;w++){const D=t.data[w],k=n[w];lu(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&rp(D,k)}}finally{ki(-1),lu(m)}}(t,n,s))}function nl(t,n,s=qt){const a=n.localNames;if(null!==a){let u=n.index+1;for(let l=0;l<a.length;l+=2){const p=a[l+1],m=-1===p?s(n,t):t[p];t[u++]=m}}}function Bg(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Uu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Uu(t,n,s,a,u,l,p,m,w,D){const k=20+a,$=k+u,G=function(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:sn);return s}(k,$),J="function"==typeof D?D():D;return G[1]={type:t,blueprint:G,template:s,queries:null,viewQuery:m,declTNode:n,data:G.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:w,consts:J,incompleteFirstPass:!1}}function rl(t,n,s,a){const u=ji(n);null===s?u.push(a):(u.push(s),t.firstCreatePass&&R_(t).push(a,u.length-1))}function Hg(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const u=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,u):s[a]=[n,u]}return s}function qo(t,n,s,a,u,l,p,m){const w=qt(n,s);let k,D=n.inputs;!m&&null!=D&&(k=D[a])?(M_(t,s,k,a,u),Oe(n)&&function(t,n){const s=Un(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=p?p(u,n.value||"",a):u,we(l)?l.setProperty(w,a,u):Do(a)||(w.setProperty?w.setProperty(a,u):w[a]=u))}function ju(t,n,s,a){let u=!1;if(Fo()){const l=function(t,n,s){const a=t.directiveRegistry;let u=null;if(a)for(let l=0;l<a.length;l++){const p=a[l];Fg(s,p.selectors,!1)&&(u||(u=[]),Qr(Ao(s,n),t,p.type),Mr(p)?(Wh(t,s),u.unshift(p)):u.push(p))}return u}(t,n,s),p=null===a?null:{"":-1};if(null!==l){u=!0,zg(s,t.data.length,l.length);for(let k=0;k<l.length;k++){const $=l[k];$.providersResolver&&$.providersResolver($)}let m=!1,w=!1,D=Ql(t,n,l.length,null);for(let k=0;k<l.length;k++){const $=l[k];s.mergedAttrs=$r(s.mergedAttrs,$.hostAttrs),ip(t,s,n,D,$),p0(D,$,p),null!==$.contentQueries&&(s.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(s.flags|=128);const G=$.type.prototype;!m&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),m=!0),!w&&(G.ngOnChanges||G.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),w=!0),D++}!function(t,n){const a=n.directiveEnd,u=t.data,l=n.attrs,p=[];let m=null,w=null;for(let D=n.directiveStart;D<a;D++){const k=u[D],$=k.inputs,G=null===l||Fh(n)?null:Kg($,l);p.push(G),m=Hg($,D,m),w=Hg(k.outputs,D,w)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=16),m.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=p,n.inputs=m,n.outputs=w}(t,s)}p&&function(t,n,s){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const l=s[n[u+1]];if(null==l)throw new xe("301",`Export of name '${n[u+1]}' not found!`);a.push(n[u],l)}}}(s,a,p)}return s.mergedAttrs=$r(s.mergedAttrs,s.attrs),u}function $h(t,n,s,a,u,l){const p=l.hostBindings;if(p){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const w=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(m)!=w&&m.push(w),m.push(a,u,p)}}function rp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Wh(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function p0(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;Mr(n)&&(s[""]=t)}}function zg(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function ip(t,n,s,a,u){t.data[a]=u;const l=u.factory||(u.factory=Wn(u.type)),p=new Ts(l,Mr(u),null);t.blueprint[a]=p,s[a]=p,$h(t,n,0,a,Ql(t,s,u.hostVars,sn),u)}function C_(t,n,s){const a=qt(n,t),u=Bg(s),l=t[10],p=ed(t,Yl(t,u,null,s.onPush?64:16,a,n,l,l.createRenderer(a,s),null,null));t[n.index]=p}function Bu(t,n,s,a,u,l){const p=qt(t,n);!function(t,n,s,a,u,l,p){if(null==l)we(t)?t.removeAttribute(n,u,s):n.removeAttribute(u);else{const m=null==p?et(l):p(l,a||"",u);we(t)?t.setAttribute(n,u,m,s):s?n.setAttributeNS(s,u,m):n.setAttribute(u,m)}}(n[11],p,l,t.value,s,a,u)}function D_(t,n,s,a,u,l){const p=l[n];if(null!==p){const m=a.setInput;for(let w=0;w<p.length;){const D=p[w++],k=p[w++],$=p[w++];null!==m?a.setInput(s,$,D,k):s[k]=$}}}function Kg(t,n){let s=null,a=0;for(;a<n.length;){const u=n[a];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,t[u],n[a+1])),a+=2}else a+=2;else a+=4}return s}function qg(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function m0(t,n){const s=Un(n,t);if(Ds(s)){const a=s[1];80&s[2]?Jl(a,s,a.template,s[8]):s[5]>0&&il(s)}}function il(t){for(let a=Hr(t);null!==a;a=Os(a))for(let u=10;u<a.length;u++){const l=a[u];if(1024&l[2]){const p=l[1];Jl(p,l,p.template,l[8])}else l[5]>0&&il(l)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Un(s[a],t);Ds(u)&&u[5]>0&&il(u)}}function Wd(t,n){const s=Un(n,t),a=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),Yi(a,s,s[8])}function ed(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function op(t){for(;t;){t[2]|=64;const n=ht(t);if(yi(t)&&!n)return t;t=n}return null}function Gh(t,n,s){const a=n[10];a.begin&&a.begin();try{Jl(t,n,t.template,s)}catch(u){throw N_(n,u),u}finally{a.end&&a.end()}}function S_(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=Nu(s),u=a[1];ep(u,a,u.template,s)}}(t[8])}function zh(t,n,s){hu(0),n(t,s)}const Jg=(()=>Promise.resolve(null))();function ji(t){return t[7]||(t[7]=[])}function R_(t){return t.cleanup||(t.cleanup=[])}function N_(t,n){const s=t[9],a=s?s.get(hc,null):null;a&&a.handleError(n)}function M_(t,n,s,a,u){for(let l=0;l<s.length;){const p=s[l++],m=s[l++],w=n[p],D=t.data[p];null!==D.setInput?D.setInput(w,u,a,m):w[m]=u}}function _c(t,n,s){const a=bn(n,t);!function(t,n,s){we(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function ap(t,n,s){let a=s?t.styles:null,u=s?t.classes:null,l=0;if(null!==n)for(let p=0;p<n.length;p++){const m=n[p];"number"==typeof m?l=m:1==l?u=be(u,m):2==l&&(a=be(a,m+": "+n[++p]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=u:t.classesWithoutHost=u}const sl=new jn("INJECTOR",-1);class Kh{get(n,s=Ns){if(s===Ns){const a=new Error(`NullInjectorError: No provider for ${pe(n)}!`);throw a.name="NullInjectorError",a}return s}}const vc=new jn("Set Injector scope."),ol={},em={};let qh;function up(){return void 0===qh&&(qh=new Kh),qh}function k_(t,n=null,s=null,a){return new F_(t,s,n||up(),a)}class F_{constructor(n,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];s&&Sn(s,m=>this.processProvider(m,n,s)),Sn([n],m=>this.processInjectorType(m,[],l)),this.records.set(sl,Ec(void 0,this));const p=this.records.get(vc);this.scope=null!=p?p.value:null,this.source=u||("object"==typeof n?null:pe(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=Ns,a=K.Default){this.assertNotDestroyed();const u=rc(this),l=Ve(void 0);try{if(!(a&K.SkipSelf)){let m=this.records.get(n);if(void 0===m){const w=("function"==typeof(t=n)||"object"==typeof t&&t instanceof jn)&&ln(n);m=w&&this.injectableDefInScope(w)?Ec(tm(n),ol):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(a&K.Self?up():this.parent).get(n,s=a&K.Optional&&s===Ns?null:s)}catch(p){if("NullInjectorError"===p.name){if((p[eo]=p[eo]||[]).unshift(pe(n)),u)throw p;return sc(p,n,"R3InjectorError",this.source)}throw p}finally{Ve(l),rc(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,u)=>n.push(pe(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,a){if(!(n=he(n)))return!1;let u=Jn(n);const l=null==u&&n.ngModule||void 0,p=void 0===l?n:l,m=-1!==a.indexOf(p);if(void 0!==l&&(u=Jn(l)),null==u)return!1;if(null!=u.imports&&!m){let k;a.push(p);try{Sn(u.imports,$=>{this.processInjectorType($,s,a)&&(void 0===k&&(k=[]),k.push($))})}finally{}if(void 0!==k)for(let $=0;$<k.length;$++){const{ngModule:G,providers:J}=k[$];Sn(J,de=>this.processProvider(de,G,J||at))}}this.injectorDefTypes.add(p);const w=Wn(p)||(()=>new p);this.records.set(p,Ec(w,ol));const D=u.providers;if(null!=D&&!m){const k=n;Sn(D,$=>this.processProvider($,k,D))}return void 0!==l&&void 0!==n.providers}processProvider(n,s,a){let u=zd(n=he(n))?n:he(n&&n.provide);const l=Gd(t=n)?Ec(void 0,t.useValue):Ec(nm(t),ol);var t;if(zd(n)||!0!==n.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=Ec(void 0,ol,!0),p.factory=()=>Jr(p.multi),this.records.set(u,p)),u=n,p.multi.push(n)}this.records.set(u,l)}hydrate(n,s){return s.value===ol&&(s.value=em,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=he(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function tm(t){const n=ln(t),s=null!==n?n.factory:Wn(t);if(null!==s)return s;if(t instanceof jn)throw new Error(`Token ${pe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=function(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}(n,"?");throw new Error(`Can't resolve all parameters for ${pe(t)}: (${a.join(", ")}).`)}const s=function(t){const n=t&&(t[zt]||t[es]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function nm(t,n,s){let a;if(zd(t)){const u=he(t);return Wn(u)||tm(u)}if(Gd(t))a=()=>he(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Jr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>Sr(he(t.useExisting));else{const u=he(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Wn(u)||tm(u);a=()=>new u(...Jr(t.deps))}return a}function Ec(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Gd(t){return null!==t&&"object"==typeof t&&nc in t}function zd(t){return"function"==typeof t}const td=function(t,n,s){return function(t,n=null,s=null,a){const u=k_(t,n,s,a);return u._resolveInjectorDefTypes(),u}({name:s},n,t,s)};let Ir=(()=>{class t{static create(s,a){return Array.isArray(s)?td(s,a,""):td(s.providers,s.parent,s.name||"")}}return t.THROW_IF_NOT_FOUND=Ns,t.NULL=new Kh,t.\u0275prov=Pt({token:t,providedIn:"any",factory:()=>Sr(sl)}),t.__NG_ELEMENT_ID__=-1,t})();function cm(t,n){Co(Nu(t)[1],Gn())}function lm(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let u;if(Mr(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(s){a.push(u);const p=t;p.inputs=ef(t.inputs),p.declaredInputs=ef(t.declaredInputs),p.outputs=ef(t.outputs);const m=u.hostBindings;m&&Y_(t,m);const w=u.viewQuery,D=u.contentQueries;if(w&&dm(t,w),D&&N0(t,D),fe(t.inputs,u.inputs),fe(t.declaredInputs,u.declaredInputs),fe(t.outputs,u.outputs),Mr(u)&&u.data.animation){const k=t.data;k.animation=(k.animation||[]).concat(u.data.animation)}}const l=u.features;if(l)for(let p=0;p<l.length;p++){const m=l[p];m&&m.ngInherit&&m(t),m===lm&&(s=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=n+=u.hostVars,u.hostAttrs=$r(u.hostAttrs,s=$r(s,u.hostAttrs))}}(a)}function ef(t){return t===ut?{}:t===at?[]:t}function dm(t,n){const s=t.viewQuery;t.viewQuery=s?(a,u)=>{n(a,u),s(a,u)}:n}function N0(t,n){const s=t.contentQueries;t.contentQueries=s?(a,u,l)=>{n(a,u,l),s(a,u,l)}:n}function Y_(t,n){const s=t.hostBindings;t.hostBindings=s?(a,u)=>{n(a,u),s(a,u)}:n}let tf=null;function id(){if(!tf){const t=ee.Symbol;if(t&&t.iterator)tf=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(tf=a)}}}return tf}class Xa{constructor(n){this.wrapped=n}static wrap(n){return new Xa(n)}static unwrap(n){return Xa.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof Xa}}function nf(t){return!!rf(t)&&(Array.isArray(t)||!(t instanceof Map)&&id()in t)}function rf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qi(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function of(t,n,s,a){const u=Be();return Qi(u,Eo(),n)&&(un(),Bu(Mn(),u,t,n,s,a)),of}function Cp(t,n,s,a,u,l,p,m){const w=Be(),D=un(),k=t+20,$=D.firstCreatePass?function(t,n,s,a,u,l,p,m,w){const D=n.consts,k=Hd(n,t,4,p||null,Br(D,m));ju(n,s,k,Br(D,w)),Co(n,k);const $=k.tViews=Uu(2,k,a,u,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,D);return null!==n.queries&&(n.queries.template(n,k),$.queries=n.queries.embeddedTView(k)),k}(k,D,w,n,s,a,u,l,p):D.data[k];Oi($,!1);const G=w[11].createComment("");zf(D,w,G,$),ti(G,w),ed(w,w[k]=qg(G,w,G,$)),Yr($)&&Vu(D,w,$),null!=p&&nl(w,$,m)}function af(t,n=K.Default){const s=Be();return null===s?Sr(t,n):I(Gn(),s,he(t),n)}function pl(t,n,s){const a=Be();return Qi(a,Eo(),n)&&qo(un(),Mn(),a,t,n,a[11],s,!1),pl}function Np(t,n,s,a,u){const p=u?"class":"style";M_(t,s,n.inputs[p],p,a)}function Mp(t,n,s,a){const u=Be(),l=un(),p=20+t,m=u[11],w=u[p]=Fr(m,n,xt.lFrame.currentNamespace),D=l.firstCreatePass?function(t,n,s,a,u,l,p){const m=n.consts,D=Hd(n,t,2,u,Br(m,l));return ju(n,s,D,Br(m,p)),null!==D.attrs&&ap(D,D.attrs,!1),null!==D.mergedAttrs&&ap(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(p,l,u,0,n,s,a):l.data[p];Oi(D,!0);const k=D.mergedAttrs;null!==k&&vu(m,w,k);const $=D.classes;null!==$&&Kf(m,w,$);const G=D.styles;null!==G&&kd(m,w,G),64!=(64&D.flags)&&zf(l,u,w,D),0===xt.lFrame.elementDepthCount&&ti(w,u),xt.lFrame.elementDepthCount++,Yr(D)&&(Vu(l,u,D),function(t,n,s){if(Ni(n)){const u=n.directiveEnd;for(let l=n.directiveStart;l<u;l++){const p=t.data[l];p.contentQueries&&p.contentQueries(1,s[l],l)}}}(l,D,u)),null!==a&&nl(u,D)}function Pp(){let t=Gn();Ma()?xt.lFrame.isParent=!1:(t=t.parent,Oi(t,!1));const n=t;xt.lFrame.elementDepthCount--;const s=un();s.firstCreatePass&&(Co(s,t),Ni(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Np(s,n,Be(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Np(s,n,Be(),n.stylesWithoutHost,!1)}function Rm(t,n,s,a){Mp(t,n,s,a),Pp()}function pv(){return Be()}function pr(t){return!!t&&"function"==typeof t.then}function ps(t){return!!t&&"function"==typeof t.subscribe}const Ia=ps;function Op(t,n,s,a){const u=Be(),l=un(),p=Gn();return function(t,n,s,a,u,l,p,m){const w=Yr(a),k=t.firstCreatePass&&R_(t),$=n[8],G=ji(n);let J=!0;if(3&a.type||m){const ye=qt(a,n),Qe=m?m(ye):ye,je=G.length,St=m?Zt=>m(yt(Zt[a.index])):a.index;if(we(s)){let Zt=null;if(!m&&w&&(Zt=function(t,n,s,a){const u=t.cleanup;if(null!=u)for(let l=0;l<u.length-1;l+=2){const p=u[l];if(p===s&&u[l+1]===a){const m=n[7],w=u[l+2];return m.length>w?m[w]:null}"string"==typeof p&&(l+=2)}return null}(t,n,u,a.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=l,Zt.__ngLastListenerFn__=l,J=!1;else{l=km(a,n,$,l,!1);const Dn=s.listen(Qe,u,l);G.push(l,Dn),k&&k.push(u,St,je,je+1)}}else l=km(a,n,$,l,!0),Qe.addEventListener(u,l,p),G.push(l),k&&k.push(u,St,je,p)}else l=km(a,n,$,l,!1);const de=a.outputs;let Se;if(J&&null!==de&&(Se=de[u])){const ye=Se.length;if(ye)for(let Qe=0;Qe<ye;Qe+=2){const ms=n[Se[Qe]][Se[Qe+1]].subscribe(l),Ku=G.length;G.push(l,ms),k&&k.push(u,a.index,Ku,-(Ku+1))}}}(l,u,u[11],p,t,n,!!s,a),Op}function Om(t,n,s,a){try{return!1!==s(a)}catch(u){return N_(t,u),!1}}function km(t,n,s,a,u){return function l(p){if(p===Function)return a;const m=2&t.flags?Un(t.index,n):n;0==(32&n[2])&&op(m);let w=Om(n,0,a,p),D=l.__ngNextListenerFn__;for(;D;)w=Om(n,0,D,p)&&w,D=D.__ngNextListenerFn__;return u&&!1===w&&(p.preventDefault(),p.returnValue=!1),w}}function Fp(t=1){return function(t){return(xt.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,xt.lFrame.contextLView))[8]}(t)}function Iv(t,n,s,a,u){const l=t[s+1],p=null===n;let m=a?hi(l):gc(l),w=!1;for(;0!==m&&(!1===w||p);){const k=t[m+1];bv(t[m],n)&&(w=!0,t[m+1]=a?fr(k):Qa(k)),m=a?hi(k):gc(k)}w&&(t[s+1]=a?Qa(l):fr(l))}function bv(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&j(t,n)>=0}function Um(t,n){return function(t,n,s,a){const u=Be(),l=un(),p=function(t){const n=xt.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2);l.firstUpdatePass&&function(t,n,s,a){const u=t.data;if(null===u[s+1]){const l=u[Ei()],p=function(t,n){return n>=t.expandoStartIndex}(t,s);(function(t,n){return 0!=(t.flags&(n?16:32))})(l,a)&&null===n&&!p&&(n=!1),n=function(t,n,s,a){const u=function(t){const n=xt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(s=nh(s=th(null,t,n,s,a),n.attrs,a),l=null);else{const p=n.directiveStylingLast;if(-1===p||t[p]!==u)if(s=th(u,t,n,s,a),null===l){let w=function(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==gc(a))return t[hi(a)]}(t,n,a);void 0!==w&&Array.isArray(w)&&(w=th(null,t,n,w[1],a),w=nh(w,n.attrs,a),function(t,n,s,a){t[hi(s?n.classBindings:n.styleBindings)]=a}(t,n,a,w))}else l=function(t,n,s){let a;const u=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<u;l++)a=nh(a,t[l].hostAttrs,s);return nh(a,n.attrs,s)}(t,n,a)}return void 0!==l&&(a?n.residualClasses=l:n.residualStyles=l),s}(u,l,n,a),function(t,n,s,a,u,l){let p=l?n.classBindings:n.styleBindings,m=hi(p),w=gc(p);t[a]=s;let k,D=!1;if(Array.isArray(s)){const $=s;k=$[1],(null===k||j($,k)>0)&&(D=!0)}else k=s;if(u)if(0!==w){const G=hi(t[m+1]);t[a+1]=Lh(G,m),0!==G&&(t[G+1]=so(t[G+1],a)),t[m+1]=function(t,n){return 131071&t|n<<17}(t[m+1],a)}else t[a+1]=Lh(m,0),0!==m&&(t[m+1]=so(t[m+1],a)),m=a;else t[a+1]=Lh(w,0),0===m?m=a:t[w+1]=so(t[w+1],a),w=a;D&&(t[a+1]=Qa(t[a+1])),Iv(t,k,a,!0),Iv(t,k,a,!1),function(t,n,s,a,u){const l=u?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&j(l,n)>=0&&(s[a+1]=fr(s[a+1]))}(n,k,t,a,l),p=Lh(m,w),l?n.classBindings=p:n.styleBindings=p}(u,l,n,s,p,a)}}(l,t,p,a),n!==sn&&Qi(u,p,n)&&function(t,n,s,a,u,l,p,m){if(!(3&n.type))return;const w=t.data,D=w[m+1];yl(function(t){return 1==(1&t)}(D)?Gu(w,n,s,u,gc(D),p):void 0)||(yl(l)||function(t){return 2==(2&t)}(D)&&(l=Gu(w,null,s,u,m,p)),function(t,n,s,a,u){const l=we(t);if(n)u?l?t.addClass(s,a):s.classList.add(a):l?t.removeClass(s,a):s.classList.remove(a);else{let p=-1===a.indexOf("-")?void 0:F.DashCase;if(null==u)l?t.removeStyle(s,a,p):s.style.removeProperty(a);else{const m="string"==typeof u&&u.endsWith("!important");m&&(u=u.slice(0,-10),p|=F.Important),l?t.setStyle(s,a,u,p):s.style.setProperty(a,u,m?"important":"")}}}(a,p,bn(Ei(),s),u,l))}(l,l.data[Ei()],u,u[11],t,u[p+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=pe(pa(t)))),t}(n,s),a,p)}(t,n,null,!0),Um}function th(t,n,s,a,u){let l=null;const p=s.directiveEnd;let m=s.directiveStylingLast;for(-1===m?m=s.directiveStart:m++;m<p&&(l=n[m],a=nh(a,l.hostAttrs,u),l!==t);)m++;return null!==t&&(s.directiveStylingLast=m),a}function nh(t,n,s){const a=s?1:2;let u=-1;if(null!==n)for(let l=0;l<n.length;l++){const p=n[l];"number"==typeof p?u=p:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),C(t,p,!!s||n[++l]))}return void 0===t?null:t}function Gu(t,n,s,a,u,l){const p=null===n;let m;for(;u>0;){const w=t[u],D=Array.isArray(w),k=D?w[1]:w,$=null===k;let G=s[u+1];G===sn&&(G=$?at:void 0);let J=$?N(G,a):k===a?G:void 0;if(D&&!yl(J)&&(J=N(w,a)),yl(J)&&(m=J,p))return m;const de=t[u+1];u=p?hi(de):gc(de)}if(null!==n){let w=l?n.residualClasses:n.residualStyles;null!=w&&(m=N(w,a))}return m}function yl(t){return void 0!==t}function zm(t,n=""){const s=Be(),a=un(),u=t+20,l=a.firstCreatePass?Hd(a,u,1,n,null):a.data[u],p=s[u]=function(t,n){return we(t)?t.createText(n):t.createTextNode(n)}(s[11],n);zf(a,s,p,l),Oi(l,!1)}function Bp(t){return vl("",t,""),Bp}function vl(t,n,s){const a=Be(),u=function(t,n,s,a){return Qi(t,Eo(),s)?n+et(s)+a:sn}(a,t,n,s);return u!==sn&&_c(a,Ei(),u),vl}function Jm(t,n,s){const a=Be();return Qi(a,Eo(),n)&&qo(un(),Mn(),a,t,n,a[11],s,!0),Jm}const bc=void 0;var fw=["en",[["a","p"],["AM","PM"],bc],[["AM","PM"],bc,bc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bc,"{1} 'at' {0}",bc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let rh={};function Xm(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=pw(n);if(s)return s;const a=n.split("-")[0];if(s=pw(a),s)return s;if("en"===a)return fw;throw new Error(`Missing locale data for the locale "${t}".`)}function zv(t){return Xm(t)[Lt.PluralCase]}function pw(t){return t in rh||(rh[t]=ee.ng&&ee.ng.common&&ee.ng.common.locales&&ee.ng.common.locales[t]),rh[t]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const wl="en-US";let Zv=wl;function Gp(t){Fn(t,"Expected localeId to be defined"),"string"==typeof t&&(Zv=t.toLowerCase().replace(/_/g,"-"))}function oh(t,n,s,a,u){if(t=he(t),Array.isArray(t))for(let l=0;l<t.length;l++)oh(t[l],n,s,a,u);else{const l=un(),p=Be();let m=zd(t)?t:he(t.provide),w=nm(t);const D=Gn(),k=1048575&D.providerIndexes,$=D.directiveStart,G=D.providerIndexes>>20;if(zd(t)||!t.multi){const J=new Ts(w,u,af),de=ly(m,n,u?k:k+G,$);-1===de?(Qr(Ao(D,p),l,m),Jp(l,t,n.length),n.push(m),D.directiveStart++,D.directiveEnd++,u&&(D.providerIndexes+=1048576),s.push(J),p.push(J)):(s[de]=J,p[de]=J)}else{const J=ly(m,n,k+G,$),de=ly(m,n,k,k+G),Se=J>=0&&s[J],ye=de>=0&&s[de];if(u&&!ye||!u&&!Se){Qr(Ao(D,p),l,m);const Qe=function(t,n,s,a,u){const l=new Ts(t,s,af);return l.multi=[],l.index=n,l.componentProviders=0,pE(l,u,a&&!s),l}(u?Fw:kw,s.length,u,a,w);!u&&ye&&(s[de].providerFactory=Qe),Jp(l,t,n.length,0),n.push(m),D.directiveStart++,D.directiveEnd++,u&&(D.providerIndexes+=1048576),s.push(Qe),p.push(Qe)}else Jp(l,t,J>-1?J:de,pE(s[u?de:J],w,!u&&a));!u&&a&&ye&&s[de].componentProviders++}}}function Jp(t,n,s,a){const u=zd(n);if(u||function(t){return!!t.useClass}(n)){const p=(n.useClass||n).prototype.ngOnDestroy;if(p){const m=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const w=m.indexOf(s);-1===w?m.push(s,[a,p]):m[w+1].push(a,p)}else m.push(s,p)}}}function pE(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function ly(t,n,s,a){for(let u=s;u<a;u++)if(n[u]===t)return u;return-1}function kw(t,n,s,a){return Xp(this.multi,[])}function Fw(t,n,s,a){const u=this.multi;let l;if(this.providerFactory){const p=this.providerFactory.componentProviders,m=V(s,s[1],this.providerFactory.index,a);l=m.slice(0,p),Xp(u,l);for(let w=p;w<m.length;w++)l.push(m[w])}else l=[],Xp(u,l);return l}function Xp(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function hy(t,n=[]){return s=>{s.providersResolver=(a,u)=>function(t,n,s){const a=un();if(a.firstCreatePass){const u=Mr(t);oh(s,a.data,a.blueprint,u,!0),oh(n,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,n)}}class py{}const gE="ngComponent";class yE{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${pe(t)}. Did you add it to @NgModule.entryComponents?`);return n[gE]=t,n}(n)}}let uh=(()=>{class t{}return t.NULL=new yE,t})();function yf(...t){}function ch(t,n){return new Da(qt(t,n))}const tg=function(){return ch(Gn(),Be())};let Da=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=tg,t})();function ng(t){return t instanceof Da?t.nativeElement:t}class _f{}let Vw=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Uw(),t})();const Uw=function(){const t=Be(),s=Un(Gn().index,t);return function(t){return t[11]}(ii(s)?s:t)};let yy=(()=>{class t{}return t.\u0275prov=Pt({token:t,providedIn:"root",factory:()=>null}),t})();class wE{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const _y=new wE("12.2.13");class IE{constructor(){}supports(n){return nf(n)}create(n){return new Hw(n)}}const $w=(t,n)=>n;class Hw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||$w}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,u=0,l=null;for(;s||a;){const p=!a||s&&s.currentIndex<ig(a,u,l)?s:a,m=ig(p,u,l),w=p.currentIndex;if(p===a)u--,a=a._nextRemoved;else if(s=s._next,null==p.previousIndex)u++;else{l||(l=[]);const D=m-u,k=w-u;if(D!=k){for(let G=0;G<D;G++){const J=G<l.length?l[G]:l[G]=0,de=J+G;k<=de&&de<D&&(l[G]=J+1)}l[p.previousIndex]=k-D}}m!==w&&n(p,m,w)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!nf(n))throw new Error(`Error trying to diff '${pe(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,l,p,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)l=n[m],p=this._trackByFn(m,l),null!==s&&Object.is(s.trackById,p)?(a&&(s=this._verifyReinsertion(s,l,p,m)),Object.is(s.item,l)||this._addIdentityChange(s,l)):(s=this._mismatch(s,l,p,m),a=!0),s=s._next}else u=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[id()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,m=>{p=this._trackByFn(u,m),null!==s&&Object.is(s.trackById,p)?(a&&(s=this._verifyReinsertion(s,m,p,u)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,p,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,u){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,l,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,l,u)):n=this._addAfter(new rg(s,a),l,u),n}_verifyReinsertion(n,s,a,u){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==l?n=this._reinsertAfter(l,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,l=n._nextRemoved;return null===u?this._removalsHead=l:u._nextRemoved=l,null===l?this._removalsTail=u:l._prevRemoved=u,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const u=null===s?this._itHead:s._next;return n._next=u,n._prev=s,null===u?this._itTail=n:u._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new vy),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vy),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class rg{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bE{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class vy{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new bE,this.map.set(s,a)),a.add(n)}get(n,s){const u=this.map.get(n);return u?u.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ig(t,n,s){const a=t.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+n+u}class CE{constructor(){}supports(n){return n instanceof Map||rf(n)}create(){return new Ww}}class Ww{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||rf(n)))throw new Error(`Error trying to diff '${pe(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const l=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,l)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,s);const l=u._prev,p=u._next;return l&&(l._next=p),p&&(p._prev=l),u._next=null,u._prev=null,u}const a=new Gw(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class Gw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ey(){return new vf([new IE])}let vf=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Ey()),deps:[[t,new $a,new Wo]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=Pt({token:t,providedIn:"root",factory:Ey}),t})();function wy(){return new Ef([new CE])}let Ef=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||wy()),deps:[[t,new $a,new Wo]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=Pt({token:t,providedIn:"root",factory:wy}),t})();function Iy(t,n,s,a,u=!1){for(;null!==s;){const l=n[s.index];if(null!==l&&a.push(yt(l)),nr(l))for(let m=10;m<l.length;m++){const w=l[m],D=w[1].firstChild;null!==D&&Iy(w[1],w,D,a)}const p=s.type;if(8&p)Iy(t,n,s.child,a);else if(32&p){const m=Ie(s,n);let w;for(;w=m();)a.push(w)}else if(16&p){const m=Mg(n,s);if(Array.isArray(m))a.push(...m);else{const w=ht(n[16]);Iy(w[1],w,m,a,!0)}}s=u?s.projectionNext:s.next}return a}class wf{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return Iy(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(nr(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(xh(n,a),Ba(s,a))}this._attachedToViewContainer=!1}Jy(this._lView[1],this._lView)}onDestroy(n){rl(this._lView[1],this._lView,null,n)}markForCheck(){op(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){Kn(!0);try{Gh(t,n,s)}finally{Kn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Od(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class Sb extends wf{constructor(n){super(n),this._view=n}detectChanges(){S_(this._view)}checkNoChanges(){!function(t){Kn(!0);try{S_(t)}finally{Kn(!1)}}(this._view)}get context(){return null}}const xb=function(t){return function(t,n,s){if(Oe(t)&&!s){const a=Un(t.index,n);return new wf(a,a)}return 47&t.type?new wf(n[16],n):null}(Gn(),Be(),16==(16&t))};let zw=(()=>{class t{}return t.__NG_ELEMENT_ID__=xb,t})();const SE=[new CE],Cy=new vf([new IE]),Nb=new Ef(SE),qw=function(){return Ty(Gn(),Be())};let sg=(()=>{class t{}return t.__NG_ELEMENT_ID__=qw,t})();const Zw=sg,Yw=class extends Zw{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=Yl(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(a[19]=l.createEmbeddedView(s)),Yi(s,a,n),new wf(a)}};function Ty(t,n){return 4&t.type?new Yw(n,t,ch(t,n)):null}class gd{}class Qw{}const Ob=function(){return xy(Gn(),Be())};let Ay=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ob,t})();const Xw=Ay,Sy=class extends Xw{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new st(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ss(this._hostTNode,this._hostLView);if(os(n)){const s=la(n,this._hostLView),a=To(n);return new st(s[1].data[a+8],s)}return new st(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=Ry(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const u=n.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(n,s,a,u,l){const p=a||this.parentInjector;if(!l&&null==n.ngModule&&p){const w=p.get(gd,null);w&&(l=w)}const m=n.create(p,u,void 0,l);return this.insert(m.hostView,s),m}insert(n,s){const a=n._lView,u=a[1];if(nr(a[3])){const k=this.indexOf(n);if(-1!==k)this.detach(k);else{const $=a[3],G=new Sy($,$[6],$[3]);G.detach(G.indexOf(n))}}const l=this._adjustIndex(s),p=this._lContainer;!function(t,n,s,a){const u=10+a,l=s.length;a>0&&(s[u-1][4]=n),a<l-10?(n[4]=s[u],Xs(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const p=n[17];null!==p&&s!==p&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(p,n);const m=n[19];null!==m&&m.insertView(t),n[2]|=128}(u,a,p,l);const m=Pg(l,p),w=a[11],D=Ph(w,p[7]);return null!==D&&function(t,n,s,a,u,l){a[0]=u,a[6]=n,Od(t,a,s,1,u,l)}(u,p[6],w,a,D,m),n.attachToViewContainerRef(),Xs(og(p),l,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=Ry(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=xh(this._lContainer,s);a&&(Ba(og(this._lContainer),s),Jy(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=xh(this._lContainer,s);return a&&null!=Ba(og(this._lContainer),s)?new wf(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function Ry(t){return t[8]}function og(t){return t[8]||(t[8]=[])}function xy(t,n){let s;const a=n[t.index];if(nr(a))s=a;else{let u;if(8&t.type)u=yt(a);else{const l=n[11];u=l.createComment("");const p=qt(t,n);Za(l,Ph(l,p),u,function(t,n){return we(t)?t.nextSibling(n):n.nextSibling}(l,p),!1)}n[t.index]=s=qg(a,n,u,t),ed(n,s)}return new Sy(s,t,n)}const ug={};class Hb extends uh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=It(n);return new Gb(s,this.ngModule)}}function Wb(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const iT=new jn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>qa});class Gb extends py{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(e0).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Wb(this.componentDef.inputs)}get outputs(){return Wb(this.componentDef.outputs)}create(n,s,a,u){const l=(u=u||this.ngModule)?function(t,n){return{get:(s,a,u)=>{const l=t.get(s,ug,u);return l!==ug||a===ug?l:n.get(s,a,u)}}}(n,u.injector):n,p=l.get(_f,mt),m=l.get(yy,null),w=p.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",k=a?function(t,n,s){if(we(t))return t.selectRootElement(n,s===Ot.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(w,a,this.componentDef.encapsulation):Fr(p.createRenderer(null,this.componentDef),D,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(D)),$=this.componentDef.onPush?576:528,G=function(t,n){return{components:[],scheduler:t||qa,clean:Jg,playerHandler:n||null,flags:0}}(),J=Uu(0,null,null,1,0,null,null,null,null,null),de=Yl(null,J,G,$,null,null,p,w,m,l);let Se,ye;is(de);try{const Qe=function(t,n,s,a,u,l){const p=s[1];s[20]=t;const w=Hd(p,20,2,"#host",null),D=w.mergedAttrs=n.hostAttrs;null!==D&&(ap(w,D,!0),null!==t&&(vu(u,t,D),null!==w.classes&&Kf(u,t,w.classes),null!==w.styles&&kd(u,t,w.styles)));const k=a.createRenderer(t,n),$=Yl(s,Bg(n),null,n.onPush?64:16,s[20],w,a,k,l||null,null);return p.firstCreatePass&&(Qr(Ao(w,s),p,n.type),Wh(p,w),zg(w,s.length,1)),ed(s,$),s[20]=$}(k,this.componentDef,de,p,w);if(k)if(a)vu(w,k,["ng-version",_y.full]);else{const{attrs:je,classes:St}=function(t){const n=[],s=[];let a=1,u=2;for(;a<t.length;){let l=t[a];if("string"==typeof l)2===u?""!==l&&n.push(l,t[++a]):8===u&&s.push(l);else{if(!va(u))break;u=l}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);je&&vu(w,k,je),St&&St.length>0&&Kf(w,k,St.join(" "))}if(ye=Mi(J,20),void 0!==s){const je=ye.projection=[];for(let St=0;St<this.ngContentSelectors.length;St++){const Zt=s[St];je.push(null!=Zt?Array.from(Zt):null)}}Se=function(t,n,s,a,u){const l=s[1],p=function(t,n,s){const a=Gn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),ip(t,a,n,Ql(t,n,1,null),s));const u=V(n,t,a.directiveStart,a);ti(u,n);const l=qt(a,n);return l&&ti(l,n),u}(l,s,n);if(a.components.push(p),t[8]=p,u&&u.forEach(w=>w(p,n)),n.contentQueries){const w=Gn();n.contentQueries(1,p,w.directiveStart)}const m=Gn();return!l.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ki(m.index),$h(s[1],m,0,m.directiveStart,m.directiveEnd,n),rp(n,p)),p}(Qe,this.componentDef,de,G,[cm]),Yi(J,de,null)}finally{oa()}return new aT(this.componentType,Se,ch(ye,de),de,ye)}}class aT extends class{}{constructor(n,s,a,u,l){super(),this.location=a,this._rootLView=u,this._tNode=l,this.instance=s,this.hostView=this.changeDetectorRef=new Sb(u),this.componentType=n}get injector(){return new st(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const cg=new Map;class lT extends gd{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hb(this);const a=Xn(n),u=n[fn]||null;u&&Gp(u),this._bootstrapComponents=g(a.bootstrap),this._r3Injector=k_(n,s,[{provide:gd,useValue:this},{provide:uh,useValue:this.componentFactoryResolver}],pe(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Ir.THROW_IF_NOT_FOUND,a=K.Default){return n===Ir||n===gd||n===sl?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class hI extends Qw{constructor(n){super(),this.moduleType=n,null!==Xn(n)&&function(t){const n=new Set;!function s(a){const u=Xn(a,!0),l=u.id;null!==l&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${pe(n)} vs ${pe(n.name)}`)}(l,cg.get(l),a),cg.set(l,a));const p=g(u.imports);for(const m of p)n.has(m)||(n.add(m),s(m))}(t)}(n)}create(n){return new lT(this.moduleType,n)}}function Zb(t,n,s,a,u,l,p){const m=n+s;return function(t,n,s,a){const u=Qi(t,n,s);return Qi(t,n+1,a)||u}(t,m,u,l)?function(t,n,s){return t[n]=s}(t,m+2,p?a.call(p,u,l):a(u,l)):function(t,n){const s=t[n];return s===sn?void 0:s}(t,m+2)}function Xb(t,n){const s=un();let a;const u=t+20;s.firstCreatePass?(a=function(t,n){if(n)for(let s=n.length-1;s>=0;s--){const a=n[s];if(t===a.name)return a}throw new xe("302",`The pipe '${t}' could not be found!`)}(n,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const l=a.factory||(a.factory=Wn(a.type)),p=Ve(af);try{const m=Qs(!1),w=l();return Qs(m),function(t,n,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=a}(s,Be(),u,w),w}finally{Ve(p)}}function eC(t,n,s,a){const u=t+20,l=Be(),p=function(t,n){return t[n]}(l,u);return function(t,n){Xa.isWrapped(n)&&(n=Xa.unwrap(n),t[xt.lFrame.bindingIndex]=sn);return n}(l,function(t,n){return t[1].data[n].pure}(l,u)?Zb(l,function(){const t=xt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,p.transform,s,a,p):p.transform(s,a))}function fI(t){return n=>{setTimeout(t,void 0,n)}}const Rl=class extends A.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var u,l,p;let m=n,w=s||(()=>null),D=a;if(n&&"object"==typeof n){const $=n;m=null===(u=$.next)||void 0===u?void 0:u.bind($),w=null===(l=$.error)||void 0===l?void 0:l.bind($),D=null===(p=$.complete)||void 0===p?void 0:p.bind($)}this.__isAsync&&(w=fI(w),m&&(m=fI(m)),D&&(D=fI(D)));const k=super.subscribe({next:m,error:w,complete:D});return n instanceof x.w&&n.add(k),k}};function AT(){return this._results[id()]()}class kE{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=id(),a=kE.prototype;a[s]||(a[s]=AT)}get changes(){return this._changes||(this._changes=new Rl)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const u=xs(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],l=n[a];if(s&&(u=s(u),l=s(l)),l!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class pI{constructor(n){this.queryList=n,this.matches=null}clone(){return new pI(this.queryList)}setDirty(){this.queryList.setDirty()}}class gI{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,u=[];for(let l=0;l<a;l++){const p=s.getByIndex(l);u.push(this.queries[p.indexInDeclarationView].clone())}return new gI(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==uC(n,s).matches&&this.queries[s].setDirty()}}class tC{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class mI{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,l=this.getByIndex(a).embeddedTView(n,u);l&&(l.indexInDeclarationView=a,null!==s?s.push(l):s=[l])}return null!==s?new mI(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class yI{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new yI(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const l=a[u];this.matchTNodeWithReadOption(n,s,xT(s,l)),this.matchTNodeWithReadOption(n,s,P(s,n,l,!1,!1))}else a===sg?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,P(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Da||u===Ay||u===sg&&4&s.type)this.addMatch(s.index,-2);else{const l=P(s,n,u,!1,!1);null!==l&&this.addMatch(s.index,l)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function xT(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function MT(t,n,s,a){return-1===s?function(t,n){return 11&t.type?ch(t,n):4&t.type?Ty(t,n):null}(n,t):-2===s?function(t,n,s){return s===Da?ch(n,t):s===sg?Ty(n,t):s===Ay?xy(n,t):void 0}(t,n,a):V(t,t[1],s,n)}function nC(t,n,s,a){const u=n[19].queries[a];if(null===u.matches){const l=t.data,p=s.matches,m=[];for(let w=0;w<p.length;w+=2){const D=p[w];m.push(D<0?null:MT(n,l[D],p[w+1],s.metadata.read))}u.matches=m}return u.matches}function _I(t,n,s,a){const u=t.queries.getByIndex(s),l=u.matches;if(null!==l){const p=nC(t,n,u,s);for(let m=0;m<l.length;m+=2){const w=l[m];if(w>0)a.push(p[m/2]);else{const D=l[m+1],k=n[-w];for(let $=10;$<k.length;$++){const G=k[$];G[17]===G[3]&&_I(G[1],G,D,a)}if(null!==k[9]){const $=k[9];for(let G=0;G<$.length;G++){const J=$[G];_I(J[1],J,D,a)}}}}}return a}function rC(t){const n=Be(),s=un(),a=du();hu(a+1);const u=uC(s,a);if(t.dirty&&zi(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const l=u.crossesNgTemplate?_I(s,n,a,[]):nC(s,n,u,a);t.reset(l,ng),t.notifyOnChanges()}return!0}return!1}function iC(t,n,s,a){const u=un();if(u.firstCreatePass){const l=Gn();(function(t,n,s){null===t.queries&&(t.queries=new mI),t.queries.track(new yI(n,s))})(u,new tC(n,s,a),l.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(u,t),2==(2&s)&&(u.staticContentQueries=!0)}!function(t,n,s){const a=new kE(4==(4&s));rl(t,n,a,a.destroy),null===n[19]&&(n[19]=new gI),n[19].queries.push(new pI(a))}(u,Be(),s)}function sC(){return t=Be(),n=du(),t[19].queries[n].queryList;var t,n}function uC(t,n){return t.queries.getByIndex(n)}const CI=new jn("Application Initializer");let dg=(()=>{class t{constructor(s){this.appInits=s,this.resolve=yf,this.reject=yf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const l=this.appInits[u]();if(pr(l))s.push(l);else if(Ia(l)){const p=new Promise((m,w)=>{l.subscribe({complete:m,error:w})});s.push(p)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Sr(CI,8))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t})();const TC=new jn("AppId"),lA={provide:TC,useFactory:function(){return`${DI()}${DI()}${DI()}`},deps:[]};function DI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AC=new jn("Platform Initializer"),SC=new jn("Platform ID"),RC=new jn("appBootstrapListener");let xC=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t})();const VE=new jn("LocaleId"),NC=new jn("DefaultCurrencyCode");class hA{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}const TI=function(t){return new hI(t)},fA=TI,pA=function(t){return Promise.resolve(TI(t))},MC=function(t){const n=TI(t),a=g(Xn(t).declarations).reduce((u,l)=>{const p=It(l);return p&&u.push(new Gb(p)),u},[]);return new hA(n,a)},gA=MC,mA=function(t){return Promise.resolve(MC(t))};let By=(()=>{class t{constructor(){this.compileModuleSync=fA,this.compileModuleAsync=pA,this.compileModuleAndAllComponentsSync=gA,this.compileModuleAndAllComponentsAsync=mA}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t})();const vA=(()=>Promise.resolve(0))();function AI(t){"undefined"==typeof Zone?vA.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class tu{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rl(!1),this.onMicrotaskEmpty=new Rl(!1),this.onStable=new Rl(!1),this.onError=new Rl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=ee.requestAnimationFrame,n=ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ee,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,RI(t),t.isCheckStableRunning=!0,SI(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),RI(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,l,p,m)=>{try{return PC(t),s.invokeTask(u,l,p,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),OC(t)}},onInvoke:(s,a,u,l,p,m,w)=>{try{return PC(t),s.invoke(u,l,p,m,w)}finally{t.shouldCoalesceRunChangeDetection&&n(),OC(t)}},onHasTask:(s,a,u,l)=>{s.hasTask(u,l),a===u&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,RI(t),SI(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(s,a,u,l)=>(s.handleError(u,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(tu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,u){const l=this._inner,p=l.scheduleEventTask("NgZoneEvent: "+u,n,wA,yf,yf);try{return l.runTask(p,s,a)}finally{l.cancelTask(p)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const wA={};function SI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function RI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function PC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OC(t){t._nesting--,SI(t)}class CA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rl,this.onMicrotaskEmpty=new Rl,this.onStable=new Rl,this.onError=new Rl}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,u){return n.apply(s,a)}}let kC=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tu.assertNotInAngularZone(),AI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())AI(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let l=-1;a&&a>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==l),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:l,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return t.\u0275fac=function(s){return new(s||t)(Sr(tu))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t})(),FC=(()=>{class t{constructor(){this._applications=new Map,xI.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return xI.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t})();class DA{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function TA(t){xI=t}let xI=new DA,LC=!0,VC=!1;function NI(){return VC=!0,LC}function AA(){if(VC)throw new Error("Cannot enable prod mode after platform setup.");LC=!1}let Dc;const UC=new jn("AllowMultipleToken");class OA{constructor(n,s){this.name=n,this.token=s}}function jC(t,n,s=[]){const a=`Platform: ${n}`,u=new jn(a);return(l=[])=>{let p=BC();if(!p||p.injector.get(UC,!1))if(t)t(s.concat(l).concat({provide:u,useValue:!0}));else{const m=s.concat(l).concat({provide:u,useValue:!0},{provide:vc,useValue:"platform"});!function(t){if(Dc&&!Dc.destroyed&&!Dc.injector.get(UC,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Dc=t.get($C);const n=t.get(AC,null);n&&n.forEach(s=>s())}(Ir.create({providers:m,name:a}))}return function(t){const n=BC();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(u)}}function BC(){return Dc&&!Dc.destroyed?Dc:null}let $C=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const m=function(t,n){let s;return s="noop"===t?new CA:("zone.js"===t?void 0:t)||new tu({enableLongStackTrace:NI(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),w=[{provide:tu,useValue:m}];return m.run(()=>{const D=Ir.create({providers:w,parent:this.injector,name:s.moduleType.name}),k=s.create(D),$=k.injector.get(hc,null);if(!$)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const G=m.onError.subscribe({next:J=>{$.handleError(J)}});k.onDestroy(()=>{MI(this._modules,k),G.unsubscribe()})}),function(t,n,s){try{const a=s();return pr(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}($,m,()=>{const G=k.injector.get(dg);return G.runInitializers(),G.donePromise.then(()=>(Gp(k.injector.get(VE,wl)||wl),this._moduleDoBootstrap(k),k))})})}bootstrapModule(s,a=[]){const u=HC({},a);return function(t,n,s){const a=new hI(s);return Promise.resolve(a)}(0,0,s).then(l=>this.bootstrapModuleFactory(l,u))}_moduleDoBootstrap(s){const a=s.injector.get($y);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${pe(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Sr(Ir))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t})();function HC(t,n){return Array.isArray(n)?n.reduce(HC,t):Object.assign(Object.assign({},t),n)}let $y=(()=>{class t{constructor(s,a,u,l,p){this._zone=s,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=l,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new W.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new W.y(D=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{tu.assertNotInAngularZone(),AI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{tu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{k.unsubscribe(),$.unsubscribe()}});this.isStable=(0,me.T)(m,w.pipe(t=>(0,oe.x)()(function(t,n){return function(a){let u;u="function"==typeof t?t:function(){return t};const l=Object.create(a,le.N);return l.source=a,l.subjectFactory=u,l}}(ce)(t))))}bootstrap(s,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=s instanceof py?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(u.componentType);const l=function(t){return t.isBoundToModule}(u)?void 0:this._injector.get(gd),m=u.create(Ir.NULL,[],a||u.selector,l),w=m.location.nativeElement,D=m.injector.get(kC,null),k=D&&m.injector.get(FC);return D&&k&&k.registerApplication(w,D),m.onDestroy(()=>{this.detachView(m.hostView),MI(this.components,m),k&&k.unregisterApplication(w)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;MI(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(RC,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Sr(tu),Sr(Ir),Sr(hc),Sr(uh),Sr(dg))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t})();function MI(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}class jA{}class $A{}const HA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let WA=(()=>{class t{constructor(s,a){this._compiler=s,this._config=a||HA}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[a,u]=s.split("#");return void 0===u&&(u="default"),U(8255)(a).then(l=>l[u]).then(l=>KC(l,a,u)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(s){let[a,u]=s.split("#"),l="NgFactory";return void 0===u&&(u="default",l=""),U(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(p=>p[u+l]).then(p=>KC(p,a,u))}}return t.\u0275fac=function(s){return new(s||t)(Sr(By),Sr($A,8))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t})();function KC(t,n,s){if(!t)throw new Error(`Cannot find '${s}' in '${n}'`);return t}const JA=function(t){return null},eS=jC(null,"core",[{provide:SC,useValue:"unknown"},{provide:$C,deps:[Ir]},{provide:FC,deps:[]},{provide:xC,deps:[]}]),sS=[{provide:$y,useClass:$y,deps:[tu,Ir,hc,uh,dg]},{provide:iT,deps:[tu],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:dg,useClass:dg,deps:[[new Wo,CI]]},{provide:By,useClass:By,deps:[]},lA,{provide:vf,useFactory:function(){return Cy},deps:[]},{provide:Ef,useFactory:function(){return Nb},deps:[]},{provide:VE,useFactory:function(t){return Gp(t=t||"undefined"!=typeof $localize&&$localize.locale||wl),t},deps:[[new Du(VE),new Wo,new $a]]},{provide:NC,useValue:"USD"}];let aS=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Sr($y))},t.\u0275mod=uo({type:t}),t.\u0275inj=Qn({providers:sS}),t})()},8939:(dt,Re,U)=>{"use strict";U.d(Re,{hO:()=>pe,xv:()=>ce,Dh:()=>oe,GT:()=>ae,cc:()=>be,on:()=>z,pX:()=>le});var A=U(3018),x=U(7841),W=U(3435);dt=U.hmd(dt);const me=["ngOnDestroy"],le=(ke,Te,xe,$e={})=>new Proxy(ke,{get:(He,et)=>xe.runOutsideAngular(()=>{var Xt;if(ke[et])return(null===(Xt=null==$e?void 0:$e.spy)||void 0===Xt?void 0:Xt.get)&&$e.spy.get(et,ke[et]),ke[et];if(me.indexOf(et)>-1)return()=>{};const Nt=Te.toPromise().then(kt=>{const At=kt&&kt[et];return"function"==typeof At?At.bind(kt):At&&At.then?At.then(Vt=>xe.run(()=>Vt)):xe.run(()=>At)});return new Proxy(()=>{},{get:(kt,At)=>Nt[At],apply:(kt,At,Vt)=>Nt.then(Dt=>{var wt;const Ht=Dt&&Dt(...Vt);return(null===(wt=null==$e?void 0:$e.spy)||void 0===wt?void 0:wt.apply)&&$e.spy.apply(et,Vt,Ht),Ht})})})}),ae=(ke,Te)=>{Te.forEach(xe=>{Object.getOwnPropertyNames(xe.prototype||xe).forEach($e=>{Object.defineProperty(ke.prototype,$e,Object.getOwnPropertyDescriptor(xe.prototype||xe,$e))})})};class _e{constructor(Te){return Te}}const oe=new A.OlP("angularfire2.app.options"),ce=new A.OlP("angularfire2.app.name");function z(ke,Te,xe){const He="object"==typeof xe&&xe||{};He.name=He.name||"string"==typeof xe&&xe||"[DEFAULT]";const Xt=x.Z.apps.filter(Nt=>Nt&&Nt.name===He.name)[0]||Te.runOutsideAngular(()=>x.Z.initializeApp(ke,He));try{JSON.stringify(ke)!==JSON.stringify(Xt.options)&&q("error",`${Xt.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Nt){}return new _e(Xt)}const q=(ke,...Te)=>{(0,A.X6Q)()&&"undefined"!=typeof console&&console[ke](...Te)},fe={provide:_e,useFactory:z,deps:[oe,A.R0b,[new A.FiY,ce]]};let pe=(()=>{class ke{constructor(xe){x.Z.registerVersion("angularfire",W.q4.full,"core"),x.Z.registerVersion("angularfire",W.q4.full,"app-compat"),x.Z.registerVersion("angular",A.q4F.full,xe.toString())}static initializeApp(xe,$e){return{ngModule:ke,providers:[{provide:oe,useValue:xe},{provide:ce,useValue:$e}]}}}return ke.\u0275fac=function(xe){return new(xe||ke)(A.LFG(A.Lbi))},ke.\u0275mod=A.oAB({type:ke}),ke.\u0275inj=A.cJS({providers:[fe]}),ke})();function be(ke,Te,xe,$e,He){const[,et,Xt]=globalThis.\u0275AngularfireInstanceCache.find(Nt=>Nt[0]===ke)||[];if(et)return function(ke,Te){try{return ke.toString()===Te.toString()}catch(xe){return ke===Te}}(He,Xt)||(he("error",`${Te} was already initialized on the ${xe} Firebase App with different settings.${Me?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:He,was:Xt})),et;{const Nt=$e();return globalThis.\u0275AngularfireInstanceCache.push([ke,Nt,He]),Nt}}const Me=!!dt.hot,he=(ke,...Te)=>{(0,A.X6Q)()&&"undefined"!=typeof console&&console[ke](...Te)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3435:(dt,Re,U)=>{"use strict";U.d(Re,{q4:()=>kc,iC:()=>ec,HU:()=>Sn,vb:()=>Xu,JM:()=>Iu});var A=U(3018),x=U(2329),W=U(8239),me=U(8026),le=U(3854),ae=U(3910),_e=U(5422),oe=U(6676);const ce="@firebase/installations",z="0.5.4",fe=`w:${z}`,pe="FIS_v2",Te=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xe(C){return C instanceof le.ZR&&C.code.includes("request-failed")}function $e({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function He(C){return{token:C.token,requestStatus:2,expiresIn:Dt(C.expiresIn),creationTime:Date.now()}}function et(C,N){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,W.Z)(function*(C,N){const Q=(yield N.json()).error;return Te.create("request-failed",{requestName:C,serverCode:Q.code,serverMessage:Q.message,serverStatus:Q.status})})).apply(this,arguments)}function Nt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function kt(C,{refreshToken:N}){const j=Nt(C);return j.append("Authorization",function(C){return`${pe} ${C}`}(N)),j}function At(C){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,W.Z)(function*(C){const N=yield C();return N.status>=500&&N.status<600?C():N})).apply(this,arguments)}function Dt(C){return Number(C.replace("s","000"))}function Ht(C,N){return ft.apply(this,arguments)}function ft(){return(ft=(0,W.Z)(function*(C,{fid:N}){const j=$e(C),Ce={method:"POST",headers:Nt(C),body:JSON.stringify({fid:N,authVersion:pe,appId:C.appId,sdkVersion:fe})},ze=yield At(()=>fetch(j,Ce));if(ze.ok){const gt=yield ze.json();return{fid:gt.fid||N,registrationStatus:2,refreshToken:gt.refreshToken,authToken:He(gt.authToken)}}throw yield et("Create Installation",ze)})).apply(this,arguments)}function sr(C){return new Promise(N=>{setTimeout(N,C)})}const Ai=/^[cdef][\w-]{21}$/;function Yn(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const j=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Ai.test(j)?j:""}catch(C){return""}}function Hi(C){return`${C.appName}!${C.appId}`}const Xi=new Map;function Wi(C,N){const j=Hi(C);Tn(j,N),function(C,N){const j=(!en&&"BroadcastChannel"in self&&(en=new BroadcastChannel("[Firebase] FID Change"),en.onmessage=C=>{Tn(C.data.key,C.data.fid)}),en);j&&j.postMessage({key:C,fid:N}),0===Xi.size&&en&&(en.close(),en=null)}(j,N)}function Tn(C,N){const j=Xi.get(C);if(j)for(const Q of j)Q(N)}let en=null;const Fe="firebase-installations-store";let br=null;function $n(){return br||(br=(0,oe.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Fe)}})),br}function Jn(C,N){return zt.apply(this,arguments)}function zt(){return(zt=(0,W.Z)(function*(C,N){const j=Hi(C),ge=(yield $n()).transaction(Fe,"readwrite"),Ce=ge.objectStore(Fe),ze=yield Ce.get(j);return yield Ce.put(N,j),yield ge.complete,(!ze||ze.fid!==N.fid)&&Wi(C,N.fid),N})).apply(this,arguments)}function or(C){return es.apply(this,arguments)}function es(){return(es=(0,W.Z)(function*(C){const N=Hi(C),Q=(yield $n()).transaction(Fe,"readwrite");yield Q.objectStore(Fe).delete(N),yield Q.complete})).apply(this,arguments)}function ve(C,N){return K.apply(this,arguments)}function K(){return(K=(0,W.Z)(function*(C,N){const j=Hi(C),ge=(yield $n()).transaction(Fe,"readwrite"),Ce=ge.objectStore(Fe),ze=yield Ce.get(j),gt=N(ze);return void 0===gt?yield Ce.delete(j):yield Ce.put(gt,j),yield ge.complete,gt&&(!ze||ze.fid!==gt.fid)&&Wi(C,gt.fid),gt})).apply(this,arguments)}function ie(C){return Le.apply(this,arguments)}function Le(){return(Le=(0,W.Z)(function*(C){let N;const j=yield ve(C,Q=>{const ge=Ve(Q),Ce=rt(C,ge);return N=Ce.registrationPromise,Ce.installationEntry});return""===j.fid?{installationEntry:yield N}:{installationEntry:j,registrationPromise:N}})).apply(this,arguments)}function Ve(C){return Ot(C||{fid:Yn(),registrationStatus:0})}function rt(C,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(Te.create("app-offline"))};const j={fid:N.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:j,registrationPromise:function(C,N){return tt.apply(this,arguments)}(C,j)}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Rt(C)}:{installationEntry:N}}function tt(){return(tt=(0,W.Z)(function*(C,N){try{return Jn(C,yield Ht(C,N))}catch(j){throw xe(j)&&409===j.customData.serverCode?yield or(C):yield Jn(C,{fid:N.fid,registrationStatus:0}),j}})).apply(this,arguments)}function Rt(C){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,W.Z)(function*(C){let N=yield on(C);for(;1===N.registrationStatus;)yield sr(100),N=yield on(C);if(0===N.registrationStatus){const{installationEntry:j,registrationPromise:Q}=yield ie(C);return Q||j}return N})).apply(this,arguments)}function on(C){return ve(C,N=>{if(!N)throw Te.create("installation-not-found");return Ot(N)})}function Ot(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function ot(C,N){return X.apply(this,arguments)}function X(){return(X=(0,W.Z)(function*({appConfig:C,platformLoggerProvider:N},j){const Q=re(C,j),ge=kt(C,j),Ce=N.getImmediate({optional:!0});Ce&&ge.append("x-firebase-client",Ce.getPlatformInfoString());const gt={method:"POST",headers:ge,body:JSON.stringify({installation:{sdkVersion:fe}})},pt=yield At(()=>fetch(Q,gt));if(pt.ok)return He(yield pt.json());throw yield et("Generate Auth Token",pt)})).apply(this,arguments)}function re(C,{fid:N}){return`${$e(C)}/${N}/authTokens:generate`}function ee(C){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,W.Z)(function*(C,N=!1){let j;const Q=yield ve(C.appConfig,Ce=>{if(!Vn(Ce))throw Te.create("not-registered");const ze=Ce.authToken;if(!N&&qr(ze))return Ce;if(1===ze.requestStatus)return j=Ee(C,N),Ce;{if(!navigator.onLine)throw Te.create("app-offline");const gt=Kt(Ce);return j=tn(C,gt),gt}});return j?yield j:Q.authToken})).apply(this,arguments)}function Ee(C,N){return ut.apply(this,arguments)}function ut(){return(ut=(0,W.Z)(function*(C,N){let j=yield at(C.appConfig);for(;1===j.authToken.requestStatus;)yield sr(100),j=yield at(C.appConfig);const Q=j.authToken;return 0===Q.requestStatus?ee(C,N):Q})).apply(this,arguments)}function at(C){return ve(C,N=>{if(!Vn(N))throw Te.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function tn(C,N){return ar.apply(this,arguments)}function ar(){return(ar=(0,W.Z)(function*(C,N){try{const j=yield ot(C,N),Q=Object.assign(Object.assign({},N),{authToken:j});return yield Jn(C.appConfig,Q),j}catch(j){if(!xe(j)||401!==j.customData.serverCode&&404!==j.customData.serverCode){const Q=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Jn(C.appConfig,Q)}else yield or(C.appConfig);throw j}})).apply(this,arguments)}function Vn(C){return void 0!==C&&2===C.registrationStatus}function qr(C){return 2===C.requestStatus&&!function(C){const N=Date.now();return N<C.creationTime||C.creationTime+C.expiresIn<N+36e5}(C)}function Kt(C){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:N})}function js(){return(js=(0,W.Z)(function*(C){const N=C,{installationEntry:j,registrationPromise:Q}=yield ie(N.appConfig);return Q?Q.catch(console.error):ee(N).catch(console.error),j.fid})).apply(this,arguments)}function ys(){return(ys=(0,W.Z)(function*(C,N=!1){const j=C;return yield nu(j.appConfig),(yield ee(j,N)).token})).apply(this,arguments)}function nu(C){return gi.apply(this,arguments)}function gi(){return(gi=(0,W.Z)(function*(C){const{registrationPromise:N}=yield ie(C);N&&(yield N)})).apply(this,arguments)}function Xn(C){return Te.create("missing-app-config-values",{valueName:C})}const ru="installations";(0,me._registerComponent)(new ae.wA(ru,C=>{const N=C.getProvider("app").getImmediate();return{app:N,appConfig:function(C){if(!C||!C.options)throw Xn("App Configuration");if(!C.name)throw Xn("App Name");const N=["projectId","apiKey","appId"];for(const j of N)if(!C.options[j])throw Xn(j);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(N),platformLoggerProvider:(0,me._getProvider)(N,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,me._registerComponent)(new ae.wA("installations-internal",C=>{const N=C.getProvider("app").getImmediate(),j=(0,me._getProvider)(N,ru).getImmediate();return{getId:()=>function(C){return js.apply(this,arguments)}(j),getToken:ge=>function(C){return ys.apply(this,arguments)}(j,ge)}},"PRIVATE")),(0,me.registerVersion)(ce,z),(0,me.registerVersion)(ce,z,"esm2017");const On="@firebase/remote-config",er=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ho{constructor(N,j,Q,ge){this.client=N,this.storage=j,this.storageCache=Q,this.logger=ge}isCachedDataFresh(N,j){if(!j)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Q=Date.now()-j,ge=Q<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Q}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${ge}.`),ge}fetch(N){var j=this;return(0,W.Z)(function*(){const[Q,ge]=yield Promise.all([j.storage.getLastSuccessfulFetchTimestampMillis(),j.storage.getLastSuccessfulFetchResponse()]);if(ge&&j.isCachedDataFresh(N.cacheMaxAgeMillis,Q))return ge;N.eTag=ge&&ge.eTag;const Ce=yield j.client.fetch(N),ze=[j.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ce.status&&ze.push(j.storage.setLastSuccessfulFetchResponse(Ce)),yield Promise.all(ze),Ce})()}}function ii(C=navigator){return C.languages&&C.languages[0]||C.language}class nr{constructor(N,j,Q,ge,Ce,ze){this.firebaseInstallations=N,this.sdkVersion=j,this.namespace=Q,this.projectId=ge,this.apiKey=Ce,this.appId=ze}fetch(N){var j=this;return(0,W.Z)(function*(){const[Q,ge]=yield Promise.all([j.firebaseInstallations.getId(),j.firebaseInstallations.getToken()]),ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${j.projectId}/namespaces/${j.namespace}:fetch?key=${j.apiKey}`,gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},pt={sdk_version:j.sdkVersion,app_instance_id:Q,app_instance_id_token:ge,app_id:j.appId,language_code:ii()},En={method:"POST",headers:gt,body:JSON.stringify(pt)},wn=fetch(ze,En),kr=new Promise((to,ha)=>{N.signal.addEventListener(()=>{const tc=new Error("The operation was aborted.");tc.name="AbortError",ha(tc)})});let Ii;try{yield Promise.race([wn,kr]),Ii=yield wn}catch(to){let ha="fetch-client-network";throw"AbortError"===to.name&&(ha="fetch-timeout"),er.create(ha,{originalErrorMessage:to.message})}let li=Ii.status;const Ns=Ii.headers.get("ETag")||void 0;let da,eo;if(200===Ii.status){let to;try{to=yield Ii.json()}catch(ha){throw er.create("fetch-client-parse",{originalErrorMessage:ha.message})}da=to.entries,eo=to.state}if("INSTANCE_STATE_UNSPECIFIED"===eo?li=500:"NO_CHANGE"===eo?li=304:("NO_TEMPLATE"===eo||"EMPTY_CONFIG"===eo)&&(da={}),304!==li&&200!==li)throw er.create("fetch-status",{httpStatus:li});return{status:li,eTag:Ns,config:da}})()}}class Yr{constructor(N,j){this.client=N,this.storage=j}fetch(N){var j=this;return(0,W.Z)(function*(){const Q=(yield j.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return j.attemptFetch(N,Q)})()}attemptFetch(N,{throttleEndTimeMillis:j,backoffCount:Q}){var ge=this;return(0,W.Z)(function*(){yield function(C,N){return new Promise((j,Q)=>{const ge=Math.max(N-Date.now(),0),Ce=setTimeout(j,ge);C.addEventListener(()=>{clearTimeout(Ce),Q(er.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,j);try{const Ce=yield ge.client.fetch(N);return yield ge.storage.deleteThrottleMetadata(),Ce}catch(Ce){if(!function(C){if(!(C instanceof le.ZR&&C.customData))return!1;const N=Number(C.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ce))throw Ce;const ze={throttleEndTimeMillis:Date.now()+(0,le.$s)(Q),backoffCount:Q+1};return yield ge.storage.setThrottleMetadata(ze),ge.attemptFetch(N,ze)}})()}}class Yt{constructor(N,j,Q,ge,Ce){this.app=N,this._client=j,this._storageCache=Q,this._storage=ge,this._logger=Ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fo(C,N){const j=C.target.error||void 0;return er.create(N,{originalErrorMessage:j&&j.message})}const _r="app_namespace_store";class Sa{constructor(N,j,Q,ge=function(){return new Promise((C,N)=>{try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=Q=>{N(fo(Q,"storage-open"))},j.onsuccess=Q=>{C(Q.target.result)},j.onupgradeneeded=Q=>{const ge=Q.target.result;switch(Q.oldVersion){case 0:ge.createObjectStore(_r,{keyPath:"compositeKey"})}}}catch(j){N(er.create("storage-open",{originalErrorMessage:j}))}})}()){this.appId=N,this.appName=j,this.namespace=Q,this.openDbPromise=ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var j=this;return(0,W.Z)(function*(){const Q=yield j.openDbPromise;return new Promise((ge,Ce)=>{const gt=Q.transaction([_r],"readonly").objectStore(_r),pt=j.createCompositeKey(N);try{const En=gt.get(pt);En.onerror=wn=>{Ce(fo(wn,"storage-get"))},En.onsuccess=wn=>{const kr=wn.target.result;ge(kr?kr.value:void 0)}}catch(En){Ce(er.create("storage-get",{originalErrorMessage:En&&En.message}))}})})()}set(N,j){var Q=this;return(0,W.Z)(function*(){const ge=yield Q.openDbPromise;return new Promise((Ce,ze)=>{const pt=ge.transaction([_r],"readwrite").objectStore(_r),En=Q.createCompositeKey(N);try{const wn=pt.put({compositeKey:En,value:j});wn.onerror=kr=>{ze(fo(kr,"storage-set"))},wn.onsuccess=()=>{Ce()}}catch(wn){ze(er.create("storage-set",{originalErrorMessage:wn&&wn.message}))}})})()}delete(N){var j=this;return(0,W.Z)(function*(){const Q=yield j.openDbPromise;return new Promise((ge,Ce)=>{const gt=Q.transaction([_r],"readwrite").objectStore(_r),pt=j.createCompositeKey(N);try{const En=gt.delete(pt);En.onerror=wn=>{Ce(fo(wn,"storage-delete"))},En.onsuccess=()=>{ge()}}catch(En){Ce(er.create("storage-delete",{originalErrorMessage:En&&En.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Ws{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,W.Z)(function*(){const j=N.storage.getLastFetchStatus(),Q=N.storage.getLastSuccessfulFetchTimestampMillis(),ge=N.storage.getActiveConfig(),Ce=yield j;Ce&&(N.lastFetchStatus=Ce);const ze=yield Q;ze&&(N.lastSuccessfulFetchTimestampMillis=ze);const gt=yield ge;gt&&(N.activeConfig=gt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function na(){return iu.apply(this,arguments)}function iu(){return(iu=(0,W.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,me._registerComponent)(new ae.wA("remote-config",function(N,{instanceIdentifier:j}){const Q=N.getProvider("app").getImmediate(),ge=N.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw er.create("registration-window");if(!(0,le.hl)())throw er.create("indexed-db-unavailable");const{projectId:Ce,apiKey:ze,appId:gt}=Q.options;if(!Ce)throw er.create("registration-project-id");if(!ze)throw er.create("registration-api-key");if(!gt)throw er.create("registration-app-id");const pt=new Sa(gt,Q.name,j=j||"firebase"),En=new Ws(pt),wn=new _e.Yd(On);wn.logLevel=_e.in.ERROR;const kr=new nr(ge,me.SDK_VERSION,j,Ce,ze,gt),Ii=new Yr(kr,pt),li=new ho(Ii,pt,En,wn),Ns=new Yt(Q,li,En,pt,wn);return function(C){const N=(0,le.m9)(C);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Ns),Ns},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(On,"0.3.3"),(0,me.registerVersion)(On,"0.3.3","esm2017");const ra="/firebase-messaging-sw.js",Pr="/firebase-cloud-messaging-push-scope",bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",si="google.c.a.c_id",ts="google.c.a.c_l",Cs="google.c.a.ts",go="google.c.a.e";var Wn=(()=>{return(C=Wn||(Wn={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Wn;var C})();function _i(C){const N=new Uint8Array(C);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mo(C){const j=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Q=atob(j),ge=new Uint8Array(Q.length);for(let Ce=0;Ce<Q.length;++Ce)ge[Ce]=Q.charCodeAt(Ce);return ge}const Gs="fcm_token_details_db",jr="fcm_token_object_Store";function zs(C){return xn.apply(this,arguments)}function xn(){return(xn=(0,W.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ce=>Ce.name).includes(Gs))return null;let N=null;return(yield(0,oe.openDb)(Gs,5,function(){var Q=(0,W.Z)(function*(ge){var Ce;if(ge.oldVersion<2||!ge.objectStoreNames.contains(jr))return;const ze=ge.transaction.objectStore(jr),gt=yield ze.index("fcmSenderId").get(C);if(yield ze.clear(),gt)if(2===ge.oldVersion){const pt=gt;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;N={token:pt.fcmToken,createTime:null!==(Ce=pt.createTime)&&void 0!==Ce?Ce:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:_i(pt.vapidKey)}}}else if(3===ge.oldVersion){const pt=gt;N={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:_i(pt.auth),p256dh:_i(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:_i(pt.vapidKey)}}}else if(4===ge.oldVersion){const pt=gt;N={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:_i(pt.auth),p256dh:_i(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:_i(pt.vapidKey)}}}});return function(ge){return Q.apply(this,arguments)}}())).close(),yield(0,oe.deleteDb)(Gs),yield(0,oe.deleteDb)("fcm_vapid_details_db"),yield(0,oe.deleteDb)("undefined"),su(N)?N:null})).apply(this,arguments)}function su(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:N}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Er="firebase-messaging-store";let Oo=null;function S(){return Oo||(Oo=(0,oe.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Er)}})),Oo}function L(C){return R.apply(this,arguments)}function R(){return(R=(0,W.Z)(function*(C){const N=mt(C),Q=yield(yield S()).transaction(Er).objectStore(Er).get(N);if(Q)return Q;{const ge=yield zs(C.appConfig.senderId);if(ge)return yield B(C,ge),ge}})).apply(this,arguments)}function B(C,N){return te.apply(this,arguments)}function te(){return(te=(0,W.Z)(function*(C,N){const j=mt(C),ge=(yield S()).transaction(Er,"readwrite");return yield ge.objectStore(Er).put(N,j),yield ge.complete,N})).apply(this,arguments)}function we(C){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,W.Z)(function*(C){const N=mt(C),Q=(yield S()).transaction(Er,"readwrite");yield Q.objectStore(Er).delete(N),yield Q.complete})).apply(this,arguments)}function mt({appConfig:C}){return C.appId}const yt=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hn(C,N){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,W.Z)(function*(C,N){const j=yield Un(C),Q=Ds(N),ge={method:"POST",headers:j,body:JSON.stringify(Q)};let Ce;try{Ce=yield(yield fetch(Cn(C.appConfig),ge)).json()}catch(ze){throw yt.create("token-subscribe-failed",{errorInfo:ze})}if(Ce.error)throw yt.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw yt.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function bn(C,N){return qt.apply(this,arguments)}function qt(){return(qt=(0,W.Z)(function*(C,N){const j=yield Un(C),Q=Ds(N.subscriptionOptions),ge={method:"PATCH",headers:j,body:JSON.stringify(Q)};let Ce;try{Ce=yield(yield fetch(`${Cn(C.appConfig)}/${N.token}`,ge)).json()}catch(ze){throw yt.create("token-update-failed",{errorInfo:ze})}if(Ce.error)throw yt.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw yt.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function Ar(C,N){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,W.Z)(function*(C,N){const Q={method:"DELETE",headers:yield Un(C)};try{const Ce=yield(yield fetch(`${Cn(C.appConfig)}/${N}`,Q)).json();if(Ce.error)throw yt.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(ge){throw yt.create("token-unsubscribe-failed",{errorInfo:ge})}})).apply(this,arguments)}function Cn({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Un(C){return zi.apply(this,arguments)}function zi(){return(zi=(0,W.Z)(function*({appConfig:C,installations:N}){const j=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${j}`})})).apply(this,arguments)}function Ds({p256dh:C,auth:N,endpoint:j,vapidKey:Q}){const ge={web:{endpoint:j,auth:N,p256dh:C}};return Q!==bs&&(ge.web.applicationPubKey=Q),ge}const Nn=6048e5;function Br(C){return yo.apply(this,arguments)}function yo(){return(yo=(0,W.Z)(function*(C){const N=yield Fo(C.swRegistration,C.vapidKey),j={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:N.endpoint,auth:_i(N.getKey("auth")),p256dh:_i(N.getKey("p256dh"))},Q=yield L(C.firebaseDependencies);if(Q){if(xa(Q.subscriptionOptions,j))return Date.now()>=Q.createTime+Nn?Rc(C,{token:Q.token,createTime:Date.now(),subscriptionOptions:j}):Q.token;try{yield Ar(C.firebaseDependencies,Q.token)}catch(ge){console.warn(ge)}return vo(C.firebaseDependencies,j)}return vo(C.firebaseDependencies,j)})).apply(this,arguments)}function Ks(C){return xt.apply(this,arguments)}function xt(){return(xt=(0,W.Z)(function*(C){const N=yield L(C.firebaseDependencies);N&&(yield Ar(C.firebaseDependencies,N.token),yield we(C.firebaseDependencies));const j=yield C.swRegistration.pushManager.getSubscription();return!j||j.unsubscribe()})).apply(this,arguments)}function Rc(C,N){return _o.apply(this,arguments)}function _o(){return(_o=(0,W.Z)(function*(C,N){try{const j=yield bn(C.firebaseDependencies,N),Q=Object.assign(Object.assign({},N),{token:j,createTime:Date.now()});return yield B(C.firebaseDependencies,Q),j}catch(j){throw yield Ks(C),j}})).apply(this,arguments)}function vo(C,N){return ko.apply(this,arguments)}function ko(){return(ko=(0,W.Z)(function*(C,N){const Q={token:yield hn(C,N),createTime:Date.now(),subscriptionOptions:N};return yield B(C,Q),Q.token})).apply(this,arguments)}function Fo(C,N){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,W.Z)(function*(C,N){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mo(N)})})).apply(this,arguments)}function xa(C,N){return N.vapidKey===C.vapidKey&&N.endpoint===C.endpoint&&N.auth===C.auth&&N.p256dh===C.p256dh}function Be(C){const N={from:C.from,collapseKey:C.collapse_key,messageId:C.fcm_message_id};return function(C,N){if(!N.notification)return;C.notification={};const j=N.notification.title;j&&(C.notification.title=j);const Q=N.notification.body;Q&&(C.notification.body=Q);const ge=N.notification.image;ge&&(C.notification.image=ge)}(N,C),function(C,N){!N.data||(C.data=N.data)}(N,C),function(C,N){if(!N.fcmOptions)return;C.fcmOptions={};const j=N.fcmOptions.link;j&&(C.fcmOptions.link=j);const Q=N.fcmOptions.analytics_label;Q&&(C.fcmOptions.analyticsLabel=Q)}(N,C),N}function Na(C){return"object"==typeof C&&!!C&&si in C}function Pi(C,N){const j=[];for(let Q=0;Q<C.length;Q++)j.push(C.charAt(Q)),Q<N.length&&j.push(N.charAt(Q));return j.join("")}function Ma(C){return yt.create("missing-app-config-values",{valueName:C})}Pi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rs{constructor(N,j,Q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ge=function(C){if(!C||!C.options)throw Ma("App Configuration Object");if(!C.name)throw Ma("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:j}=C;for(const Q of N)if(!j[Q])throw Ma(Q);return{appName:C.name,projectId:j.projectId,apiKey:j.apiKey,appId:j.appId,senderId:j.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:ge,installations:j,analyticsProvider:Q}}_delete(){return Promise.resolve()}}function qu(C){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,W.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ra,{scope:Pr}),C.swRegistration.update().catch(()=>{})}catch(N){throw yt.create("failed-service-worker-registration",{browserErrorMessage:N.message})}})).apply(this,arguments)}function zn(C,N){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,W.Z)(function*(C,N){if(!N&&!C.swRegistration&&(yield qu(C)),N||!C.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw yt.create("invalid-sw-registration");C.swRegistration=N}})).apply(this,arguments)}function cr(C,N){return vi.apply(this,arguments)}function vi(){return(vi=(0,W.Z)(function*(C,N){N?C.vapidKey=N:C.vapidKey||(C.vapidKey=bs)})).apply(this,arguments)}function Eo(){return(Eo=(0,W.Z)(function*(C,N){if(!navigator)throw yt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yt.create("permission-blocked");return yield cr(C,null==N?void 0:N.vapidKey),yield zn(C,null==N?void 0:N.serviceWorkerRegistration),Br(C)})).apply(this,arguments)}function Ki(C,N,j){return au.apply(this,arguments)}function au(){return(au=(0,W.Z)(function*(C,N,j){const Q=uu(N);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(Q,{message_id:j[si],message_name:j[ts],message_time:j[Cs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function uu(C){switch(C){case Wn.NOTIFICATION_CLICKED:return"notification_open";case Wn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Uo(){return(Uo=(0,W.Z)(function*(C,N){const j=N.data;if(!j.isFirebaseMessaging)return;C.onMessageHandler&&j.messageType===Wn.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Be(j)):C.onMessageHandler.next(Be(j)));const Q=j.data;Na(Q)&&"1"===Q[go]&&(yield Ki(C,j.messageType,Q))})).apply(this,arguments)}const lu="@firebase/messaging";function sa(){return is.apply(this,arguments)}function is(){return(is=(0,W.Z)(function*(){return"undefined"!=typeof window&&(0,le.hl)()&&(yield(0,le.eu)())&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,me._registerComponent)(new ae.wA("messaging",C=>{const N=new rs(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",j=>function(C,N){return Uo.apply(this,arguments)}(N,j)),N},"PUBLIC")),(0,me._registerComponent)(new ae.wA("messaging-internal",C=>{const N=C.getProvider("messaging").getImmediate();return{getToken:Q=>function(C,N){return Eo.apply(this,arguments)}(N,Q)}},"PRIVATE")),(0,me.registerVersion)(lu,"0.9.4"),(0,me.registerVersion)(lu,"0.9.4","esm2017");const ki="analytics",Mn="firebase_id",qs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bo="https://www.googletagmanager.com/gtag/js",rr=new _e.Yd("@firebase/analytics");function Zu(C){return Promise.all(C.map(N=>N.catch(j=>j)))}function Co(C,N){const j=document.createElement("script");j.src=`${bo}?l=${C}&id=${N}`,j.async=!0,document.head.appendChild(j)}function lr(C,N,j,Q,ge,Ce){return ua.apply(this,arguments)}function ua(){return(ua=(0,W.Z)(function*(C,N,j,Q,ge,Ce){const ze=Q[ge];try{if(ze)yield N[ze];else{const pt=(yield Zu(j)).find(En=>En.measurementId===ge);pt&&(yield N[pt.appId])}}catch(gt){rr.error(gt)}C("config",ge,Ce)})).apply(this,arguments)}function ss(C,N,j,Q,ge){return dr.apply(this,arguments)}function dr(){return(dr=(0,W.Z)(function*(C,N,j,Q,ge){try{let Ce=[];if(ge&&ge.send_to){let ze=ge.send_to;Array.isArray(ze)||(ze=[ze]);const gt=yield Zu(j);for(const pt of ze){const En=gt.find(kr=>kr.measurementId===pt),wn=En&&N[En.appId];if(!wn){Ce=[];break}Ce.push(wn)}}0===Ce.length&&(Ce=Object.values(N)),yield Promise.all(Ce),C("event",Q,ge||{})}catch(Ce){rr.error(Ce)}})).apply(this,arguments)}function Fa(){const C=window.document.getElementsByTagName("script");for(const N of Object.values(C))if(N.src&&N.src.includes(bo))return N;return null}const kn=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Yu=new class{constructor(N={},j=1e3){this.throttleMetadata=N,this.intervalMillis=j}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,j){this.throttleMetadata[N]=j}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function _u(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function vu(C){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,W.Z)(function*(C){var N;const{appId:j,apiKey:Q}=C,ge={method:"GET",headers:_u(Q)},Ce=qs.replace("{app-id}",j),ze=yield fetch(Ce,ge);if(200!==ze.status&&304!==ze.status){let gt="";try{const pt=yield ze.json();(null===(N=pt.error)||void 0===N?void 0:N.message)&&(gt=pt.error.message)}catch(pt){}throw kn.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:gt})}return ze.json()})).apply(this,arguments)}function Do(C){return $r.apply(this,arguments)}function $r(){return($r=(0,W.Z)(function*(C,N=Yu,j){const{appId:Q,apiKey:ge,measurementId:Ce}=C.options;if(!Q)throw kn.create("no-app-id");if(!ge){if(Ce)return{measurementId:Ce,appId:Q};throw kn.create("no-api-key")}const ze=N.getThrottleMetadata(Q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},gt=new la;return setTimeout((0,W.Z)(function*(){gt.abort()}),void 0!==j?j:6e4),ca({appId:Q,apiKey:ge,measurementId:Ce},ze,gt,N)})).apply(this,arguments)}function ca(C,N,j){return os.apply(this,arguments)}function os(){return(os=(0,W.Z)(function*(C,{throttleEndTimeMillis:N,backoffCount:j},Q,ge=Yu){const{appId:Ce,measurementId:ze}=C;try{yield To(Q,N)}catch(gt){if(ze)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${gt.message}]`),{appId:Ce,measurementId:ze};throw gt}try{const gt=yield vu(C);return ge.deleteThrottleMetadata(Ce),gt}catch(gt){if(!Pc(gt)){if(ge.deleteThrottleMetadata(Ce),ze)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${gt.message}]`),{appId:Ce,measurementId:ze};throw gt}const pt=503===Number(gt.customData.httpStatus)?(0,le.$s)(j,ge.intervalMillis,30):(0,le.$s)(j,ge.intervalMillis),En={throttleEndTimeMillis:Date.now()+pt,backoffCount:j+1};return ge.setThrottleMetadata(Ce,En),rr.debug(`Calling attemptFetch again in ${pt} millis`),ca(C,En,Q,ge)}})).apply(this,arguments)}function To(C,N){return new Promise((j,Q)=>{const ge=Math.max(N-Date.now(),0),Ce=setTimeout(j,ge);C.addEventListener(()=>{clearTimeout(Ce),Q(kn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function Pc(C){if(!(C instanceof le.ZR&&C.customData))return!1;const N=Number(C.customData.httpStatus);return 429===N||500===N||503===N||504===N}class la{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}function Ys(){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,W.Z)(function*(){if(!(0,le.hl)())return rr.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(C){return rr.warn(kn.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function as(){return(as=(0,W.Z)(function*(C,N,j,Q,ge,Ce,ze){var gt;const pt=Do(C);pt.then(li=>{j[li.measurementId]=li.appId,C.options.measurementId&&li.measurementId!==C.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${li.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(li=>rr.error(li)),N.push(pt);const En=Ys().then(li=>{if(li)return Q.getId()}),[wn,kr]=yield Promise.all([pt,En]);Fa()||Co(Ce,wn.measurementId),ge("js",new Date);const Ii=null!==(gt=null==ze?void 0:ze.config)&&void 0!==gt?gt:{};return Ii.origin="firebase",Ii.update=!0,null!=kr&&(Ii[Mn]=kr),ge("config",wn.measurementId,Ii),wn.measurementId})).apply(this,arguments)}class Js{constructor(N){this.app=N}_delete(){return delete qi[this.app.options.appId],Promise.resolve()}}let qi={},Oc=[];const Ao={};let Ss,Qr,As="dataLayer",wu=!1;function I(C,N,j){!function(){const C=[];if((0,le.ru)()&&C.push("This is a browser extension environment."),(0,le.zI)()||C.push("Cookies are not available."),C.length>0){const N=C.map((Q,ge)=>`(${ge+1}) ${Q}`).join(" "),j=kn.create("invalid-analytics-context",{errorInfo:N});rr.warn(j.message)}}();const Q=C.options.appId;if(!Q)throw kn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw kn.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qi[Q])throw kn.create("already-exists",{id:Q});if(!wu){!function(C){let N=[];Array.isArray(window[C])?N=window[C]:window[C]=N}(As);const{wrappedGtag:Ce,gtagCore:ze}=function(C,N,j,Q,ge){let Ce=function(...ze){window[Q].push(arguments)};return window[ge]&&"function"==typeof window[ge]&&(Ce=window[ge]),window[ge]=function(C,N,j,Q){function Ce(){return(Ce=(0,W.Z)(function*(ze,gt,pt){try{"event"===ze?yield ss(C,N,j,gt,pt):"config"===ze?yield lr(C,N,j,Q,gt,pt):C("set",gt)}catch(En){rr.error(En)}})).apply(this,arguments)}return function(ze,gt,pt){return Ce.apply(this,arguments)}}(Ce,C,N,j),{gtagCore:Ce,wrappedGtag:window[ge]}}(qi,Oc,Ao,As,"gtag");Qr=Ce,Ss=ze,wu=!0}return qi[Q]=function(C,N,j,Q,ge,Ce,ze){return as.apply(this,arguments)}(C,Oc,Ao,N,Ss,As,j),new Js(C)}function _(){return(_=(0,W.Z)(function*(C,N,j,Q,ge){if(ge&&ge.global)C("event",j,Q);else{const Ce=yield N;C("event",j,Object.assign(Object.assign({},Q),{send_to:Ce}))}})).apply(this,arguments)}function Gt(){return ai.apply(this,arguments)}function ai(){return(ai=(0,W.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(C){return!1}})).apply(this,arguments)}const Va="@firebase/analytics";(0,me._registerComponent)(new ae.wA(ki,(N,{options:j})=>I(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,me._registerComponent)(new ae.wA("analytics-internal",function(N){try{const j=N.getProvider(ki).getImmediate();return{logEvent:(Q,ge,Ce)=>function(C,N,j,Q){C=(0,le.m9)(C),function(C,N,j,Q,ge){return _.apply(this,arguments)}(Qr,qi[C.app.options.appId],N,j,Q).catch(ge=>rr.error(ge))}(j,Q,ge,Ce)}}catch(j){throw kn.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,me.registerVersion)(Va,"0.7.4"),(0,me.registerVersion)(Va,"0.7.4","esm2017");var Af=U(7771),jn=U(3637),hh=U(3342),xl=U(3101),fh=U(309);const kc=new A.GfV("7.2.0"),Fc="__angularfire_symbol__analyticsIsSupported",Lc="__angularfire_symbol__remoteConfigIsSupported",Ju="__angularfire_symbol__messagingIsSupported";function Iu(C,N,j){if(N){if(1===N.length)return N[0];const Ce=N.filter(ze=>ze.app===j);if(1===Ce.length)return Ce[0]}return j.container.getProvider(C).getImmediate({optional:!0})}globalThis[Fc]||(globalThis[Fc]=Gt().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[Ju]||(globalThis[Ju]=sa().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[Lc]||(globalThis[Lc]=na().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const Xu=(C,N)=>{const j=N?[N]:(0,x.C6)(),Q=[];return j.forEach(ge=>{ge.container.getProvider(C).instances.forEach(ze=>{Q.includes(ze)||Q.push(ze)})}),Q};function $o(){}class bu{constructor(N,j=Af.N){this.zone=N,this.delegate=j}now(){return this.delegate.now()}schedule(N,j,Q){const ge=this.zone;return this.delegate.schedule(function(ze){ge.runGuarded(()=>{N.apply(this,[ze])})},j,Q)}}class xs{constructor(N){this.zone=N,this.task=null}call(N,j){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$o,{},$o,$o)),j.pipe((0,hh.b)({next:Q,complete:Q,error:Q})).subscribe(N).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sn=(()=>{class C{constructor(j){this.ngZone=j,this.outsideAngular=j.runOutsideAngular(()=>new bu(Zone.current)),this.insideAngular=j.run(()=>new bu(Zone.current,jn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(j){return new(j||C)(A.LFG(A.R0b))},C.\u0275prov=A.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Xs(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function ec(C){return Xs(),function(C){return function(j){return(j=j.lift(new xs(C.ngZone))).pipe((0,xl.R)(C.outsideAngular),(0,fh.QV)(C.insideAngular))}}(Xs())(C)}},4363:(dt,Re,U)=>{"use strict";U.d(Re,{F0:()=>dr,rH:()=>Fa,yS:()=>La,Bz:()=>Qs,lC:()=>yu});var A=U(8583),x=U(3018),W=U(9765),me=U(7971);class le extends W.xQ{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const _=super._subscribe(E);return _&&!_.closed&&E.next(this._value),_}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new me.N;return this._value}next(E){super.next(this._value=E)}}var ae=U(4869),_e=U(9796),oe=U(7393);class ce extends oe.L{notifyNext(E,_,T,P,V){this.destination.next(_)}notifyError(E,_){this.destination.error(E)}notifyComplete(E){this.destination.complete()}}class z extends oe.L{constructor(E,_,T){super(),this.parent=E,this.outerValue=_,this.outerIndex=T,this.index=0}_next(E){this.parent.notifyNext(this.outerValue,E,this.outerIndex,this.index++,this)}_error(E){this.parent.notifyError(E,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var q=U(7444),fe=U(7574);function pe(I,E,_,T,P=new z(I,_,T)){if(!P.closed)return E instanceof fe.y?E.subscribe(P):(0,q.s)(E)(P)}var be=U(6693);const Ue={};class he{constructor(E){this.resultSelector=E}call(E,_){return _.subscribe(new ke(E,this.resultSelector))}}class ke extends ce{constructor(E,_){super(E),this.resultSelector=_,this.active=0,this.values=[],this.observables=[]}_next(E){this.values.push(Ue),this.observables.push(E)}_complete(){const E=this.observables,_=E.length;if(0===_)this.destination.complete();else{this.active=_,this.toRespond=_;for(let T=0;T<_;T++)this.add(pe(this,E[T],void 0,T))}}notifyComplete(E){0==(this.active-=1)&&this.destination.complete()}notifyNext(E,_,T){const P=this.values,Y=this.toRespond?P[T]===Ue?--this.toRespond:this.toRespond:0;P[T]=_,0===Y&&(this.resultSelector?this._tryResultSelector(P):this.destination.next(P.slice()))}_tryResultSelector(E){let _;try{_=this.resultSelector.apply(this,E)}catch(T){return void this.destination.error(T)}this.destination.next(_)}}var Te=U(4402),xe=U(9193);function $e(I){return new fe.y(E=>{let _;try{_=I()}catch(P){return void E.error(P)}return(_?(0,Te.D)(_):(0,xe.c)()).subscribe(E)})}var He=U(5917),et=U(3410),Xt=U(8071),Nt=U(2441),kt=U(5345);function At(I){return function(_){const T=new Vt(I),P=_.lift(T);return T.caught=P}}class Vt{constructor(E){this.selector=E}call(E,_){return _.subscribe(new Dt(E,this.selector,this.caught))}}class Dt extends kt.Ds{constructor(E,_,T){super(E),this.selector=_,this.caught=T}error(E){if(!this.isStopped){let _;try{_=this.selector(E,this.caught)}catch(V){return void super.error(V)}this._unsubscribeAndRecycle();const T=new kt.IY(this);this.add(T);const P=(0,kt.ft)(_,T);P!==T&&this.add(P)}}}var wt=U(5435),Ht=U(7108);function ft(I){return function(_){return 0===I?(0,xe.c)():_.lift(new sr(I))}}class sr{constructor(E){if(this.total=E,this.total<0)throw new Ht.W}call(E,_){return _.subscribe(new pi(E,this.total))}}class pi extends oe.L{constructor(E,_){super(E),this.total=_,this.ring=new Array,this.count=0}_next(E){const _=this.ring,T=this.total,P=this.count++;_.length<T?_.push(E):_[P%T]=E}_complete(){const E=this.destination;let _=this.count;if(_>0){const T=this.count>=this.total?this.total:this.count,P=this.ring;for(let V=0;V<T;V++){const Y=_++%T;E.next(P[Y])}}E.complete()}}var Ai=U(4635),Us=U(5242),Yn=U(4487),Hi=U(5319);class Wi{constructor(E){this.callback=E}call(E,_){return _.subscribe(new Fn(E,this.callback))}}class Fn extends oe.L{constructor(E,_){super(E),this.add(new Hi.w(_))}}var Et=U(8002),Tn=U(3190),Si=U(5257),en=U(9761),Pt=U(2145),Ri=U(4612),Qn=U(8049),ln=U(9773),Fe=U(3342),br=U(1307),$n=U(3282);class Jn{constructor(E,_){this.id=E,this.url=_}}class zt extends Jn{constructor(E,_,T="imperative",P=null){super(E,_),this.navigationTrigger=T,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class or extends Jn{constructor(E,_,T){super(E,_),this.urlAfterRedirects=T}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class es extends Jn{constructor(E,_,T){super(E,_),this.reason=T}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ve extends Jn{constructor(E,_,T){super(E,_),this.error=T}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class K extends Jn{constructor(E,_,T,P){super(E,_),this.urlAfterRedirects=T,this.state=P}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie extends Jn{constructor(E,_,T,P){super(E,_),this.urlAfterRedirects=T,this.state=P}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends Jn{constructor(E,_,T,P,V){super(E,_),this.urlAfterRedirects=T,this.state=P,this.shouldActivate=V}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ve extends Jn{constructor(E,_,T,P){super(E,_),this.urlAfterRedirects=T,this.state=P}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt extends Jn{constructor(E,_,T,P){super(E,_),this.urlAfterRedirects=T,this.state=P}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Je{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tt{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rt{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hn{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class on{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ot{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ln{constructor(E,_,T){this.routerEvent=E,this.position=_,this.anchor=T}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ot="primary";class X{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_[0]:_}return null}getAll(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function re(I){return new X(I)}const ee="ngNavigationCancelingError";function Pe(I){const E=Error("NavigationCancelingError: "+I);return E[ee]=!0,E}function ut(I,E,_){const T=_.path.split("/");if(T.length>I.length||"full"===_.pathMatch&&(E.hasChildren()||T.length<I.length))return null;const P={};for(let V=0;V<T.length;V++){const Y=T[V],se=I[V];if(Y.startsWith(":"))P[Y.substring(1)]=se;else if(Y!==se.path)return null}return{consumed:I.slice(0,T.length),posParams:P}}function tn(I,E){const _=I?Object.keys(I):void 0,T=E?Object.keys(E):void 0;if(!_||!T||_.length!=T.length)return!1;let P;for(let V=0;V<_.length;V++)if(P=_[V],!ar(I[P],E[P]))return!1;return!0}function ar(I,E){if(Array.isArray(I)&&Array.isArray(E)){if(I.length!==E.length)return!1;const _=[...I].sort(),T=[...E].sort();return _.every((P,V)=>T[V]===P)}return I===E}function Vn(I){return Array.prototype.concat.apply([],I)}function qr(I){return I.length>0?I[I.length-1]:null}function Kt(I,E){for(const _ in I)I.hasOwnProperty(_)&&E(I[_],_)}function ur(I){return(0,x.CqO)(I)?I:(0,x.QGY)(I)?(0,Te.D)(Promise.resolve(I)):(0,He.of)(I)}const js={exact:function gi(I,E,_){if(!Xn(I.segments,E.segments)||!No(I.segments,E.segments,_)||I.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!I.children[T]||!gi(I.children[T],E.children[T],_))return!1;return!0},subset:Vr},Aa={exact:function(I,E){return tn(I,E)},subset:function(I,E){return Object.keys(E).length<=Object.keys(I).length&&Object.keys(E).every(_=>ar(I[_],E[_]))},ignored:()=>!0};function ys(I,E,_){return js[_.paths](I.root,E.root,_.matrixParams)&&Aa[_.queryParams](I.queryParams,E.queryParams)&&!("exact"===_.fragment&&I.fragment!==E.fragment)}function Vr(I,E,_){return Bs(I,E,E.segments,_)}function Bs(I,E,_,T){if(I.segments.length>_.length){const P=I.segments.slice(0,_.length);return!(!Xn(P,_)||E.hasChildren()||!No(P,_,T))}if(I.segments.length===_.length){if(!Xn(I.segments,_)||!No(I.segments,_,T))return!1;for(const P in E.children)if(!I.children[P]||!Vr(I.children[P],E.children[P],T))return!1;return!0}{const P=_.slice(0,I.segments.length),V=_.slice(I.segments.length);return!!(Xn(I.segments,P)&&No(I.segments,P,T)&&I.children[ot])&&Bs(I.children[ot],E,V,T)}}function No(I,E,_){return E.every((T,P)=>Aa[_](I[P].parameters,T.parameters))}class Nr{constructor(E,_,T){this.root=E,this.queryParams=_,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=re(this.queryParams)),this._queryParamMap}toString(){return Ut.serialize(this)}}class It{constructor(E,_){this.segments=E,this.children=_,this.parent=null,Kt(_,(T,P)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dn(this)}}class xi{constructor(E,_){this.path=E,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=re(this.parameters)),this._parameterMap}toString(){return Ft(this)}}function Xn(I,E){return I.length===E.length&&I.every((_,T)=>_.path===E[T].path)}class ni{}class it{parse(E){const _=new vn(E);return new Nr(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(E){var I;return`${`/${On(E.root,!0)}`}${function(I){const E=Object.keys(I).map(_=>{const T=I[_];return Array.isArray(T)?T.map(P=>`${An(_)}=${An(P)}`).join("&"):`${An(_)}=${An(T)}`}).filter(_=>!!_);return E.length?`?${E.join("&")}`:""}(E.queryParams)}${"string"==typeof E.fragment?`#${I=E.fragment,encodeURI(I)}`:""}`}}const Ut=new it;function dn(I){return I.segments.map(E=>Ft(E)).join("/")}function On(I,E){if(!I.hasChildren())return dn(I);if(E){const _=I.children[ot]?On(I.children[ot],!1):"",T=[];return Kt(I.children,(P,V)=>{V!==ot&&T.push(`${V}:${On(P,!1)}`)}),T.length>0?`${_}(${T.join("//")})`:_}{const _=function(I,E){let _=[];return Kt(I.children,(T,P)=>{P===ot&&(_=_.concat(E(T,P)))}),Kt(I.children,(T,P)=>{P!==ot&&(_=_.concat(E(T,P)))}),_}(I,(T,P)=>P===ot?[On(I.children[ot],!1)]:[`${P}:${On(T,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[ot]?`${dn(I)}/${_[0]}`:`${dn(I)}/(${_.join("//")})`}}function vs(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function An(I){return vs(I).replace(/%3B/gi,";")}function pn(I){return vs(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function er(I){return decodeURIComponent(I)}function $s(I){return er(I.replace(/\+/g,"%20"))}function Ft(I){return`${pn(I.path)}${function(I){return Object.keys(I).map(E=>`;${pn(E)}=${pn(I[E])}`).join("")}(I.parameters)}`}const Cr=/^[^\/()?;=#]+/;function ri(I){const E=I.match(Cr);return E?E[0]:""}const Dr=/^[^=?&#]+/,Zr=/^[^?&#]+/;class vn{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(_).length>0)&&(T[ot]=new It(E,_)),T}parseSegment(){const E=ri(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new xi(er(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const _=ri(this.remaining);if(!_)return;this.capture(_);let T="";if(this.consumeOptional("=")){const P=ri(this.remaining);P&&(T=P,this.capture(T))}E[er(_)]=er(T)}parseQueryParam(E){const _=function(I){const E=I.match(Dr);return E?E[0]:""}(this.remaining);if(!_)return;this.capture(_);let T="";if(this.consumeOptional("=")){const Y=function(I){const E=I.match(Zr);return E?E[0]:""}(this.remaining);Y&&(T=Y,this.capture(T))}const P=$s(_),V=$s(T);if(E.hasOwnProperty(P)){let Y=E[P];Array.isArray(Y)||(Y=[Y],E[P]=Y),Y.push(V)}else E[P]=V}parseParens(E){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=ri(this.remaining),P=this.remaining[T.length];if("/"!==P&&")"!==P&&";"!==P)throw new Error(`Cannot parse url '${this.url}'`);let V;T.indexOf(":")>-1?(V=T.substr(0,T.indexOf(":")),this.capture(V),this.capture(":")):E&&(V=ot);const Y=this.parseChildren();_[V]=1===Object.keys(Y).length?Y[ot]:new It([],Y),this.consumeOptional("//")}return _}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class ws{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const _=this.pathFromRoot(E);return _.length>1?_[_.length-2]:null}children(E){const _=co(E,this._root);return _?_.children.map(T=>T.value):[]}firstChild(E){const _=co(E,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(E){const _=lo(E,this._root);return _.length<2?[]:_[_.length-2].children.map(P=>P.value).filter(P=>P!==E)}pathFromRoot(E){return lo(E,this._root).map(_=>_.value)}}function co(I,E){if(I===E.value)return E;for(const _ of E.children){const T=co(I,_);if(T)return T}return null}function lo(I,E){if(I===E.value)return[E];for(const _ of E.children){const T=lo(I,_);if(T.length)return T.unshift(E),T}return[]}class Gi{constructor(E,_){this.value=E,this.children=_}toString(){return`TreeNode(${this.value})`}}function an(I){const E={};return I&&I.children.forEach(_=>E[_.value.outlet]=_),E}class mi extends ws{constructor(E,_){super(E),this.snapshot=_,Yr(this,E)}toString(){return this.snapshot.toString()}}function Hs(I,E){const _=function(I,E){const Y=new Ni([],{},{},"",{},ot,E,null,I.root,-1,{});return new Oe("",new Gi(Y,[]))}(I,E),T=new le([new xi("",{})]),P=new le({}),V=new le({}),Y=new le({}),se=new le(""),Ne=new ho(T,P,Y,se,V,ot,E,_.root);return Ne.snapshot=_.root,new mi(new Gi(Ne,[]),_)}class ho{constructor(E,_,T,P,V,Y,se,Ne){this.url=E,this.params=_,this.queryParams=T,this.fragment=P,this.data=V,this.outlet=Y,this.component=se,this._futureSnapshot=Ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(E=>re(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(E=>re(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ii(I,E="emptyOnly"){const _=I.pathFromRoot;let T=0;if("always"!==E)for(T=_.length-1;T>=1;){const P=_[T],V=_[T-1];if(P.routeConfig&&""===P.routeConfig.path)T--;else{if(V.component)break;T--}}return function(I){return I.reduce((E,_)=>({params:Object.assign(Object.assign({},E.params),_.params),data:Object.assign(Object.assign({},E.data),_.data),resolve:Object.assign(Object.assign({},E.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(T))}class Ni{constructor(E,_,T,P,V,Y,se,Ne,st,nn,Tt){this.url=E,this.params=_,this.queryParams=T,this.fragment=P,this.data=V,this.outlet=Y,this.component=se,this.routeConfig=Ne,this._urlSegment=st,this._lastPathIndex=nn,this._resolve=Tt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=re(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=re(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Oe extends ws{constructor(E,_){super(_),this.url=E,Yr(this,_)}toString(){return Mr(this._root)}}function Yr(I,E){E.value._routerState=I,E.children.forEach(_=>Yr(I,_))}function Mr(I){const E=I.children.length>0?` { ${I.children.map(Mr).join(", ")} } `:"";return`${I.value}${E}`}function yi(I){if(I.snapshot){const E=I.snapshot,_=I._futureSnapshot;I.snapshot=_,tn(E.queryParams,_.queryParams)||I.queryParams.next(_.queryParams),E.fragment!==_.fragment&&I.fragment.next(_.fragment),tn(E.params,_.params)||I.params.next(_.params),function(I,E){if(I.length!==E.length)return!1;for(let _=0;_<I.length;++_)if(!tn(I[_],E[_]))return!1;return!0}(E.url,_.url)||I.url.next(_.url),tn(E.data,_.data)||I.data.next(_.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Yt(I,E){return tn(I.params,E.params)&&function(I,E){return Xn(I,E)&&I.every((_,T)=>tn(_.parameters,E[T].parameters))}(I.url,E.url)&&!(!I.parent!=!E.parent)&&(!I.parent||Yt(I.parent,E.parent))}function _r(I,E,_){if(_&&I.shouldReuseRoute(E.value,_.value.snapshot)){const T=_.value;T._futureSnapshot=E.value;const P=function(I,E,_){return E.children.map(T=>{for(const P of _.children)if(I.shouldReuseRoute(T.value,P.value.snapshot))return _r(I,T,P);return _r(I,T)})}(I,E,_);return new Gi(T,P)}{if(I.shouldAttach(E.value)){const V=I.retrieve(E.value);if(null!==V){const Y=V.route;return lt(E,Y),Y}}const T=function(I){return new ho(new le(I.url),new le(I.params),new le(I.queryParams),new le(I.fragment),new le(I.data),I.outlet,I.component,I)}(E.value),P=E.children.map(V=>_r(I,V));return new Gi(T,P)}}function lt(I,E){if(I.value.routeConfig!==E.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(I.children.length!==E.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");E.value._futureSnapshot=I.value;for(let _=0;_<I.children.length;++_)lt(I.children[_],E.children[_])}function Ws(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Is(I){return"object"==typeof I&&null!=I&&I.outlets}function Ra(I,E,_,T,P){let V={};return T&&Kt(T,(Y,se)=>{V[se]=Array.isArray(Y)?Y.map(Ne=>`${Ne}`):`${Y}`}),new Nr(_.root===I?E:Po(_.root,I,E),V,P)}function Po(I,E,_){const T={};return Kt(I.children,(P,V)=>{T[V]=P===E?_:Po(P,E,_)}),new It(I.segments,T)}class na{constructor(E,_,T){if(this.isAbsolute=E,this.numberOfDoubleDots=_,this.commands=T,E&&T.length>0&&Ws(T[0]))throw new Error("Root segment cannot have matrix parameters");const P=T.find(Is);if(P&&P!==qr(T))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ra{constructor(E,_,T){this.segmentGroup=E,this.processChildren=_,this.index=T}}function si(I,E,_){if(I||(I=new It([],{})),0===I.segments.length&&I.hasChildren())return ts(I,E,_);const T=function(I,E,_){let T=0,P=E;const V={match:!1,pathIndex:0,commandIndex:0};for(;P<I.segments.length;){if(T>=_.length)return V;const Y=I.segments[P],se=_[T];if(Is(se))break;const Ne=`${se}`,st=T<_.length-1?_[T+1]:null;if(P>0&&void 0===Ne)break;if(Ne&&st&&"object"==typeof st&&void 0===st.outlets){if(!_i(Ne,st,Y))return V;T+=2}else{if(!_i(Ne,{},Y))return V;T++}P++}return{match:!0,pathIndex:P,commandIndex:T}}(I,E,_),P=_.slice(T.commandIndex);if(T.match&&T.pathIndex<I.segments.length){const V=new It(I.segments.slice(0,T.pathIndex),{});return V.children[ot]=new It(I.segments.slice(T.pathIndex),I.children),ts(V,0,P)}return T.match&&0===P.length?new It(I.segments,{}):T.match&&!I.hasChildren()?go(I,E,_):T.match?ts(I,0,P):go(I,E,_)}function ts(I,E,_){if(0===_.length)return new It(I.segments,{});{const T=function(I){return Is(I[0])?I[0].outlets:{[ot]:I}}(_),P={};return Kt(T,(V,Y)=>{"string"==typeof V&&(V=[V]),null!==V&&(P[Y]=si(I.children[Y],E,V))}),Kt(I.children,(V,Y)=>{void 0===T[Y]&&(P[Y]=V)}),new It(I.segments,P)}}function go(I,E,_){const T=I.segments.slice(0,E);let P=0;for(;P<_.length;){const V=_[P];if(Is(V)){const Ne=Sc(V.outlets);return new It(T,Ne)}if(0===P&&Ws(_[0])){T.push(new xi(I.segments[E].path,Wn(_[0]))),P++;continue}const Y=Is(V)?V.outlets[ot]:`${V}`,se=P<_.length-1?_[P+1]:null;Y&&se&&Ws(se)?(T.push(new xi(Y,Wn(se))),P+=2):(T.push(new xi(Y,{})),P++)}return new It(T,{})}function Sc(I){const E={};return Kt(I,(_,T)=>{"string"==typeof _&&(_=[_]),null!==_&&(E[T]=go(new It([],{}),0,_))}),E}function Wn(I){const E={};return Kt(I,(_,T)=>E[T]=`${_}`),E}function _i(I,E,_){return I==_.path&&tn(E,_.parameters)}class Gs{constructor(E,_,T,P){this.routeReuseStrategy=E,this.futureState=_,this.currState=T,this.forwardEvent=P}activate(E){const _=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,T,E),yi(this.futureState.root),this.activateChildRoutes(_,T,E)}deactivateChildRoutes(E,_,T){const P=an(_);E.children.forEach(V=>{const Y=V.value.outlet;this.deactivateRoutes(V,P[Y],T),delete P[Y]}),Kt(P,(V,Y)=>{this.deactivateRouteAndItsChildren(V,T)})}deactivateRoutes(E,_,T){const P=E.value,V=_?_.value:null;if(P===V)if(P.component){const Y=T.getContext(P.outlet);Y&&this.deactivateChildRoutes(E,_,Y.children)}else this.deactivateChildRoutes(E,_,T);else V&&this.deactivateRouteAndItsChildren(_,T)}deactivateRouteAndItsChildren(E,_){this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,_):this.deactivateRouteAndOutlet(E,_)}detachAndStoreRouteSubtree(E,_){const T=_.getContext(E.value.outlet);if(T&&T.outlet){const P=T.outlet.detach(),V=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:P,route:E,contexts:V})}}deactivateRouteAndOutlet(E,_){const T=_.getContext(E.value.outlet),P=T&&E.value.component?T.children:_,V=an(E);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],P);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(E,_,T){const P=an(_);E.children.forEach(V=>{this.activateRoutes(V,P[V.value.outlet],T),this.forwardEvent(new Ot(V.value.snapshot))}),E.children.length&&this.forwardEvent(new Hn(E.value.snapshot))}activateRoutes(E,_,T){const P=E.value,V=_?_.value:null;if(yi(P),P===V)if(P.component){const Y=T.getOrCreateContext(P.outlet);this.activateChildRoutes(E,_,Y.children)}else this.activateChildRoutes(E,_,T);else if(P.component){const Y=T.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const se=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),Y.children.onOutletReAttached(se.contexts),Y.attachRef=se.componentRef,Y.route=se.route.value,Y.outlet&&Y.outlet.attach(se.componentRef,se.route.value),ia(se.route)}else{const se=function(I){for(let E=I.parent;E;E=E.parent){const _=E.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}(P.snapshot),Ne=se?se.module.componentFactoryResolver:null;Y.attachRef=null,Y.route=P,Y.resolver=Ne,Y.outlet&&Y.outlet.activateWith(P,Ne),this.activateChildRoutes(E,null,Y.children)}}else this.activateChildRoutes(E,null,T)}}function ia(I){yi(I.value),I.children.forEach(ia)}class zs{constructor(E,_){this.routes=E,this.module=_}}function xn(I){return"function"==typeof I}function oi(I){return I instanceof Nr}const L=Symbol("INITIAL_VALUE");function R(){return(0,Tn.w)(I=>function(...I){let E,_;return(0,ae.K)(I[I.length-1])&&(_=I.pop()),"function"==typeof I[I.length-1]&&(E=I.pop()),1===I.length&&(0,_e.k)(I[0])&&(I=I[0]),(0,be.n)(I,_).lift(new he(E))}(I.map(E=>E.pipe((0,Si.q)(1),(0,en.O)(L)))).pipe((0,Pt.R)((E,_)=>{let T=!1;return _.reduce((P,V,Y)=>P!==L?P:(V===L&&(T=!0),T||!1!==V&&Y!==_.length-1&&!oi(V)?P:V),E)},L),(0,wt.h)(E=>E!==L),(0,Et.U)(E=>oi(E)?E:!0===E),(0,Si.q)(1)))}let B=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275cmp=x.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,T){1&_&&x._UZ(0,"router-outlet")},directives:function(){return[yu]},encapsulation:2}),I})();function te(I,E=""){for(let _=0;_<I.length;_++){const T=I[_];we(T,Ge(E,T))}}function we(I,E){I.children&&te(I.children,E)}function Ge(I,E){return E?I||E.path?I&&!E.path?`${I}/`:!I&&E.path?E.path:`${I}/${E.path}`:"":I}function mt(I){const E=I.children&&I.children.map(mt),_=E?Object.assign(Object.assign({},I),{children:E}):Object.assign({},I);return!_.component&&(E||_.loadChildren)&&_.outlet&&_.outlet!==ot&&(_.component=B),_}function Wt(I){return I.outlet||ot}function yt(I,E){const _=I.filter(T=>Wt(T)===E);return _.push(...I.filter(T=>Wt(T)!==E)),_}const hn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Qt(I,E,_){var T;if(""===E.path)return"full"===E.pathMatch&&(I.hasChildren()||_.length>0)?Object.assign({},hn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const V=(E.matcher||ut)(_,I,E);if(!V)return Object.assign({},hn);const Y={};Kt(V.posParams,(Ne,st)=>{Y[st]=Ne.path});const se=V.consumed.length>0?Object.assign(Object.assign({},Y),V.consumed[V.consumed.length-1].parameters):Y;return{matched:!0,consumedSegments:V.consumed,lastChild:V.consumed.length,parameters:se,positionalParamSegments:null!==(T=V.posParams)&&void 0!==T?T:{}}}function bn(I,E,_,T,P="corrected"){if(_.length>0&&function(I,E,_){return _.some(T=>Un(I,E,T)&&Wt(T)!==ot)}(I,_,T)){const Y=new It(E,function(I,E,_,T){const P={};P[ot]=T,T._sourceSegment=I,T._segmentIndexShift=E.length;for(const V of _)if(""===V.path&&Wt(V)!==ot){const Y=new It([],{});Y._sourceSegment=I,Y._segmentIndexShift=E.length,P[Wt(V)]=Y}return P}(I,E,T,new It(_,I.children)));return Y._sourceSegment=I,Y._segmentIndexShift=E.length,{segmentGroup:Y,slicedSegments:[]}}if(0===_.length&&function(I,E,_){return _.some(T=>Un(I,E,T))}(I,_,T)){const Y=new It(I.segments,function(I,E,_,T,P,V){const Y={};for(const se of T)if(Un(I,_,se)&&!P[Wt(se)]){const Ne=new It([],{});Ne._sourceSegment=I,Ne._segmentIndexShift="legacy"===V?I.segments.length:E.length,Y[Wt(se)]=Ne}return Object.assign(Object.assign({},P),Y)}(I,E,_,T,I.children,P));return Y._sourceSegment=I,Y._segmentIndexShift=E.length,{segmentGroup:Y,slicedSegments:_}}const V=new It(I.segments,I.children);return V._sourceSegment=I,V._segmentIndexShift=E.length,{segmentGroup:V,slicedSegments:_}}function Un(I,E,_){return(!(I.hasChildren()||E.length>0)||"full"!==_.pathMatch)&&""===_.path}function zi(I,E,_,T){return!!(Wt(I)===T||T!==ot&&Un(E,_,I))&&("**"===I.path||Qt(E,I,_).matched)}function Ds(I,E,_){return 0===E.length&&!I.children[_]}class Nn{constructor(E){this.segmentGroup=E||null}}class Br{constructor(E){this.urlTree=E}}function yo(I){return new fe.y(E=>E.error(new Nn(I)))}function Ks(I){return new fe.y(E=>E.error(new Br(I)))}function xt(I){return new fe.y(E=>E.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I}'`)))}class vo{constructor(E,_,T,P,V){this.configLoader=_,this.urlSerializer=T,this.urlTree=P,this.config=V,this.allowRedirects=!0,this.ngModule=E.get(x.h0i)}apply(){const E=bn(this.urlTree.root,[],[],this.config).segmentGroup,_=new It(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,_,ot).pipe((0,Et.U)(V=>this.createUrlTree(Fo(V),this.urlTree.queryParams,this.urlTree.fragment))).pipe(At(V=>{if(V instanceof Br)return this.allowRedirects=!1,this.match(V.urlTree);throw V instanceof Nn?this.noMatchError(V):V}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,ot).pipe((0,Et.U)(P=>this.createUrlTree(Fo(P),E.queryParams,E.fragment))).pipe(At(P=>{throw P instanceof Nn?this.noMatchError(P):P}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,_,T){const P=E.segments.length>0?new It([],{[ot]:E}):E;return new Nr(P,_,T)}expandSegmentGroup(E,_,T,P){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(E,_,T).pipe((0,Et.U)(V=>new It([],V))):this.expandSegment(E,T,_,T.segments,P,!0)}expandChildren(E,_,T){const P=[];for(const V of Object.keys(T.children))"primary"===V?P.unshift(V):P.push(V);return(0,Te.D)(P).pipe((0,Ri.b)(V=>{const Y=T.children[V],se=yt(_,V);return this.expandSegmentGroup(E,se,Y,V).pipe((0,Et.U)(Ne=>({segment:Ne,outlet:V})))}),(0,Pt.R)((V,Y)=>(V[Y.outlet]=Y.segment,V),{}),function(I,E){const _=arguments.length>=2;return T=>T.pipe(I?(0,wt.h)((P,V)=>I(P,V,T)):Yn.y,ft(1),_?(0,Us.d)(E):(0,Ai.T)(()=>new et.K))}())}expandSegment(E,_,T,P,V,Y){return(0,Te.D)(T).pipe((0,Ri.b)(se=>this.expandSegmentAgainstRoute(E,_,T,se,P,V,Y).pipe(At(st=>{if(st instanceof Nn)return(0,He.of)(null);throw st}))),(0,Qn.P)(se=>!!se),At((se,Ne)=>{if(se instanceof et.K||"EmptyError"===se.name){if(Ds(_,P,V))return(0,He.of)(new It([],{}));throw new Nn(_)}throw se}))}expandSegmentAgainstRoute(E,_,T,P,V,Y,se){return zi(P,_,V,Y)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(E,_,P,V,Y):se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,_,T,P,V,Y):yo(_):yo(_)}expandSegmentAgainstRouteUsingRedirect(E,_,T,P,V,Y){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,P,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(E,_,T,P,V,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,_,T,P){const V=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Ks(V):this.lineralizeSegments(T,V).pipe((0,ln.zg)(Y=>{const se=new It(Y,{});return this.expandSegment(E,se,_,Y,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,_,T,P,V,Y){const{matched:se,consumedSegments:Ne,lastChild:st,positionalParamSegments:nn}=Qt(_,P,V);if(!se)return yo(_);const Tt=this.applyRedirectCommands(Ne,P.redirectTo,nn);return P.redirectTo.startsWith("/")?Ks(Tt):this.lineralizeSegments(P,Tt).pipe((0,ln.zg)(yn=>this.expandSegment(E,_,T,yn.concat(V.slice(st)),Y,!1)))}matchSegmentAgainstRoute(E,_,T,P,V){if("**"===T.path)return T.loadChildren?(T._loadedConfig?(0,He.of)(T._loadedConfig):this.configLoader.load(E.injector,T)).pipe((0,Et.U)(yn=>(T._loadedConfig=yn,new It(P,{})))):(0,He.of)(new It(P,{}));const{matched:Y,consumedSegments:se,lastChild:Ne}=Qt(_,T,P);if(!Y)return yo(_);const st=P.slice(Ne);return this.getChildConfig(E,T,P).pipe((0,ln.zg)(Tt=>{const yn=Tt.module,Gt=Tt.routes,{segmentGroup:ai,slicedSegments:ui}=bn(_,se,st,Gt),Or=new It(ai.segments,ai.children);if(0===ui.length&&Or.hasChildren())return this.expandChildren(yn,Gt,Or).pipe((0,Et.U)(Va=>new It(se,Va)));if(0===Gt.length&&0===ui.length)return(0,He.of)(new It(se,{}));const ci=Wt(T)===V;return this.expandSegment(yn,Or,Gt,ui,ci?ot:V,!0).pipe((0,Et.U)(Rs=>new It(se.concat(Rs.segments),Rs.children)))}))}getChildConfig(E,_,T){return _.children?(0,He.of)(new zs(_.children,E)):_.loadChildren?void 0!==_._loadedConfig?(0,He.of)(_._loadedConfig):this.runCanLoadGuards(E.injector,_,T).pipe((0,ln.zg)(P=>{return P?this.configLoader.load(E.injector,_).pipe((0,Et.U)(V=>(_._loadedConfig=V,V))):(I=_,new fe.y(E=>E.error(Pe(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`))));var I})):(0,He.of)(new zs([],E))}runCanLoadGuards(E,_,T){const P=_.canLoad;if(!P||0===P.length)return(0,He.of)(!0);const V=P.map(Y=>{const se=E.get(Y);let Ne;if((I=se)&&xn(I.canLoad))Ne=se.canLoad(_,T);else{if(!xn(se))throw new Error("Invalid CanLoad guard");Ne=se(_,T)}var I;return ur(Ne)});return(0,He.of)(V).pipe(R(),(0,Fe.b)(Y=>{if(!oi(Y))return;const se=Pe(`Redirecting to "${this.urlSerializer.serialize(Y)}"`);throw se.url=Y,se}),(0,Et.U)(Y=>!0===Y))}lineralizeSegments(E,_){let T=[],P=_.root;for(;;){if(T=T.concat(P.segments),0===P.numberOfChildren)return(0,He.of)(T);if(P.numberOfChildren>1||!P.children[ot])return xt(E.redirectTo);P=P.children[ot]}}applyRedirectCommands(E,_,T){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),E,T)}applyRedirectCreatreUrlTree(E,_,T,P){const V=this.createSegmentGroup(E,_.root,T,P);return new Nr(V,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(E,_){const T={};return Kt(E,(P,V)=>{if("string"==typeof P&&P.startsWith(":")){const se=P.substring(1);T[V]=_[se]}else T[V]=P}),T}createSegmentGroup(E,_,T,P){const V=this.createSegments(E,_.segments,T,P);let Y={};return Kt(_.children,(se,Ne)=>{Y[Ne]=this.createSegmentGroup(E,se,T,P)}),new It(V,Y)}createSegments(E,_,T,P){return _.map(V=>V.path.startsWith(":")?this.findPosParam(E,V,P):this.findOrReturn(V,T))}findPosParam(E,_,T){const P=T[_.path.substring(1)];if(!P)throw new Error(`Cannot redirect to '${E}'. Cannot find '${_.path}'.`);return P}findOrReturn(E,_){let T=0;for(const P of _){if(P.path===E.path)return _.splice(T),P;T++}return E}}function Fo(I){const E={};for(const T of Object.keys(I.children)){const V=Fo(I.children[T]);(V.segments.length>0||V.hasChildren())&&(E[T]=V)}return function(I){if(1===I.numberOfChildren&&I.children[ot]){const E=I.children[ot];return new It(I.segments.concat(E.segments),E.children)}return I}(new It(I.segments,E))}class xa{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Be{constructor(E,_){this.component=E,this.route=_}}function un(I,E,_){const T=I._root;return Pi(T,E?E._root:null,_,[T.value])}function Gn(I,E,_){const T=function(I){if(!I)return null;for(let E=I.parent;E;E=E.parent){const _=E.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(E);return(T?T.module.injector:_).get(I)}function Pi(I,E,_,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const V=an(E);return I.children.forEach(Y=>{(function(I,E,_,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const V=I.value,Y=E?E.value:null,se=_?_.getContext(I.value.outlet):null;if(Y&&V.routeConfig===Y.routeConfig){const Ne=function(I,E,_){if("function"==typeof _)return _(I,E);switch(_){case"pathParamsChange":return!Xn(I.url,E.url);case"pathParamsOrQueryParamsChange":return!Xn(I.url,E.url)||!tn(I.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yt(I,E)||!tn(I.queryParams,E.queryParams);case"paramsChange":default:return!Yt(I,E)}}(Y,V,V.routeConfig.runGuardsAndResolvers);Ne?P.canActivateChecks.push(new xa(T)):(V.data=Y.data,V._resolvedData=Y._resolvedData),Pi(I,E,V.component?se?se.children:null:_,T,P),Ne&&se&&se.outlet&&se.outlet.isActivated&&P.canDeactivateChecks.push(new Be(se.outlet.component,Y))}else Y&&rs(E,se,P),P.canActivateChecks.push(new xa(T)),Pi(I,null,V.component?se?se.children:null:_,T,P)})(Y,V[Y.value.outlet],_,T.concat([Y.value]),P),delete V[Y.value.outlet]}),Kt(V,(Y,se)=>rs(Y,_.getContext(se),P)),P}function rs(I,E,_){const T=an(I),P=I.value;Kt(T,(V,Y)=>{rs(V,P.component?E?E.children.getContext(Y):null:E,_)}),_.canDeactivateChecks.push(new Be(P.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,P))}class Ki{}function au(I){return new fe.y(E=>E.error(I))}class cu{constructor(E,_,T,P,V,Y){this.rootComponentType=E,this.config=_,this.urlTree=T,this.url=P,this.paramsInheritanceStrategy=V,this.relativeLinkResolution=Y}recognize(){const E=bn(this.urlTree.root,[],[],this.config.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,E,ot);if(null===_)return null;const T=new Ni([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ot,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Gi(T,_),V=new Oe(this.url,P);return this.inheritParamsAndData(V._root),V}inheritParamsAndData(E){const _=E.value,T=ii(_,this.paramsInheritanceStrategy);_.params=Object.freeze(T.params),_.data=Object.freeze(T.data),E.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(E,_,T){return 0===_.segments.length&&_.hasChildren()?this.processChildren(E,_):this.processSegment(E,_,_.segments,T)}processChildren(E,_){const T=[];for(const V of Object.keys(_.children)){const Y=_.children[V],se=yt(E,V),Ne=this.processSegmentGroup(se,Y,V);if(null===Ne)return null;T.push(...Ne)}const P=du(T);return P.sort((E,_)=>E.value.outlet===ot?-1:_.value.outlet===ot?1:E.value.outlet.localeCompare(_.value.outlet)),P}processSegment(E,_,T,P){for(const V of E){const Y=this.processSegmentAgainstRoute(V,_,T,P);if(null!==Y)return Y}return Ds(_,T,P)?[]:null}processSegmentAgainstRoute(E,_,T,P){if(E.redirectTo||!zi(E,_,T,P))return null;let V,Y=[],se=[];if("**"===E.path){const Gt=T.length>0?qr(T).parameters:{};V=new Ni(T,Gt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,is(E),Wt(E),E.component,E,Oa(_),sa(_)+T.length,fu(E))}else{const Gt=Qt(_,E,T);if(!Gt.matched)return null;Y=Gt.consumedSegments,se=T.slice(Gt.lastChild),V=new Ni(Y,Gt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,is(E),Wt(E),E.component,E,Oa(_),sa(_)+Y.length,fu(E))}const Ne=(I=E).children?I.children:I.loadChildren?I._loadedConfig.routes:[],{segmentGroup:st,slicedSegments:nn}=bn(_,Y,se,Ne.filter(Gt=>void 0===Gt.redirectTo),this.relativeLinkResolution);var I;if(0===nn.length&&st.hasChildren()){const Gt=this.processChildren(Ne,st);return null===Gt?null:[new Gi(V,Gt)]}if(0===Ne.length&&0===nn.length)return[new Gi(V,[])];const Tt=Wt(E)===P,yn=this.processSegment(Ne,st,nn,Tt?ot:P);return null===yn?null:[new Gi(V,yn)]}}function wo(I){const E=I.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function du(I){const E=[],_=new Set;for(const T of I){if(!wo(T)){E.push(T);continue}const P=E.find(V=>T.value.routeConfig===V.value.routeConfig);void 0!==P?(P.children.push(...T.children),_.add(P)):E.push(T)}for(const T of _){const P=du(T.children);E.push(new Gi(T.value,P))}return E.filter(T=>!_.has(T))}function Oa(I){let E=I;for(;E._sourceSegment;)E=E._sourceSegment;return E}function sa(I){let E=I,_=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,_+=E._segmentIndexShift?E._segmentIndexShift:0;return _-1}function is(I){return I.data||{}}function fu(I){return I.resolve||{}}function jo(I){return(0,Tn.w)(E=>{const _=I(E);return _?(0,Te.D)(_).pipe((0,Et.U)(()=>E)):(0,He.of)(E)})}class Mn extends class{shouldDetach(E){return!1}store(E,_){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,_){return E.routeConfig===_.routeConfig}}{}const ka=new x.OlP("ROUTES");class Nc{constructor(E,_,T,P){this.loader=E,this.compiler=_,this.onLoadStartListener=T,this.onLoadEndListener=P}load(E,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const P=this.loadModuleFactory(_.loadChildren).pipe((0,Et.U)(V=>{this.onLoadEndListener&&this.onLoadEndListener(_);const Y=V.create(E);return new zs(Vn(Y.injector.get(ka,void 0,x.XFs.Self|x.XFs.Optional)).map(mt),Y)}),At(V=>{throw _._loader$=void 0,V}));return _._loader$=new Nt.c(P,()=>new W.xQ).pipe((0,br.x)()),_._loader$}loadModuleFactory(E){return"string"==typeof E?(0,Te.D)(this.loader.load(E)):ur(E()).pipe((0,ln.zg)(_=>_ instanceof x.YKP?(0,He.of)(_):(0,Te.D)(this.compiler.compileModuleAsync(_))))}}class qs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bo,this.attachRef=null}}class bo{constructor(){this.contexts=new Map}onChildOutletCreated(E,_){const T=this.getOrCreateContext(E);T.outlet=_,this.contexts.set(E,T)}onChildOutletDestroyed(E){const _=this.getContext(E);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let _=this.getContext(E);return _||(_=new qs,this.contexts.set(E,_)),_}getContext(E){return this.contexts.get(E)||null}}class Zu{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,_){return E}}function Co(I){throw I}function aa(I,E,_){return E.parse("/")}function lr(I,E){return(0,He.of)(null)}const ua={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ss={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class I{constructor(_,T,P,V,Y,se,Ne,st){this.rootComponentType=_,this.urlSerializer=T,this.rootContexts=P,this.location=V,this.config=st,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new W.xQ,this.errorHandler=Co,this.malformedUriErrorHandler=aa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lr,afterPreactivation:lr},this.urlHandlingStrategy=new Zu,this.routeReuseStrategy=new Mn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Y.get(x.h0i),this.console=Y.get(x.c2e);const yn=Y.get(x.R0b);this.isNgZoneEnabled=yn instanceof x.R0b&&x.R0b.isInAngularZone(),this.resetConfig(st),this.currentUrlTree=new Nr(new It([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Nc(se,Ne,Gt=>this.triggerEvent(new Je(Gt)),Gt=>this.triggerEvent(new tt(Gt))),this.routerState=Hs(this.currentUrlTree,this.rootComponentType),this.transitions=new le({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const T=this.events;return _.pipe((0,wt.h)(P=>0!==P.id),(0,Et.U)(P=>Object.assign(Object.assign({},P),{extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Tn.w)(P=>{let V=!1,Y=!1;return(0,He.of)(P).pipe((0,Fe.b)(se=>{this.currentNavigation={id:se.id,initialUrl:se.currentRawUrl,extractedUrl:se.extractedUrl,trigger:se.source,extras:se.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Tn.w)(se=>{const Ne=this.browserUrlTree.toString(),st=!this.navigated||se.extractedUrl.toString()!==Ne||Ne!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||st)&&this.urlHandlingStrategy.shouldProcessUrl(se.rawUrl))return Ts(se.source)&&(this.browserUrlTree=se.extractedUrl),(0,He.of)(se).pipe((0,Tn.w)(Tt=>{const yn=this.transitions.getValue();return T.next(new zt(Tt.id,this.serializeUrl(Tt.extractedUrl),Tt.source,Tt.restoredState)),yn!==this.transitions.getValue()?xe.E:Promise.resolve(Tt)}),function(I,E,_,T){return(0,Tn.w)(P=>function(I,E,_,T,P){return new vo(I,E,_,T,P).apply()}(I,E,_,P.extractedUrl,T).pipe((0,Et.U)(V=>Object.assign(Object.assign({},P),{urlAfterRedirects:V}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fe.b)(Tt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Tt.urlAfterRedirects})}),function(I,E,_,T,P){return(0,ln.zg)(V=>function(I,E,_,T,P="emptyOnly",V="legacy"){try{const Y=new cu(I,E,_,T,P,V).recognize();return null===Y?au(new Ki):(0,He.of)(Y)}catch(Y){return au(Y)}}(I,E,V.urlAfterRedirects,_(V.urlAfterRedirects),T,P).pipe((0,Et.U)(Y=>Object.assign(Object.assign({},V),{targetSnapshot:Y}))))}(this.rootComponentType,this.config,Tt=>this.serializeUrl(Tt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fe.b)(Tt=>{"eager"===this.urlUpdateStrategy&&(Tt.extras.skipLocationChange||this.setBrowserUrl(Tt.urlAfterRedirects,Tt),this.browserUrlTree=Tt.urlAfterRedirects);const yn=new K(Tt.id,this.serializeUrl(Tt.extractedUrl),this.serializeUrl(Tt.urlAfterRedirects),Tt.targetSnapshot);T.next(yn)}));if(st&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:yn,extractedUrl:Gt,source:ai,restoredState:ui,extras:Or}=se,ci=new zt(yn,this.serializeUrl(Gt),ai,ui);T.next(ci);const wi=Hs(Gt,this.rootComponentType).snapshot;return(0,He.of)(Object.assign(Object.assign({},se),{targetSnapshot:wi,urlAfterRedirects:Gt,extras:Object.assign(Object.assign({},Or),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=se.rawUrl,this.browserUrlTree=se.urlAfterRedirects,se.resolve(null),xe.E}),jo(se=>{const{targetSnapshot:Ne,id:st,extractedUrl:nn,rawUrl:Tt,extras:{skipLocationChange:yn,replaceUrl:Gt}}=se;return this.hooks.beforePreactivation(Ne,{navigationId:st,appliedUrlTree:nn,rawUrlTree:Tt,skipLocationChange:!!yn,replaceUrl:!!Gt})}),(0,Fe.b)(se=>{const Ne=new ie(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot);this.triggerEvent(Ne)}),(0,Et.U)(se=>Object.assign(Object.assign({},se),{guards:un(se.targetSnapshot,se.currentSnapshot,this.rootContexts)})),function(I,E){return(0,ln.zg)(_=>{const{targetSnapshot:T,currentSnapshot:P,guards:{canActivateChecks:V,canDeactivateChecks:Y}}=_;return 0===Y.length&&0===V.length?(0,He.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function(I,E,_,T){return(0,Te.D)(I).pipe((0,ln.zg)(P=>function(I,E,_,T,P){const V=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,He.of)(!0);const Y=V.map(se=>{const Ne=Gn(se,E,P);let st;if(function(I){return I&&xn(I.canDeactivate)}(Ne))st=ur(Ne.canDeactivate(I,E,_,T));else{if(!xn(Ne))throw new Error("Invalid CanDeactivate guard");st=ur(Ne(I,E,_,T))}return st.pipe((0,Qn.P)())});return(0,He.of)(Y).pipe(R())}(P.component,P.route,_,E,T)),(0,Qn.P)(P=>!0!==P,!0))}(Y,T,P,I).pipe((0,ln.zg)(se=>se&&function(I){return"boolean"==typeof I}(se)?function(I,E,_,T){return(0,Te.D)(E).pipe((0,Ri.b)(P=>(0,Xt.z)(function(I,E){return null!==I&&E&&E(new Rt(I)),(0,He.of)(!0)}(P.route.parent,T),function(I,E){return null!==I&&E&&E(new on(I)),(0,He.of)(!0)}(P.route,T),function(I,E,_){const T=E[E.length-1],V=E.slice(0,E.length-1).reverse().map(Y=>function(I){const E=I.routeConfig?I.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:I,guards:E}:null}(Y)).filter(Y=>null!==Y).map(Y=>$e(()=>{const se=Y.guards.map(Ne=>{const st=Gn(Ne,Y.node,_);let nn;if(function(I){return I&&xn(I.canActivateChild)}(st))nn=ur(st.canActivateChild(T,I));else{if(!xn(st))throw new Error("Invalid CanActivateChild guard");nn=ur(st(T,I))}return nn.pipe((0,Qn.P)())});return(0,He.of)(se).pipe(R())}));return(0,He.of)(V).pipe(R())}(I,P.path,_),function(I,E,_){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,He.of)(!0);const P=T.map(V=>$e(()=>{const Y=Gn(V,E,_);let se;if(function(I){return I&&xn(I.canActivate)}(Y))se=ur(Y.canActivate(E,I));else{if(!xn(Y))throw new Error("Invalid CanActivate guard");se=ur(Y(E,I))}return se.pipe((0,Qn.P)())}));return(0,He.of)(P).pipe(R())}(I,P.route,_))),(0,Qn.P)(P=>!0!==P,!0))}(T,V,I,E):(0,He.of)(se)),(0,Et.U)(se=>Object.assign(Object.assign({},_),{guardsResult:se})))})}(this.ngModule.injector,se=>this.triggerEvent(se)),(0,Fe.b)(se=>{if(oi(se.guardsResult)){const st=Pe(`Redirecting to "${this.serializeUrl(se.guardsResult)}"`);throw st.url=se.guardsResult,st}const Ne=new Le(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot,!!se.guardsResult);this.triggerEvent(Ne)}),(0,wt.h)(se=>!!se.guardsResult||(this.restoreHistory(se),this.cancelNavigationTransition(se,""),!1)),jo(se=>{if(se.guards.canActivateChecks.length)return(0,He.of)(se).pipe((0,Fe.b)(Ne=>{const st=new Ve(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot);this.triggerEvent(st)}),(0,Tn.w)(Ne=>{let st=!1;return(0,He.of)(Ne).pipe(function(I,E){return(0,ln.zg)(_=>{const{targetSnapshot:T,guards:{canActivateChecks:P}}=_;if(!P.length)return(0,He.of)(_);let V=0;return(0,Te.D)(P).pipe((0,Ri.b)(Y=>function(I,E,_,T){return function(I,E,_,T){const P=Object.keys(I);if(0===P.length)return(0,He.of)({});const V={};return(0,Te.D)(P).pipe((0,ln.zg)(Y=>function(I,E,_,T){const P=Gn(I,E,T);return ur(P.resolve?P.resolve(E,_):P(E,_))}(I[Y],E,_,T).pipe((0,Fe.b)(se=>{V[Y]=se}))),ft(1),(0,ln.zg)(()=>Object.keys(V).length===P.length?(0,He.of)(V):xe.E))}(I._resolve,I,E,T).pipe((0,Et.U)(V=>(I._resolvedData=V,I.data=Object.assign(Object.assign({},I.data),ii(I,_).resolve),null)))}(Y.route,T,I,E)),(0,Fe.b)(()=>V++),ft(1),(0,ln.zg)(Y=>V===P.length?(0,He.of)(_):xe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fe.b)({next:()=>st=!0,complete:()=>{st||(this.restoreHistory(Ne),this.cancelNavigationTransition(Ne,"At least one route resolver didn't emit any value."))}}))}),(0,Fe.b)(Ne=>{const st=new rt(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot);this.triggerEvent(st)}))}),jo(se=>{const{targetSnapshot:Ne,id:st,extractedUrl:nn,rawUrl:Tt,extras:{skipLocationChange:yn,replaceUrl:Gt}}=se;return this.hooks.afterPreactivation(Ne,{navigationId:st,appliedUrlTree:nn,rawUrlTree:Tt,skipLocationChange:!!yn,replaceUrl:!!Gt})}),(0,Et.U)(se=>{const Ne=function(I,E,_){const T=_r(I,E._root,_?_._root:void 0);return new mi(T,E)}(this.routeReuseStrategy,se.targetSnapshot,se.currentRouterState);return Object.assign(Object.assign({},se),{targetRouterState:Ne})}),(0,Fe.b)(se=>{this.currentUrlTree=se.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(se.urlAfterRedirects,se.rawUrl),this.routerState=se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,se),this.browserUrlTree=se.urlAfterRedirects)}),((I,E,_)=>(0,Et.U)(T=>(new Gs(E,T.targetRouterState,T.currentRouterState,_).activate(I),T)))(this.rootContexts,this.routeReuseStrategy,se=>this.triggerEvent(se)),(0,Fe.b)({next(){V=!0},complete(){V=!0}}),function(I){return E=>E.lift(new Wi(I))}(()=>{var se;if(!V&&!Y){const Ne=`Navigation ID ${P.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(P),this.cancelNavigationTransition(P,Ne)):this.cancelNavigationTransition(P,Ne)}(null===(se=this.currentNavigation)||void 0===se?void 0:se.id)===P.id&&(this.currentNavigation=null)}),At(se=>{if(Y=!0,function(I){return I&&I[ee]}(se)){const Ne=oi(se.url);Ne||(this.navigated=!0,this.restoreHistory(P,!0));const st=new es(P.id,this.serializeUrl(P.extractedUrl),se.message);T.next(st),Ne?setTimeout(()=>{const nn=this.urlHandlingStrategy.merge(se.url,this.rawUrlTree),Tt={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ts(P.source)};this.scheduleNavigation(nn,"imperative",null,Tt,{resolve:P.resolve,reject:P.reject,promise:P.promise})},0):P.resolve(!1)}else{this.restoreHistory(P,!0);const Ne=new ve(P.id,this.serializeUrl(P.extractedUrl),se);T.next(Ne);try{P.resolve(this.errorHandler(se))}catch(st){P.reject(st)}}return xe.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}getTransition(){const _=this.transitions.value;return _.urlAfterRedirects=this.browserUrlTree,_}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const T=this.extractLocationChangeInfoFromEvent(_);this.shouldScheduleNavigation(this.lastLocationChangeInfo,T)&&setTimeout(()=>{const{source:P,state:V,urlTree:Y}=T,se={replaceUrl:!0};if(V){const Ne=Object.assign({},V);delete Ne.navigationId,delete Ne.\u0275routerPageId,0!==Object.keys(Ne).length&&(se.state=Ne)}this.scheduleNavigation(Y,P,V,se)},0),this.lastLocationChangeInfo=T}))}extractLocationChangeInfoFromEvent(_){var T;return{source:"popstate"===_.type?"popstate":"hashchange",urlTree:this.parseUrl(_.url),state:(null===(T=_.state)||void 0===T?void 0:T.navigationId)?_.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(_,T){if(!_)return!0;const P=T.urlTree.toString()===_.urlTree.toString();return T.transitionId!==_.transitionId||!P||!("hashchange"===T.source&&"popstate"===_.source||"popstate"===T.source&&"hashchange"===_.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){te(_),this.config=_.map(mt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,T={}){const{relativeTo:P,queryParams:V,fragment:Y,queryParamsHandling:se,preserveFragment:Ne}=T,st=P||this.routerState.root,nn=Ne?this.currentUrlTree.fragment:Y;let Tt=null;switch(se){case"merge":Tt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),V);break;case"preserve":Tt=this.currentUrlTree.queryParams;break;default:Tt=V||null}return null!==Tt&&(Tt=this.removeEmptyProps(Tt)),function(I,E,_,T,P){if(0===_.length)return Ra(E.root,E.root,E,T,P);const V=function(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new na(!0,0,I);let E=0,_=!1;const T=I.reduce((P,V,Y)=>{if("object"==typeof V&&null!=V){if(V.outlets){const se={};return Kt(V.outlets,(Ne,st)=>{se[st]="string"==typeof Ne?Ne.split("/"):Ne}),[...P,{outlets:se}]}if(V.segmentPath)return[...P,V.segmentPath]}return"string"!=typeof V?[...P,V]:0===Y?(V.split("/").forEach((se,Ne)=>{0==Ne&&"."===se||(0==Ne&&""===se?_=!0:".."===se?E++:""!=se&&P.push(se))}),P):[...P,V]},[]);return new na(_,E,T)}(_);if(V.toRoot())return Ra(E.root,new It([],{}),E,T,P);const Y=function(I,E,_){if(I.isAbsolute)return new ra(E.root,!0,0);if(-1===_.snapshot._lastPathIndex){const V=_.snapshot._urlSegment;return new ra(V,V===E.root,0)}const T=Ws(I.commands[0])?0:1;return function(I,E,_){let T=I,P=E,V=_;for(;V>P;){if(V-=P,T=T.parent,!T)throw new Error("Invalid number of '../'");P=T.segments.length}return new ra(T,!1,P-V)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+T,I.numberOfDoubleDots)}(V,E,I),se=Y.processChildren?ts(Y.segmentGroup,Y.index,V.commands):si(Y.segmentGroup,Y.index,V.commands);return Ra(Y.segmentGroup,se,E,T,P)}(st,this.currentUrlTree,_,Tt,null!=nn?nn:null)}navigateByUrl(_,T={skipLocationChange:!1}){const P=oi(_)?_:this.parseUrl(_),V=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(V,"imperative",null,T)}navigate(_,T={skipLocationChange:!1}){return function(I){for(let E=0;E<I.length;E++){const _=I[E];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${E}`)}}(_),this.navigateByUrl(this.createUrlTree(_,T),T)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let T;try{T=this.urlSerializer.parse(_)}catch(P){T=this.malformedUriErrorHandler(P,this.urlSerializer,_)}return T}isActive(_,T){let P;if(P=!0===T?Object.assign({},ua):!1===T?Object.assign({},ss):T,oi(_))return ys(this.currentUrlTree,_,P);const V=this.parseUrl(_);return ys(this.currentUrlTree,V,P)}removeEmptyProps(_){return Object.keys(_).reduce((T,P)=>{const V=_[P];return null!=V&&(T[P]=V),T},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new or(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,T,P,V,Y){var se,Ne;if(this.disposed)return Promise.resolve(!1);const st=this.getTransition(),nn=Ts(T)&&st&&!Ts(st.source),Gt=(this.lastSuccessfulId===st.id||this.currentNavigation?st.rawUrl:st.urlAfterRedirects).toString()===_.toString();if(nn&&Gt)return Promise.resolve(!0);let ai,ui,Or;Y?(ai=Y.resolve,ui=Y.reject,Or=Y.promise):Or=new Promise((Rs,Va)=>{ai=Rs,ui=Va});const ci=++this.navigationId;let wi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),wi=P&&P.\u0275routerPageId?P.\u0275routerPageId:V.replaceUrl||V.skipLocationChange?null!==(se=this.browserPageId)&&void 0!==se?se:0:(null!==(Ne=this.browserPageId)&&void 0!==Ne?Ne:0)+1):wi=0,this.setTransition({id:ci,targetPageId:wi,source:T,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:V,resolve:ai,reject:ui,promise:Or,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Or.catch(Rs=>Promise.reject(Rs))}setBrowserUrl(_,T){const P=this.urlSerializer.serialize(_),V=Object.assign(Object.assign({},T.extras.state),this.generateNgRouterState(T.id,T.targetPageId));this.location.isCurrentPathEqualTo(P)||T.extras.replaceUrl?this.location.replaceState(P,"",V):this.location.go(P,"",V)}restoreHistory(_,T=!1){var P,V;if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(P=this.currentNavigation)||void 0===P?void 0:P.finalUrl)||0===Y?this.currentUrlTree===(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)&&0===Y&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Y)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,T){const P=new es(_.id,this.serializeUrl(_.extractedUrl),T);this.triggerEvent(P),_.resolve(!1)}generateNgRouterState(_,T){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:T}:{navigationId:_}}}return I.\u0275fac=function(_){return new(_||I)(x.LFG(x.DyG),x.LFG(ni),x.LFG(bo),x.LFG(A.Ye),x.LFG(x.zs3),x.LFG(x.v3s),x.LFG(x.Sil),x.LFG(void 0))},I.\u0275prov=x.Yz7({token:I,factory:I.\u0275fac}),I})();function Ts(I){return"imperative"!==I}let Fa=(()=>{class I{constructor(_,T,P,V,Y){this.router=_,this.route=T,this.commands=[],this.onChanges=new W.xQ,null==P&&V.setAttribute(Y.nativeElement,"tabindex","0")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:[]}onClick(){const _={skipLocationChange:kn(this.skipLocationChange),replaceUrl:kn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:kn(this.preserveFragment)})}}return I.\u0275fac=function(_){return new(_||I)(x.Y36(dr),x.Y36(ho),x.$8M("tabindex"),x.Y36(x.Qsj),x.Y36(x.SBq))},I.\u0275dir=x.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,T){1&_&&x.NdJ("click",function(){return T.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[x.TTD]}),I})(),La=(()=>{class I{constructor(_,T,P){this.router=_,this.route=T,this.locationStrategy=P,this.commands=[],this.onChanges=new W.xQ,this.subscription=_.events.subscribe(V=>{V instanceof or&&this.updateTargetUrlAndHref()})}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:[]}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,T,P,V,Y){if(0!==_||T||P||V||Y||"string"==typeof this.target&&"_self"!=this.target)return!0;const se={skipLocationChange:kn(this.skipLocationChange),replaceUrl:kn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,se),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:kn(this.preserveFragment)})}}return I.\u0275fac=function(_){return new(_||I)(x.Y36(dr),x.Y36(ho),x.Y36(A.S$))},I.\u0275dir=x.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,T){1&_&&x.NdJ("click",function(V){return T.onClick(V.button,V.ctrlKey,V.shiftKey,V.altKey,V.metaKey)}),2&_&&(x.Ikx("href",T.href,x.LSH),x.uIk("target",T.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[x.TTD]}),I})();function kn(I){return""===I||!!I}let yu=(()=>{class I{constructor(_,T,P,V,Y){this.parentContexts=_,this.location=T,this.resolver=P,this.changeDetector=Y,this.activated=null,this._activatedRoute=null,this.activateEvents=new x.vpe,this.deactivateEvents=new x.vpe,this.name=V||ot,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,_}attach(_,T){this.activated=_,this._activatedRoute=T,this.location.insert(_.hostView)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,T){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const Y=(T=T||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),se=this.parentContexts.getOrCreateContext(this.name).children,Ne=new Yu(_,se,this.location.injector);this.activated=this.location.createComponent(Y,this.location.length,Ne),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(_){return new(_||I)(x.Y36(bo),x.Y36(x.s_b),x.Y36(x._Vd),x.$8M("name"),x.Y36(x.sBO))},I.\u0275dir=x.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),I})();class Yu{constructor(E,_,T){this.route=E,this.childContexts=_,this.parent=T}get(E,_){return E===ho?this.route:E===bo?this.childContexts:this.parent.get(E,_)}}class _u{}class Eu{preload(E,_){return(0,He.of)(null)}}let Do=(()=>{class I{constructor(_,T,P,V,Y){this.router=_,this.injector=V,this.preloadingStrategy=Y,this.loader=new Nc(T,P,st=>_.triggerEvent(new Je(st)),st=>_.triggerEvent(new tt(st)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.h)(_=>_ instanceof or),(0,Ri.b)(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(x.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,T){const P=[];for(const V of T)if(V.loadChildren&&!V.canLoad&&V._loadedConfig){const Y=V._loadedConfig;P.push(this.processRoutes(Y.module,Y.routes))}else V.loadChildren&&!V.canLoad?P.push(this.preloadConfig(_,V)):V.children&&P.push(this.processRoutes(_,V.children));return(0,Te.D)(P).pipe((0,$n.J)(),(0,Et.U)(V=>{}))}preloadConfig(_,T){return this.preloadingStrategy.preload(T,()=>(T._loadedConfig?(0,He.of)(T._loadedConfig):this.loader.load(_.injector,T)).pipe((0,ln.zg)(V=>(T._loadedConfig=V,this.processRoutes(V.module,V.routes)))))}}return I.\u0275fac=function(_){return new(_||I)(x.LFG(dr),x.LFG(x.v3s),x.LFG(x.Sil),x.LFG(x.zs3),x.LFG(_u))},I.\u0275prov=x.Yz7({token:I,factory:I.\u0275fac}),I})(),$r=(()=>{class I{constructor(_,T,P={}){this.router=_,this.viewportScroller=T,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof zt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof or&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Ln&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,T){this.router.triggerEvent(new Ln(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(_){return new(_||I)(x.LFG(dr),x.LFG(A.EM),x.LFG(void 0))},I.\u0275prov=x.Yz7({token:I,factory:I.\u0275fac}),I})();const os=new x.OlP("ROUTER_CONFIGURATION"),To=new x.OlP("ROUTER_FORROOT_GUARD"),la=[A.Ye,{provide:ni,useClass:it},{provide:dr,useFactory:function(I,E,_,T,P,V,Y,se={},Ne,st){const nn=new dr(null,I,E,_,T,P,V,Vn(Y));return Ne&&(nn.urlHandlingStrategy=Ne),st&&(nn.routeReuseStrategy=st),function(I,E){I.errorHandler&&(E.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(E.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(E.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(E.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(E.urlUpdateStrategy=I.urlUpdateStrategy)}(se,nn),se.enableTracing&&nn.events.subscribe(Tt=>{var yn,Gt;null===(yn=console.group)||void 0===yn||yn.call(console,`Router Event: ${Tt.constructor.name}`),console.log(Tt.toString()),console.log(Tt),null===(Gt=console.groupEnd)||void 0===Gt||Gt.call(console)}),nn},deps:[ni,bo,A.Ye,x.zs3,x.v3s,x.Sil,ka,os,[class{},new x.FiY],[class{},new x.FiY]]},bo,{provide:ho,useFactory:function(I){return I.routerState.root},deps:[dr]},{provide:x.v3s,useClass:x.EAV},Do,Eu,class{preload(E,_){return _().pipe(At(()=>(0,He.of)(null)))}},{provide:os,useValue:{enableTracing:!1}}];function Ys(){return new x.PXZ("Router",dr)}let Qs=(()=>{class I{constructor(_,T){}static forRoot(_,T){return{ngModule:I,providers:[la,qi(_),{provide:To,useFactory:Js,deps:[[dr,new x.FiY,new x.tp0]]},{provide:os,useValue:T||{}},{provide:A.S$,useFactory:as,deps:[A.lw,[new x.tBr(A.mr),new x.FiY],os]},{provide:$r,useFactory:Qu,deps:[dr,A.EM,os]},{provide:_u,useExisting:T&&T.preloadingStrategy?T.preloadingStrategy:Eu},{provide:x.PXZ,multi:!0,useFactory:Ys},[us,{provide:x.ip1,multi:!0,useFactory:Ss,deps:[us]},{provide:wu,useFactory:Qr,deps:[us]},{provide:x.tb,multi:!0,useExisting:wu}]]}}static forChild(_){return{ngModule:I,providers:[qi(_)]}}}return I.\u0275fac=function(_){return new(_||I)(x.LFG(To,8),x.LFG(dr,8))},I.\u0275mod=x.oAB({type:I}),I.\u0275inj=x.cJS({}),I})();function Qu(I,E,_){return _.scrollOffset&&E.setOffset(_.scrollOffset),new $r(I,E,_)}function as(I,E,_={}){return _.useHash?new A.Do(I,E):new A.b0(I,E)}function Js(I){return"guarded"}function qi(I){return[{provide:x.deG,multi:!0,useValue:I},{provide:ka,multi:!0,useValue:I}]}let us=(()=>{class I{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new W.xQ}appInitializer(){return this.injector.get(A.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let T=null;const P=new Promise(se=>T=se),V=this.injector.get(dr),Y=this.injector.get(os);return"disabled"===Y.initialNavigation?(V.setUpLocationChangeListener(),T(!0)):"enabled"===Y.initialNavigation||"enabledBlocking"===Y.initialNavigation?(V.hooks.afterPreactivation=()=>this.initNavigation?(0,He.of)(null):(this.initNavigation=!0,T(!0),this.resultOfPreactivationDone),V.initialNavigation()):T(!0),P})}bootstrapListener(_){const T=this.injector.get(os),P=this.injector.get(Do),V=this.injector.get($r),Y=this.injector.get(dr),se=this.injector.get(x.z2F);_===se.components[0]&&(("enabledNonBlocking"===T.initialNavigation||void 0===T.initialNavigation)&&Y.initialNavigation(),P.setUpPreloading(),V.init(),Y.resetRootComponentType(se.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(_){return new(_||I)(x.LFG(x.zs3))},I.\u0275prov=x.Yz7({token:I,factory:I.\u0275fac}),I})();function Ss(I){return I.appInitializer.bind(I)}function Qr(I){return I.bootstrapListener.bind(I)}const wu=new x.OlP("Router Initializer")},3854:(dt,Re,U)=>{"use strict";U.d(Re,{BH:()=>pe,LL:()=>ft,ZR:()=>Ht,zI:()=>Vt,US:()=>ae,tV:()=>ce,$s:()=>on,r3:()=>Fn,Sg:()=>be,ne:()=>br,vZ:()=>en,ZB:()=>q,pd:()=>ln,m9:()=>ot,z$:()=>Ue,jU:()=>ke,ru:()=>Te,d:()=>$e,xb:()=>Tn,w1:()=>He,hl:()=>kt,uI:()=>Me,UG:()=>he,b$:()=>xe,G6:()=>Nt,Mn:()=>et,xO:()=>Ri,zd:()=>Qn,eu:()=>At});const me=function(X){const re=[];let ee=0;for(let Pe=0;Pe<X.length;Pe++){let Ee=X.charCodeAt(Pe);Ee<128?re[ee++]=Ee:Ee<2048?(re[ee++]=Ee>>6|192,re[ee++]=63&Ee|128):55296==(64512&Ee)&&Pe+1<X.length&&56320==(64512&X.charCodeAt(Pe+1))?(Ee=65536+((1023&Ee)<<10)+(1023&X.charCodeAt(++Pe)),re[ee++]=Ee>>18|240,re[ee++]=Ee>>12&63|128,re[ee++]=Ee>>6&63|128,re[ee++]=63&Ee|128):(re[ee++]=Ee>>12|224,re[ee++]=Ee>>6&63|128,re[ee++]=63&Ee|128)}return re},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,re){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pe=[];for(let Ee=0;Ee<X.length;Ee+=3){const ut=X[Ee],at=Ee+1<X.length,tn=at?X[Ee+1]:0,ar=Ee+2<X.length,Vn=ar?X[Ee+2]:0;let Kt=(15&tn)<<2|Vn>>6,ur=63&Vn;ar||(ur=64,at||(Kt=64)),Pe.push(ee[ut>>2],ee[(3&ut)<<4|tn>>4],ee[Kt],ee[ur])}return Pe.join("")},encodeString(X,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(X):this.encodeByteArray(me(X),re)},decodeString(X,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(X):function(X){const re=[];let ee=0,Pe=0;for(;ee<X.length;){const Ee=X[ee++];if(Ee<128)re[Pe++]=String.fromCharCode(Ee);else if(Ee>191&&Ee<224){const ut=X[ee++];re[Pe++]=String.fromCharCode((31&Ee)<<6|63&ut)}else if(Ee>239&&Ee<365){const ar=((7&Ee)<<18|(63&X[ee++])<<12|(63&X[ee++])<<6|63&X[ee++])-65536;re[Pe++]=String.fromCharCode(55296+(ar>>10)),re[Pe++]=String.fromCharCode(56320+(1023&ar))}else{const ut=X[ee++],at=X[ee++];re[Pe++]=String.fromCharCode((15&Ee)<<12|(63&ut)<<6|63&at)}}return re.join("")}(this.decodeStringToByteArray(X,re))},decodeStringToByteArray(X,re){this.init_();const ee=re?this.charToByteMapWebSafe_:this.charToByteMap_,Pe=[];for(let Ee=0;Ee<X.length;){const ut=ee[X.charAt(Ee++)],tn=Ee<X.length?ee[X.charAt(Ee)]:0;++Ee;const Vn=Ee<X.length?ee[X.charAt(Ee)]:64;++Ee;const fn=Ee<X.length?ee[X.charAt(Ee)]:64;if(++Ee,null==ut||null==tn||null==Vn||null==fn)throw Error();Pe.push(ut<<2|tn>>4),64!==Vn&&(Pe.push(tn<<4&240|Vn>>2),64!==fn&&Pe.push(Vn<<6&192|fn))}return Pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}},oe=function(X){return function(X){const re=me(X);return ae.encodeByteArray(re,!0)}(X).replace(/\./g,"")},ce=function(X){try{return ae.decodeString(X,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function q(X,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return re}for(const ee in re)!re.hasOwnProperty(ee)||!fe(ee)||(X[ee]=q(X[ee],re[ee]));return X}function fe(X){return"__proto__"!==X}class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,ee)=>{this.resolve=re,this.reject=ee})}wrapCallback(re){return(ee,Pe)=>{ee?this.reject(ee):this.resolve(Pe),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(ee):re(ee,Pe))}}}function be(X,re){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Pe=re||"demo-project",Ee=X.iat||0,ut=X.sub||X.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const at=Object.assign({iss:`https://securetoken.google.com/${Pe}`,aud:Pe,iat:Ee,exp:Ee+3600,auth_time:Ee,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},X);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(at)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(X){return!1}}function ke(){return"object"==typeof self&&self.self===self}function Te(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){return Ue().indexOf("Electron/")>=0}function He(){const X=Ue();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function et(){return Ue().indexOf("MSAppHost/")>=0}function Nt(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kt(){return"object"==typeof indexedDB}function At(){return new Promise((X,re)=>{try{let ee=!0;const Pe="validate-browser-context-for-indexeddb-analytics-module",Ee=self.indexedDB.open(Pe);Ee.onsuccess=()=>{Ee.result.close(),ee||self.indexedDB.deleteDatabase(Pe),X(!0)},Ee.onupgradeneeded=()=>{ee=!1},Ee.onerror=()=>{var ut;re((null===(ut=Ee.error)||void 0===ut?void 0:ut.message)||"")}}catch(ee){re(ee)}})}function Vt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ht extends Error{constructor(re,ee,Pe){super(ee),this.code=re,this.customData=Pe,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ft.prototype.create)}}class ft{constructor(re,ee,Pe){this.service=re,this.serviceName=ee,this.errors=Pe}create(re,...ee){const Pe=ee[0]||{},Ee=`${this.service}/${re}`,ut=this.errors[re],at=ut?function(X,re){return X.replace(pi,(ee,Pe)=>{const Ee=re[Pe];return null!=Ee?String(Ee):`<${Pe}?>`})}(ut,Pe):"Error";return new Ht(Ee,`${this.serviceName}: ${at} (${Ee}).`,Pe)}}const pi=/\{\$([^}]+)}/g;function Fn(X,re){return Object.prototype.hasOwnProperty.call(X,re)}function Tn(X){for(const re in X)if(Object.prototype.hasOwnProperty.call(X,re))return!1;return!0}function en(X,re){if(X===re)return!0;const ee=Object.keys(X),Pe=Object.keys(re);for(const Ee of ee){if(!Pe.includes(Ee))return!1;const ut=X[Ee],at=re[Ee];if(Pt(ut)&&Pt(at)){if(!en(ut,at))return!1}else if(ut!==at)return!1}for(const Ee of Pe)if(!ee.includes(Ee))return!1;return!0}function Pt(X){return null!==X&&"object"==typeof X}function Ri(X){const re=[];for(const[ee,Pe]of Object.entries(X))Array.isArray(Pe)?Pe.forEach(Ee=>{re.push(encodeURIComponent(ee)+"="+encodeURIComponent(Ee))}):re.push(encodeURIComponent(ee)+"="+encodeURIComponent(Pe));return re.length?"&"+re.join("&"):""}function Qn(X){const re={};return X.replace(/^\?/,"").split("&").forEach(Pe=>{if(Pe){const[Ee,ut]=Pe.split("=");re[decodeURIComponent(Ee)]=decodeURIComponent(ut)}}),re}function ln(X){const re=X.indexOf("?");if(!re)return"";const ee=X.indexOf("#",re);return X.substring(re,ee>0?ee:void 0)}function br(X,re){const ee=new $n(X,re);return ee.subscribe.bind(ee)}class $n{constructor(re,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{re(this)}).catch(Pe=>{this.error(Pe)})}next(re){this.forEachObserver(ee=>{ee.next(re)})}error(re){this.forEachObserver(ee=>{ee.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,ee,Pe){let Ee;if(void 0===re&&void 0===ee&&void 0===Pe)throw new Error("Missing Observer.");Ee=function(X,re){if("object"!=typeof X||null===X)return!1;for(const ee of["next","error","complete"])if(ee in X&&"function"==typeof X[ee])return!0;return!1}(re)?re:{next:re,error:ee,complete:Pe},void 0===Ee.next&&(Ee.next=or),void 0===Ee.error&&(Ee.error=or),void 0===Ee.complete&&(Ee.complete=or);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ee.error(this.finalError):Ee.complete()}catch(at){}}),this.observers.push(Ee),ut}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,re)}sendOne(re,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{ee(this.observers[re])}catch(Pe){"undefined"!=typeof console&&console.error&&console.error(Pe)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function or(){}function on(X,re=1e3,ee=2){const Pe=re*Math.pow(ee,X),Ee=Math.round(.5*Pe*(Math.random()-.5)*2);return Math.min(144e5,Pe+Ee)}function ot(X){return X&&X._delegate?X._delegate:X}},2329:(dt,Re,U)=>{"use strict";U.d(Re,{Mq:()=>A.getApp,C6:()=>A.getApps});var A=U(8026);(0,A.registerVersion)("firebase","9.6.0","app")},7841:(dt,Re,U)=>{"use strict";U.d(Re,{Z:()=>A.Z});var A=U(3394);A.Z.registerVersion("firebase","9.6.0","app-compat")},941:(dt,Re,U)=>{"use strict";U.r(Re);var A=U(8239),x=U(3394),W=U(3854),me=U(8026);function oe(g,d){var h={};for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&d.indexOf(v)<0&&(h[v]=g[v]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(v=Object.getOwnPropertySymbols(g);M<v.length;M++)d.indexOf(v[M])<0&&Object.prototype.propertyIsEnumerable.call(g,v[M])&&(h[v[M]]=g[v[M]])}return h}var Ht=U(5422),ft=U(3910);const Xi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Wi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fn=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tn=new Ht.Yd("@firebase/auth");function Si(g,...d){Tn.logLevel<=Ht.in.ERROR&&Tn.error(`Auth (${me.SDK_VERSION}): ${g}`,...d)}function en(g,...d){throw ln(g,...d)}function Pt(g,...d){return ln(g,...d)}function Ri(g,d,h){const v=Object.assign(Object.assign({},Wi()),{[d]:h});return new W.LL("auth","Firebase",v).create(d,{appName:g.name})}function Qn(g,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&en(g,"argument-error"),Ri(g,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ln(g,...d){if("string"!=typeof g){const h=d[0],v=[...d.slice(1)];return v[0]&&(v[0].appName=g.name),g._errorFactory.create(h,...v)}return Fn.create(g,...d)}function Fe(g,d,...h){if(!g)throw ln(d,...h)}function br(g){const d="INTERNAL ASSERTION FAILED: "+g;throw Si(d),new Error(d)}function $n(g,d){g||br(d)}const Jn=new Map;function zt(g){$n(g instanceof Function,"Expected a class definition");let d=Jn.get(g);return d?($n(d instanceof g,"Instance stored in cache mismatched with class"),d):(d=new g,Jn.set(g,d),d)}function ve(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function K(){return"http:"===ie()||"https:"===ie()}function ie(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class rt{constructor(d,h){this.shortDelay=d,this.longDelay=h,$n(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(K()||(0,W.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Je(g,d){$n(g.emulator,"Emulator should always be set here");const{url:h}=g.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class tt{static initialize(d,h,v){this.fetchImpl=d,h&&(this.headersImpl=h),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Hn=new rt(3e4,6e4);function on(g,d){return g.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:g.tenantId}):d}function Ot(g,d,h,v){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,A.Z)(function*(g,d,h,v,M={}){return ot(g,M,()=>{let F={},ne={};v&&("GET"===d?ne=v:F={body:JSON.stringify(v)});const Ie=(0,W.xO)(Object.assign({key:g.config.apiKey},ne)).slice(1),Xe=new(tt.headers());return Xe.set("Content-Type","application/json"),Xe.set("X-Client-Version",g._getSdkClientVersion()),g.languageCode&&Xe.set("X-Firebase-Locale",g.languageCode),tt.fetch()(Pe(g,g.config.apiHost,h,Ie),Object.assign({method:d,headers:Xe,referrerPolicy:"no-referrer"},F))})})).apply(this,arguments)}function ot(g,d,h){return X.apply(this,arguments)}function X(){return(X=(0,A.Z)(function*(g,d,h){g._canInitEmulator=!1;const v=Object.assign(Object.assign({},Rt),d);try{const M=new Ee(g),F=yield Promise.race([h(),M.promise]);M.clearNetworkTimeout();const ne=yield F.json();if("needConfirmation"in ne)throw ut(g,"account-exists-with-different-credential",ne);if(F.ok&&!("errorMessage"in ne))return ne;{const Ie=F.ok?ne.errorMessage:ne.error.message,[Xe,qe]=Ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xe)throw ut(g,"credential-already-in-use",ne);if("EMAIL_EXISTS"===Xe)throw ut(g,"email-already-in-use",ne);const ht=v[Xe]||Xe.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw Ri(g,ht,qe);en(g,ht)}}catch(M){if(M instanceof W.ZR)throw M;en(g,"network-request-failed")}})).apply(this,arguments)}function re(g,d,h,v){return ee.apply(this,arguments)}function ee(){return(ee=(0,A.Z)(function*(g,d,h,v,M={}){const F=yield Ot(g,d,h,v,M);return"mfaPendingCredential"in F&&en(g,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function Pe(g,d,h,v){const M=`${d}${h}?${v}`;return g.config.emulator?Je(g.config,M):`${g.config.apiScheme}://${M}`}class Ee{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,v)=>{this.timer=setTimeout(()=>v(Pt(this.auth,"timeout")),Hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ut(g,d,h){const v={appName:g.name};h.email&&(v.email=h.email),h.phoneNumber&&(v.phoneNumber=h.phoneNumber);const M=Pt(g,d,v);return M.customData._tokenResponse=h,M}function tn(){return(tn=(0,A.Z)(function*(g,d){return Ot(g,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ar(g,d){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,A.Z)(function*(g,d){return Ot(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function qr(g,d){return fn.apply(this,arguments)}function fn(){return(fn=(0,A.Z)(function*(g,d){return Ot(g,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Kt(g){if(g)try{const d=new Date(Number(g));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function js(){return(js=(0,A.Z)(function*(g,d=!1){const h=(0,W.m9)(g),v=yield h.getIdToken(d),M=ys(v);Fe(M&&M.exp&&M.auth_time&&M.iat,h.auth,"internal-error");const F="object"==typeof M.firebase?M.firebase:void 0,ne=null==F?void 0:F.sign_in_provider;return{claims:M,token:v,authTime:Kt(Aa(M.auth_time)),issuedAtTime:Kt(Aa(M.iat)),expirationTime:Kt(Aa(M.exp)),signInProvider:ne||null,signInSecondFactor:(null==F?void 0:F.sign_in_second_factor)||null}})).apply(this,arguments)}function Aa(g){return 1e3*Number(g)}function ys(g){const[d,h,v]=g.split(".");if(void 0===d||void 0===h||void 0===v)return Si("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,W.tV)(h);return M?JSON.parse(M):(Si("Failed to decode base64 JWT payload"),null)}catch(M){return Si("Caught error parsing JWT payload as JSON",M),null}}function gi(g,d){return uo.apply(this,arguments)}function uo(){return(uo=(0,A.Z)(function*(g,d,h=!1){if(h)return d;try{return yield d}catch(v){throw v instanceof W.ZR&&Vr(v)&&g.auth.currentUser===g&&(yield g.auth.signOut()),v}})).apply(this,arguments)}function Vr({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class Bs{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const M=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const v=this.getInterval(d);this.timerId=setTimeout((0,A.Z)(function*(){yield h.iteration()}),v)}iteration(){var d=this;return(0,A.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&d.schedule(!0))}d.schedule()})()}}class No{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kt(this.lastLoginAt),this.creationTime=Kt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nr(g){return It.apply(this,arguments)}function It(){return(It=(0,A.Z)(function*(g){var d;const h=g.auth,v=yield g.getIdToken(),M=yield gi(g,qr(h,{idToken:v}));Fe(null==M?void 0:M.users.length,h,"internal-error");const F=M.users[0];g._notifyReloadListener(F);const ne=(null===(d=F.providerUserInfo)||void 0===d?void 0:d.length)?ru(F.providerUserInfo):[],Ie=Xn(g.providerData,ne),ht=!!g.isAnonymous&&!(g.email&&F.passwordHash||(null==Ie?void 0:Ie.length)),vt={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Ie,metadata:new No(F.createdAt,F.lastLoginAt),isAnonymous:ht};Object.assign(g,vt)})).apply(this,arguments)}function _s(){return(_s=(0,A.Z)(function*(g){const d=(0,W.m9)(g);yield Nr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Xn(g,d){return[...g.filter(v=>!d.some(M=>M.providerId===v.providerId)),...d]}function ru(g){return g.map(d=>{var{providerId:h}=d,v=oe(d,["providerId"]);return{providerId:h,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function it(){return(it=(0,A.Z)(function*(g,d){const h=yield ot(g,{},()=>{const v=(0,W.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:M,apiKey:F}=g.config,ne=Pe(g,M,"/v1/token",`key=${F}`);return tt.fetch()(ne,{method:"POST",headers:{"X-Client-Version":g._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:v})});return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class Ut{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Fe(d.idToken,"internal-error"),Fe(void 0!==d.idToken,"internal-error"),Fe(void 0!==d.refreshToken,"internal-error");const h="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(g){const d=ys(g);return Fe(d,"internal-error"),Fe(void 0!==d.exp,"internal-error"),Fe(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var v=this;return(0,A.Z)(function*(){return Fe(!v.accessToken||v.refreshToken,d,"user-token-expired"),h||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(d,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var v=this;return(0,A.Z)(function*(){const{accessToken:M,refreshToken:F,expiresIn:ne}=yield function(g,d){return it.apply(this,arguments)}(d,h);v.updateTokensAndExpiration(M,F,Number(ne))})()}updateTokensAndExpiration(d,h,v){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(d,h){const{refreshToken:v,accessToken:M,expirationTime:F}=h,ne=new Ut;return v&&(Fe("string"==typeof v,"internal-error",{appName:d}),ne.refreshToken=v),M&&(Fe("string"==typeof M,"internal-error",{appName:d}),ne.accessToken=M),F&&(Fe("number"==typeof F,"internal-error",{appName:d}),ne.expirationTime=F),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Ut,this.toJSON())}_performRefresh(){return br("not implemented")}}function dn(g,d){Fe("string"==typeof g||void 0===g,"internal-error",{appName:d})}class On{constructor(d){var{uid:h,auth:v,stsTokenManager:M}=d,F=oe(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Bs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=v,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.metadata=new No(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,A.Z)(function*(){const v=yield gi(h,h.stsTokenManager.getToken(h.auth,d));return Fe(v,h.auth,"internal-error"),h.accessToken!==v&&(h.accessToken=v,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),v})()}getIdTokenResult(d){return function(g){return js.apply(this,arguments)}(this,d)}reload(){return function(g){return _s.apply(this,arguments)}(this)}_assign(d){this!==d&&(Fe(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new On(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var v=this;return(0,A.Z)(function*(){let M=!1;d.idToken&&d.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(d),M=!0),h&&(yield Nr(v)),yield v.auth._persistUserIfCurrent(v),M&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var d=this;return(0,A.Z)(function*(){const h=yield d.getIdToken();return yield gi(d,function(g,d){return tn.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var v,M,F,ne,Ie,Xe,qe,ht;const vt=null!==(v=h.displayName)&&void 0!==v?v:void 0,gn=null!==(M=h.email)&&void 0!==M?M:void 0,Hr=null!==(F=h.phoneNumber)&&void 0!==F?F:void 0,Os=null!==(ne=h.photoURL)&&void 0!==ne?ne:void 0,pc=null!==(Ie=h.tenantId)&&void 0!==Ie?Ie:void 0,Wf=null!==(Xe=h._redirectEventId)&&void 0!==Xe?Xe:void 0,ir=null!==(qe=h.createdAt)&&void 0!==qe?qe:void 0,mn=null!==(ht=h.lastLoginAt)&&void 0!==ht?ht:void 0,{uid:Kl,emailVerified:Rh,isAnonymous:Fr,providerData:el,stsTokenManager:Di}=h;Fe(Kl&&Di,d,"internal-error");const Lr=Ut.fromJSON(this.name,Di);Fe("string"==typeof Kl,d,"internal-error"),dn(vt,d.name),dn(gn,d.name),Fe("boolean"==typeof Rh,d,"internal-error"),Fe("boolean"==typeof Fr,d,"internal-error"),dn(Hr,d.name),dn(Os,d.name),dn(pc,d.name),dn(Wf,d.name),dn(ir,d.name),dn(mn,d.name);const Md=new On({uid:Kl,auth:d,email:gn,emailVerified:Rh,displayName:vt,isAnonymous:Fr,photoURL:Os,phoneNumber:Hr,tenantId:pc,stsTokenManager:Lr,createdAt:ir,lastLoginAt:mn});return el&&Array.isArray(el)&&(Md.providerData=el.map(Sg=>Object.assign({},Sg))),Wf&&(Md._redirectEventId=Wf),Md}static _fromIdTokenResponse(d,h,v=!1){return(0,A.Z)(function*(){const M=new Ut;M.updateFromServerResponse(h);const F=new On({uid:h.localId,auth:d,stsTokenManager:M,isAnonymous:v});return yield Nr(F),F})()}}const An=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,A.Z)(function*(){return!0})()}_set(h,v){var M=this;return(0,A.Z)(function*(){M.storage[h]=v})()}_get(h){var v=this;return(0,A.Z)(function*(){const M=v.storage[h];return void 0===M?null:M})()}_remove(h){var v=this;return(0,A.Z)(function*(){delete v.storage[h]})()}_addListener(h,v){}_removeListener(h,v){}}return g.type="NONE",g})();function yr(g,d,h){return`firebase:${g}:${d}:${h}`}class pn{constructor(d,h,v){this.persistence=d,this.auth=h,this.userKey=v;const{config:M,name:F}=this.auth;this.fullUserKey=yr(this.userKey,M.apiKey,F),this.fullPersistenceKey=yr("persistence",M.apiKey,F),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,A.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?On._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,A.Z)(function*(){if(h.persistence===d)return;const v=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,v?h.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,v="authUser"){return(0,A.Z)(function*(){if(!h.length)return new pn(zt(An),d,v);const M=(yield Promise.all(h.map(function(){var qe=(0,A.Z)(function*(ht){if(yield ht._isAvailable())return ht});return function(ht){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let F=M[0]||zt(An);const ne=yr(v,d.config.apiKey,d.name);let Ie=null;for(const qe of h)try{const ht=yield qe._get(ne);if(ht){const vt=On._fromJSON(d,ht);qe!==F&&(Ie=vt),F=qe;break}}catch(ht){}const Xe=M.filter(qe=>qe._shouldAllowMigration);return F._shouldAllowMigration&&Xe.length?(F=Xe[0],Ie&&(yield F._set(ne,Ie.toJSON())),yield Promise.all(h.map(function(){var qe=(0,A.Z)(function*(ht){if(ht!==F)try{yield ht._remove(ne)}catch(vt){}});return function(ht){return qe.apply(this,arguments)}}())),new pn(F,d,v)):new pn(F,d,v)})()}}function er(g){const d=g.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Es(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if($s(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ri(d))return"Blackberry";if(Dr(d))return"Webos";if(Ft(d))return"Safari";if((d.includes("chrome/")||Mo(d))&&!d.includes("edge/"))return"Chrome";if(Cr(d))return"Android";{const v=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function $s(g=(0,W.z$)()){return/firefox\//i.test(g)}function Ft(g=(0,W.z$)()){const d=g.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Mo(g=(0,W.z$)()){return/crios\//i.test(g)}function Es(g=(0,W.z$)()){return/iemobile/i.test(g)}function Cr(g=(0,W.z$)()){return/android/i.test(g)}function ri(g=(0,W.z$)()){return/blackberry/i.test(g)}function Dr(g=(0,W.z$)()){return/webos/i.test(g)}function Ur(g=(0,W.z$)()){return/iphone|ipad|ipod/i.test(g)}function ws(g=(0,W.z$)()){return Ur(g)||Cr(g)||Dr(g)||ri(g)||/windows phone/i.test(g)||Es(g)}function lo(g,d=[]){let h;switch(g){case"Browser":h=er((0,W.z$)());break;case"Worker":h=`${er((0,W.z$)())}-${g}`;break;default:h=g}const v=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${me.SDK_VERSION}/${v}`}class Gi{constructor(d,h){this.app=d,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mi(this),this.idTokenSubscription=new mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(d,h){var v=this;return h&&(this._popupRedirectResolver=zt(h)),this._initializationPromise=this.queue((0,A.Z)(function*(){var M,F;v._deleted||(v.persistenceManager=yield pn.create(v,d),!v._deleted&&((null===(M=v._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)&&(yield v._popupRedirectResolver._initialize(v)),yield v.initializeCurrentUser(h),v.lastNotifiedUid=(null===(F=v.currentUser)||void 0===F?void 0:F.uid)||null,!v._deleted&&(v._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,A.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h)}})()}initializeCurrentUser(d){var h=this;return(0,A.Z)(function*(){var v;let M=yield h.assertedPersistence.getCurrentUser();if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const F=null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId,ne=null==M?void 0:M._redirectEventId,Ie=yield h.tryRedirectSignIn(d);(!F||F===ne)&&(null==Ie?void 0:Ie.user)&&(M=Ie.user)}return M?M._redirectEventId?(Fe(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===M._redirectEventId?h.directlySetCurrentUser(M):h.reloadAndSetCurrentUserOrClear(M)):h.reloadAndSetCurrentUserOrClear(M):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var h=this;return(0,A.Z)(function*(){let v=null;try{v=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch(M){yield h._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,A.Z)(function*(){try{yield Nr(d)}catch(v){if("auth/network-request-failed"!==v.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var d=this;return(0,A.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,A.Z)(function*(){const v=d?(0,W.m9)(d):null;return v&&Fe(v.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(v&&v._clone(h))})()}_updateCurrentUser(d){var h=this;return(0,A.Z)(function*(){if(!h._deleted)return d&&Fe(h.tenantId===d.tenantId,h,"tenant-id-mismatch"),h.queue((0,A.Z)(function*(){yield h.directlySetCurrentUser(d),h.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,A.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var h=this;return this.queue((0,A.Z)(function*(){yield h.assertedPersistence.setPersistence(zt(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new W.LL("auth","Firebase",d())}onAuthStateChanged(d,h,v){return this.registerStateListener(this.authStateSubscription,d,h,v)}onIdTokenChanged(d,h,v){return this.registerStateListener(this.idTokenSubscription,d,h,v)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var v=this;return(0,A.Z)(function*(){const M=yield v.getOrInitRedirectPersistenceManager(h);return null===d?M.removeCurrentUser():M.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,A.Z)(function*(){if(!h.redirectPersistenceManager){const v=d&&zt(d)||h._popupRedirectResolver;Fe(v,h,"argument-error"),h.redirectPersistenceManager=yield pn.create(h,[zt(v._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,A.Z)(function*(){var v,M;return h._isInitialized&&(yield h.queue((0,A.Z)(function*(){}))),(null===(v=h._currentUser)||void 0===v?void 0:v._redirectEventId)===d?h._currentUser:(null===(M=h.redirectUser)||void 0===M?void 0:M._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,A.Z)(function*(){if(d===h.currentUser)return h.queue((0,A.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,v,M){if(this._deleted)return()=>{};const F="function"==typeof h?h:h.next.bind(h),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return Fe(ne,this,"internal-error"),ne.then(()=>F(this.currentUser)),"function"==typeof h?d.addObserver(h,v,M):d.addObserver(h)}directlySetCurrentUser(d){var h=this;return(0,A.Z)(function*(){h.currentUser&&h.currentUser!==d&&(h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh()),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=lo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function an(g){return(0,W.m9)(g)}class mi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,W.ne)(h=>this.observer=h)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tr(g){const d=g.indexOf(":");return d<0?"":g.substr(0,d+1)}function ii(g){if(!g)return null;const d=Number(g);return isNaN(d)?null:d}class Ni{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return br("not implemented")}_getIdTokenResponse(d){return br("not implemented")}_linkToIdToken(d,h){return br("not implemented")}_getReauthenticationResolver(d){return br("not implemented")}}function Oe(g,d){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,A.Z)(function*(g,d){return Ot(g,"POST","/v1/accounts:resetPassword",on(g,d))})).apply(this,arguments)}function Mr(g,d){return yi.apply(this,arguments)}function yi(){return(yi=(0,A.Z)(function*(g,d){return Ot(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Yt(g,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,A.Z)(function*(g,d){return Ot(g,"POST","/v1/accounts:update",on(g,d))})).apply(this,arguments)}function lt(){return(lt=(0,A.Z)(function*(g,d){return re(g,"POST","/v1/accounts:signInWithPassword",on(g,d))})).apply(this,arguments)}function po(g,d){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,A.Z)(function*(g,d){return Ot(g,"POST","/v1/accounts:sendOobCode",on(g,d))})).apply(this,arguments)}function Sa(g,d){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,A.Z)(function*(g,d){return po(g,d)})).apply(this,arguments)}function Is(g,d){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,A.Z)(function*(g,d){return po(g,d)})).apply(this,arguments)}function Po(g,d){return na.apply(this,arguments)}function na(){return(na=(0,A.Z)(function*(g,d){return po(g,d)})).apply(this,arguments)}function iu(g,d){return ra.apply(this,arguments)}function ra(){return(ra=(0,A.Z)(function*(g,d){return po(g,d)})).apply(this,arguments)}function bs(){return(bs=(0,A.Z)(function*(g,d){return re(g,"POST","/v1/accounts:signInWithEmailLink",on(g,d))})).apply(this,arguments)}function si(){return(si=(0,A.Z)(function*(g,d){return re(g,"POST","/v1/accounts:signInWithEmailLink",on(g,d))})).apply(this,arguments)}class ts extends Ni{constructor(d,h,v,M=null){super("password",v),this._email=d,this._password=h,this._tenantId=M}static _fromEmailAndPassword(d,h){return new ts(d,h,"password")}static _fromEmailAndCode(d,h,v=null){return new ts(d,h,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,A.Z)(function*(){switch(h.signInMethod){case"password":return function(g,d){return lt.apply(this,arguments)}(d,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function(g,d){return bs.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:en(d,"internal-error")}})()}_linkToIdToken(d,h){var v=this;return(0,A.Z)(function*(){switch(v.signInMethod){case"password":return Mr(d,{idToken:h,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(g,d){return si.apply(this,arguments)}(d,{idToken:h,email:v._email,oobCode:v._password});default:en(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Cs(g,d){return go.apply(this,arguments)}function go(){return(go=(0,A.Z)(function*(g,d){return re(g,"POST","/v1/accounts:signInWithIdp",on(g,d))})).apply(this,arguments)}class Wn extends Ni{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new Wn(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):en("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:M}=h,F=oe(h,["providerId","signInMethod"]);if(!v||!M)return null;const ne=new Wn(v,M);return ne.idToken=F.idToken||void 0,ne.accessToken=F.accessToken||void 0,ne.secret=F.secret,ne.nonce=F.nonce,ne.pendingToken=F.pendingToken||null,ne}_getIdTokenResponse(d){return Cs(d,this.buildRequest())}_linkToIdToken(d,h){const v=this.buildRequest();return v.idToken=h,Cs(d,v)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Cs(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,W.xO)(h)}return d}}function _i(g,d){return mo.apply(this,arguments)}function mo(){return(mo=(0,A.Z)(function*(g,d){return Ot(g,"POST","/v1/accounts:sendVerificationCode",on(g,d))})).apply(this,arguments)}function ia(){return(ia=(0,A.Z)(function*(g,d){return re(g,"POST","/v1/accounts:signInWithPhoneNumber",on(g,d))})).apply(this,arguments)}function zs(){return(zs=(0,A.Z)(function*(g,d){const h=yield re(g,"POST","/v1/accounts:signInWithPhoneNumber",on(g,d));if(h.temporaryProof)throw ut(g,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const xn={USER_NOT_FOUND:"user-not-found"};function oi(){return(oi=(0,A.Z)(function*(g,d){return re(g,"POST","/v1/accounts:signInWithPhoneNumber",on(g,Object.assign(Object.assign({},d),{operation:"REAUTH"})),xn)})).apply(this,arguments)}class ns extends Ni{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new ns({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new ns({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function(g,d){return ia.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function(g,d){return zs.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(g,d){return oi.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:v,verificationCode:M}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:v,code:M}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:v,phoneNumber:M,temporaryProof:F}=d;return v||h||M||F?new ns({verificationId:h,verificationCode:v,phoneNumber:M,temporaryProof:F}):null}}class S{constructor(d){var h,v,M,F,ne,Ie;const Xe=(0,W.zd)((0,W.pd)(d)),qe=null!==(h=Xe.apiKey)&&void 0!==h?h:null,ht=null!==(v=Xe.oobCode)&&void 0!==v?v:null,vt=function(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Xe.mode)&&void 0!==M?M:null);Fe(qe&&ht&&vt,"argument-error"),this.apiKey=qe,this.operation=vt,this.code=ht,this.continueUrl=null!==(F=Xe.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(ne=Xe.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(Ie=Xe.tenantId)&&void 0!==Ie?Ie:null}static parseLink(d){const h=function(g){const d=(0,W.zd)((0,W.pd)(g)).link,h=d?(0,W.zd)((0,W.pd)(d)).deep_link_id:null,v=(0,W.zd)((0,W.pd)(g)).deep_link_id;return(v?(0,W.zd)((0,W.pd)(v)).link:null)||v||h||d||g}(d);try{return new S(h)}catch(v){return null}}}let R=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(h,v){return ts._fromEmailAndPassword(h,v)}static credentialWithLink(h,v){const M=S.parseLink(v);return Fe(M,"argument-error"),ts._fromEmailAndCode(h,M.code,M.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class B{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class te extends B{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class we extends te{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return Fe("providerId"in h&&"signInMethod"in h,"argument-error"),Wn._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Fe(d.idToken||d.accessToken,"argument-error"),Wn._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return we.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return we.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:v,oauthTokenSecret:M,pendingToken:F,nonce:ne,providerId:Ie}=d;if(!v&&!M&&!h&&!F||!Ie)return null;try{return new we(Ie)._credential({idToken:h,accessToken:v,nonce:ne,pendingToken:F})}catch(Xe){return null}}}let Ge=(()=>{class g extends te{constructor(){super("facebook.com")}static credential(h){return Wn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(v){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),mt=(()=>{class g extends te{constructor(){super("google.com"),this.addScope("profile")}static credential(h,v){return Wn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:v})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:v,oauthAccessToken:M}=h;if(!v&&!M)return null;try{return g.credential(v,M)}catch(F){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Wt=(()=>{class g extends te{constructor(){super("github.com")}static credential(h){return Wn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(v){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class hn extends Ni{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return Cs(d,this.buildRequest())}_linkToIdToken(d,h){const v=this.buildRequest();return v.idToken=h,Cs(d,v)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Cs(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:M,pendingToken:F}=h;return v&&M&&F&&v===M?new hn(v,F):null}static _create(d,h){return new hn(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bn extends B{constructor(d){Fe(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return bn.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return bn.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=hn.fromJSON(d);return Fe(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:v}=d;if(!h||!v)return null;try{return hn._create(v,h)}catch(M){return null}}}let qt=(()=>{class g extends te{constructor(){super("twitter.com")}static credential(h,v){return Wn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:v})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:v,oauthTokenSecret:M}=h;if(!v||!M)return null;try{return g.credential(v,M)}catch(F){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Ar(g,d){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,A.Z)(function*(g,d){return re(g,"POST","/v1/accounts:signUp",on(g,d))})).apply(this,arguments)}class Cn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,v,M=!1){return(0,A.Z)(function*(){const F=yield On._fromIdTokenResponse(d,v,M),ne=Un(v);return new Cn({user:F,providerId:ne,_tokenResponse:v,operationType:h})})()}static _forOperation(d,h,v){return(0,A.Z)(function*(){yield d._updateTokensIfNecessary(v,!0);const M=Un(v);return new Cn({user:d,providerId:M,_tokenResponse:v,operationType:h})})()}}function Un(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function Ds(){return(Ds=(0,A.Z)(function*(g){var d;const h=an(g);if(yield h._initializationPromise,null===(d=h.currentUser)||void 0===d?void 0:d.isAnonymous)return new Cn({user:h.currentUser,providerId:null,operationType:"signIn"});const v=yield Ar(h,{returnSecureToken:!0}),M=yield Cn._fromIdTokenResponse(h,"signIn",v,!0);return yield h._updateCurrentUser(M.user),M})).apply(this,arguments)}class Nn extends W.ZR{constructor(d,h,v,M){var F;super(h.code,h.message),this.operationType=v,this.user=M,Object.setPrototypeOf(this,Nn.prototype),this.customData={appName:d.name,tenantId:null!==(F=d.tenantId)&&void 0!==F?F:void 0,_serverResponse:h.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(d,h,v,M){return new Nn(d,h,v,M)}}function Br(g,d,h,v){return("reauthenticate"===d?h._getReauthenticationResolver(g):h._getIdTokenResponse(g)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Nn._fromErrorAndOperation(g,F,d,v):F})}function yo(g){return new Set(g.map(({providerId:d})=>d).filter(d=>!!d))}function xt(){return(xt=(0,A.Z)(function*(g,d){const h=(0,W.m9)(g);yield vo(!0,h,d);const{providerUserInfo:v}=yield ar(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),M=yo(v||[]);return h.providerData=h.providerData.filter(F=>M.has(F.providerId)),M.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function Rc(g,d){return _o.apply(this,arguments)}function _o(){return(_o=(0,A.Z)(function*(g,d,h=!1){const v=yield gi(g,d._linkToIdToken(g.auth,yield g.getIdToken()),h);return Cn._forOperation(g,"link",v)})).apply(this,arguments)}function vo(g,d,h){return ko.apply(this,arguments)}function ko(){return(ko=(0,A.Z)(function*(g,d,h){yield Nr(d);const M=!1===g?"provider-already-linked":"no-such-provider";Fe(yo(d.providerData).has(h)===g,d.auth,M)})).apply(this,arguments)}function Fo(g,d){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,A.Z)(function*(g,d,h=!1){const{auth:v}=g,M="reauthenticate";try{const F=yield gi(g,Br(v,M,d,g),h);Fe(F.idToken,v,"internal-error");const ne=ys(F.idToken);Fe(ne,v,"internal-error");const{sub:Ie}=ne;return Fe(g.uid===Ie,v,"user-mismatch"),Cn._forOperation(g,M,F)}catch(F){throw"auth/user-not-found"===(null==F?void 0:F.code)&&en(v,"user-mismatch"),F}})).apply(this,arguments)}function xa(g,d){return Be.apply(this,arguments)}function Be(){return(Be=(0,A.Z)(function*(g,d,h=!1){const v="signIn",M=yield Br(g,v,d),F=yield Cn._fromIdTokenResponse(g,v,M);return h||(yield g._updateCurrentUser(F.user)),F})).apply(this,arguments)}function un(g,d){return ou.apply(this,arguments)}function ou(){return(ou=(0,A.Z)(function*(g,d){return xa(an(g),d)})).apply(this,arguments)}function Gn(g,d){return Na.apply(this,arguments)}function Na(){return(Na=(0,A.Z)(function*(g,d){const h=(0,W.m9)(g);return yield vo(!1,h,d.providerId),Rc(h,d)})).apply(this,arguments)}function Pi(g,d){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,A.Z)(function*(g,d){return Fo((0,W.m9)(g),d)})).apply(this,arguments)}function Ma(g,d){return rs.apply(this,arguments)}function rs(){return(rs=(0,A.Z)(function*(g,d){return re(g,"POST","/v1/accounts:signInWithCustomToken",on(g,d))})).apply(this,arguments)}function Vo(){return(Vo=(0,A.Z)(function*(g,d){const h=an(g),v=yield Ma(h,{token:d,returnSecureToken:!0}),M=yield Cn._fromIdTokenResponse(h,"signIn",v);return yield h._updateCurrentUser(M.user),M})).apply(this,arguments)}class zn{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?Kn._fromServerResponse(d,h):en(d,"internal-error")}}class Kn extends zn{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new Kn(h)}}function cr(g,d,h){var v;Fe((null===(v=h.url)||void 0===v?void 0:v.length)>0,g,"invalid-continue-uri"),Fe(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(Fe(h.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(Fe(h.android.packageName.length>0,g,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Pa(){return(Pa=(0,A.Z)(function*(g,d,h){const v=(0,W.m9)(g),M={requestType:"PASSWORD_RESET",email:d};h&&cr(v,M,h),yield Is(v,M)})).apply(this,arguments)}function Ki(){return(Ki=(0,A.Z)(function*(g,d,h){yield Oe((0,W.m9)(g),{oobCode:d,newPassword:h})})).apply(this,arguments)}function uu(){return(uu=(0,A.Z)(function*(g,d){yield Yt((0,W.m9)(g),{oobCode:d})})).apply(this,arguments)}function cu(g,d){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,A.Z)(function*(g,d){const h=(0,W.m9)(g),v=yield Oe(h,{oobCode:d}),M=v.requestType;switch(Fe(M,h,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fe(v.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fe(v.mfaInfo,h,"internal-error");default:Fe(v.email,h,"internal-error")}let F=null;return v.mfaInfo&&(F=zn._fromServerResponse(an(h),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:F},operation:M}})).apply(this,arguments)}function wo(){return(wo=(0,A.Z)(function*(g,d){const{data:h}=yield cu((0,W.m9)(g),d);return h.email})).apply(this,arguments)}function hu(){return(hu=(0,A.Z)(function*(g,d,h){const v=an(g),M=yield Ar(v,{returnSecureToken:!0,email:d,password:h}),F=yield Cn._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(F.user),F})).apply(this,arguments)}function is(){return(is=(0,A.Z)(function*(g,d,h){const v=(0,W.m9)(g),M={requestType:"EMAIL_SIGNIN",email:d};Fe(h.handleCodeInApp,v,"argument-error"),h&&cr(v,M,h),yield Po(v,M)})).apply(this,arguments)}function Io(){return(Io=(0,A.Z)(function*(g,d,h){const v=(0,W.m9)(g),M=R.credentialWithLink(d,h||ve());return Fe(M._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),un(v,M)})).apply(this,arguments)}function xc(g,d){return oa.apply(this,arguments)}function oa(){return(oa=(0,A.Z)(function*(g,d){return Ot(g,"POST","/v1/accounts:createAuthUri",on(g,d))})).apply(this,arguments)}function jo(){return(jo=(0,A.Z)(function*(g,d){const v={identifier:d,continueUri:K()?ve():"http://localhost"},{signinMethods:M}=yield xc((0,W.m9)(g),v);return M||[]})).apply(this,arguments)}function ki(){return(ki=(0,A.Z)(function*(g,d){const h=(0,W.m9)(g),M={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};d&&cr(h.auth,M,d);const{email:F}=yield Sa(h.auth,M);F!==g.email&&(yield g.reload())})).apply(this,arguments)}function ka(){return(ka=(0,A.Z)(function*(g,d,h){const v=(0,W.m9)(g),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:d};h&&cr(v.auth,F,h);const{email:ne}=yield iu(v.auth,F);ne!==g.email&&(yield g.reload())})).apply(this,arguments)}function Nc(g,d){return qs.apply(this,arguments)}function qs(){return(qs=(0,A.Z)(function*(g,d){return Ot(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function rr(){return(rr=(0,A.Z)(function*(g,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const v=(0,W.m9)(g),F={idToken:yield v.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},ne=yield gi(v,Nc(v.auth,F));v.displayName=ne.displayName||null,v.photoURL=ne.photoUrl||null;const Ie=v.providerData.find(({providerId:Xe})=>"password"===Xe);Ie&&(Ie.displayName=v.displayName,Ie.photoURL=v.photoURL),yield v._updateTokensIfNecessary(ne)})).apply(this,arguments)}function aa(g,d,h){return lr.apply(this,arguments)}function lr(){return(lr=(0,A.Z)(function*(g,d,h){const{auth:v}=g,F={idToken:yield g.getIdToken(),returnSecureToken:!0};d&&(F.email=d),h&&(F.password=h);const ne=yield gi(g,Mr(v,F));yield g._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class ss{constructor(d,h,v={}){this.isNewUser=d,this.providerId=h,this.profile=v}}class dr extends ss{constructor(d,h,v,M){super(d,h,v),this.username=M}}class Zs extends ss{constructor(d,h){super(d,"facebook.com",h)}}class Ts extends dr{constructor(d,h){super(d,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class Fa extends ss{constructor(d,h){super(d,"google.com",h)}}class La extends dr{constructor(d,h,v){super(d,"twitter.com",h,v)}}function kn(g){const{user:d,_tokenResponse:h}=g;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function(g){var d,h;if(!g)return null;const{providerId:v}=g,M=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},F=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!v&&(null==g?void 0:g.idToken)){const ne=null===(h=null===(d=ys(g.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(ne)return new ss(F,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!v)return null;switch(v){case"facebook.com":return new Zs(F,M);case"github.com":return new Ts(F,M);case"google.com":return new Fa(F,M);case"twitter.com":return new La(F,M,g.screenName||null);case"custom":case"anonymous":return new ss(F,null);default:return new ss(F,v,M)}}(h)}class $r{constructor(d,h){this.type=d,this.credential=h}static _fromIdtoken(d){return new $r("enroll",d)}static _fromMfaPendingCredential(d){return new $r("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,v;if(null==d?void 0:d.multiFactorSession){if(null===(h=d.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return $r._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(v=d.multiFactorSession)||void 0===v?void 0:v.idToken)return $r._fromIdtoken(d.multiFactorSession.idToken)}return null}}class ca{constructor(d,h,v){this.session=d,this.hints=h,this.signInResolver=v}static _fromError(d,h){const v=an(d),M=h.customData._serverResponse,F=(M.mfaInfo||[]).map(Ie=>zn._fromServerResponse(v,Ie));Fe(M.mfaPendingCredential,v,"internal-error");const ne=$r._fromMfaPendingCredential(M.mfaPendingCredential);return new ca(ne,F,function(){var Ie=(0,A.Z)(function*(Xe){const qe=yield Xe._process(v,ne);delete M.mfaInfo,delete M.mfaPendingCredential;const ht=Object.assign(Object.assign({},M),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(h.operationType){case"signIn":const vt=yield Cn._fromIdTokenResponse(v,h.operationType,ht);return yield v._updateCurrentUser(vt.user),vt;case"reauthenticate":return Fe(h.user,v,"internal-error"),Cn._forOperation(h.user,h.operationType,ht);default:en(v,"internal-error")}});return function(Xe){return Ie.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,A.Z)(function*(){return h.signInResolver(d)})()}}function To(g,d){return Ot(g,"POST","/v2/accounts/mfaEnrollment:start",on(g,d))}class Ys{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(v=>zn._fromServerResponse(d.auth,v)))})}static _fromUser(d){return new Ys(d)}getSession(){var d=this;return(0,A.Z)(function*(){return $r._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,h){var v=this;return(0,A.Z)(function*(){const M=d,F=yield v.getSession(),ne=yield gi(v.user,M._process(v.user.auth,F,h));return yield v.user._updateTokensIfNecessary(ne),v.user.reload()})()}unenroll(d){var h=this;return(0,A.Z)(function*(){const v="string"==typeof d?d:d.uid,M=yield h.user.getIdToken(),F=yield gi(h.user,function(g,d){return Ot(g,"POST","/v2/accounts/mfaEnrollment:withdraw",on(g,d))}(h.user.auth,{idToken:M,mfaEnrollmentId:v}));h.enrolledFactors=h.enrolledFactors.filter(({uid:ne})=>ne!==v),yield h.user._updateTokensIfNecessary(F);try{yield h.user.reload()}catch(ne){if("auth/user-token-expired"!==ne.code)throw ne}})()}}const Qs=new WeakMap,as="__sak";class Js{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(as,"1"),this.storage.removeItem(as),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const us=(()=>{class g extends Js{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,v)=>this.onStorageEvent(h,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const g=(0,W.z$)();return Ft(g)||Ur(g)}()&&function(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=ws(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const v of Object.keys(this.listeners)){const M=this.storage.getItem(v),F=this.localCache[v];M!==F&&h(v,F,M)}}onStorageEvent(h,v=!1){if(!h.key)return void this.forAllChangedKeys((Ie,Xe,qe)=>{this.notifyListeners(Ie,qe)});const M=h.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(M);if(h.newValue!==Ie)null!==h.newValue?this.storage.setItem(M,h.newValue):this.storage.removeItem(M);else if(this.localCache[M]===h.newValue&&!v)return}const F=()=>{const Ie=this.storage.getItem(M);!v&&this.localCache[M]===Ie||this.notifyListeners(M,Ie)},ne=this.storage.getItem(M);(0,W.w1)()&&10===document.documentMode&&ne!==h.newValue&&h.newValue!==h.oldValue?setTimeout(F,10):F()}notifyListeners(h,v){this.localCache[h]=v;const M=this.listeners[h];if(M)for(const F of Array.from(M))F(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,v,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:v,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,v){var M=()=>super._set,F=this;return(0,A.Z)(function*(){yield M().call(F,h,v),F.localCache[h]=JSON.stringify(v)})()}_get(h){var v=()=>super._get,M=this;return(0,A.Z)(function*(){const F=yield v().call(M,h);return M.localCache[h]=JSON.stringify(F),F})()}_remove(h){var v=()=>super._remove,M=this;return(0,A.Z)(function*(){yield v().call(M,h),delete M.localCache[h]})()}}return g.type="LOCAL",g})(),Qr=(()=>{class g extends Js{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,v){}_removeListener(h,v){}}return g.type="SESSION",g})();let Bo=(()=>{class g{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const v=this.receivers.find(F=>F.isListeningto(h));if(v)return v;const M=new g(h);return this.receivers.push(M),M}isListeningto(h){return this.eventTarget===h}handleEvent(h){var v=this;return(0,A.Z)(function*(){const M=h,{eventId:F,eventType:ne,data:Ie}=M.data,Xe=v.handlersMap[ne];if(!(null==Xe?void 0:Xe.size))return;M.ports[0].postMessage({status:"ack",eventId:F,eventType:ne});const qe=Array.from(Xe).map(function(){var vt=(0,A.Z)(function*(gn){return gn(M.origin,Ie)});return function(gn){return vt.apply(this,arguments)}}()),ht=yield function(g){return Promise.all(g.map(function(){var d=(0,A.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(v){return{fulfilled:!1,reason:v}}});return function(h){return d.apply(this,arguments)}}()))}(qe);M.ports[0].postMessage({status:"done",eventId:F,eventType:ne,response:ht})})()}_subscribe(h,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(v)}_unsubscribe(h,v){this.handlersMap[h]&&v&&this.handlersMap[h].delete(v),(!v||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function Fi(g="",d=10){let h="";for(let v=0;v<d;v++)h+=Math.floor(10*Math.random());return g+h}class I{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,v=50){var M=this;return(0,A.Z)(function*(){const F="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let ne,Ie;return new Promise((Xe,qe)=>{const ht=Fi("",20);F.port1.start();const vt=setTimeout(()=>{qe(new Error("unsupported_event"))},v);Ie={messageChannel:F,onMessage(gn){const Hr=gn;if(Hr.data.eventId===ht)switch(Hr.data.status){case"ack":clearTimeout(vt),ne=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),Xe(Hr.data.response);break;default:clearTimeout(vt),clearTimeout(ne),qe(new Error("invalid_response"))}}},M.handlers.add(Ie),F.port1.addEventListener("message",Ie.onMessage),M.target.postMessage({eventType:d,eventId:ht,data:h},[F.port2])}).finally(()=>{Ie&&M.removeMessageHandler(Ie)})})()}}function E(){return window}function T(){return void 0!==E().WorkerGlobalScope&&"function"==typeof E().importScripts}function V(){return(V=(0,A.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const Ne="firebaseLocalStorageDb",nn="firebaseLocalStorage",Tt="fbase_key";class yn{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Gt(g,d){return g.transaction([nn],d?"readwrite":"readonly").objectStore(nn)}function ui(){const g=indexedDB.open(Ne,1);return new Promise((d,h)=>{g.addEventListener("error",()=>{h(g.error)}),g.addEventListener("upgradeneeded",()=>{const v=g.result;try{v.createObjectStore(nn,{keyPath:Tt})}catch(M){h(M)}}),g.addEventListener("success",(0,A.Z)(function*(){const v=g.result;v.objectStoreNames.contains(nn)?d(v):(v.close(),yield function(){const g=indexedDB.deleteDatabase(Ne);return new yn(g).toPromise()}(),d(yield ui()))}))})}function Or(g,d,h){return ci.apply(this,arguments)}function ci(){return(ci=(0,A.Z)(function*(g,d,h){const v=Gt(g,!0).put({[Tt]:d,value:h});return new yn(v).toPromise()})).apply(this,arguments)}function Rs(){return(Rs=(0,A.Z)(function*(g,d){const h=Gt(g,!1).get(d),v=yield new yn(h).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Va(g,d){const h=Gt(g,!0).delete(d);return new yn(h).toPromise()}const jn=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,A.Z)(function*(){return h.db||(h.db=yield ui()),h.db})()}_withRetries(h){var v=this;return(0,A.Z)(function*(){let M=0;for(;;)try{const F=yield v._openDb();return yield h(F)}catch(F){if(M++>3)throw F;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,A.Z)(function*(){return T()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,A.Z)(function*(){h.receiver=Bo._getInstance(T()?self:null),h.receiver._subscribe("keyChanged",function(){var v=(0,A.Z)(function*(M,F){return{keyProcessed:(yield h._poll()).includes(F.key)}});return function(M,F){return v.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var v=(0,A.Z)(function*(M,F){return["keyChanged"]});return function(M,F){return v.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,A.Z)(function*(){var v,M;if(h.activeServiceWorker=yield function(){return V.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new I(h.activeServiceWorker);const F=yield h.sender._send("ping",{},800);!F||(null===(v=F[0])||void 0===v?void 0:v.fulfilled)&&(null===(M=F[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var v=this;return(0,A.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:h},v.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,A.Z)(function*(){try{if(!indexedDB)return!1;const h=yield ui();return yield Or(h,as,"1"),yield Va(h,as),!0}catch(h){}return!1})()}_withPendingWrite(h){var v=this;return(0,A.Z)(function*(){v.pendingWrites++;try{yield h()}finally{v.pendingWrites--}})()}_set(h,v){var M=this;return(0,A.Z)(function*(){return M._withPendingWrite((0,A.Z)(function*(){return yield M._withRetries(F=>Or(F,h,v)),M.localCache[h]=v,M.notifyServiceWorker(h)}))})()}_get(h){var v=this;return(0,A.Z)(function*(){const M=yield v._withRetries(F=>function(g,d){return Rs.apply(this,arguments)}(F,h));return v.localCache[h]=M,M})()}_remove(h){var v=this;return(0,A.Z)(function*(){return v._withPendingWrite((0,A.Z)(function*(){return yield v._withRetries(M=>Va(M,h)),delete v.localCache[h],v.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,A.Z)(function*(){const v=yield h._withRetries(ne=>{const Ie=Gt(ne,!1).getAll();return new yn(Ie).toPromise()});if(!v)return[];if(0!==h.pendingWrites)return[];const M=[],F=new Set;for(const{fbase_key:ne,value:Ie}of v)F.add(ne),JSON.stringify(h.localCache[ne])!==JSON.stringify(Ie)&&(h.notifyListeners(ne,Ie),M.push(ne));for(const ne of Object.keys(h.localCache))h.localCache[ne]&&!F.has(ne)&&(h.notifyListeners(ne,null),M.push(ne));return M})()}notifyListeners(h,v){this.localCache[h]=v;const M=this.listeners[h];if(M)for(const F of Array.from(M))F(v)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,A.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function hh(g,d){return Ot(g,"POST","/v2/accounts/mfaSignIn:start",on(g,d))}function kc(){return(kc=(0,A.Z)(function*(g){return(yield Ot(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fc(g){return new Promise((d,h)=>{const v=document.createElement("script");v.setAttribute("src",g),v.onload=d,v.onerror=M=>{const F=Pt("internal-error");F.customData=M,h(F)},v.type="text/javascript",v.charset="UTF-8",function(){var g,d;return null!==(d=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==d?d:document}().appendChild(v)})}function Ml(g){return`__${g}${Math.floor(1e6*Math.random())}`}const Ju=1e12;class yd{constructor(d){this.auth=d,this.counter=Ju,this._widgets=new Map}render(d,h){const v=this.counter;return this._widgets.set(v,new ja(d,this.auth.name,h||{})),this.counter++,v}reset(d){var h;const v=d||Ju;null===(h=this._widgets.get(v))||void 0===h||h.delete(),this._widgets.delete(v)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Ju))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,A.Z)(function*(){var v;return null===(v=h._widgets.get(d||Ju))||void 0===v||v.execute(),""})()}}class ja{constructor(d,h,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof d?document.getElementById(d):d;Fe(M,"argument-error",{appName:h}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(g){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)d.push(h.charAt(Math.floor(Math.random()*h.length)));return d.join("")}();const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hr=Ml("rcb"),Iu=new rt(3e4,6e4);class $o{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!E().grecaptcha}load(d,h=""){return Fe((g=h).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g),d,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(E().grecaptcha):new Promise((v,M)=>{const F=E().setTimeout(()=>{M(Pt(d,"network-request-failed"))},Iu.get());E()[hr]=()=>{E().clearTimeout(F),delete E()[hr];const Ie=E().grecaptcha;if(!Ie)return void M(Pt(d,"internal-error"));const Xe=Ie.render;Ie.render=(qe,ht)=>{const vt=Xe(qe,ht);return this.counter++,vt},this.hostLanguage=h,v(Ie)},Fc(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:hr,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(F),M(Pt(d,"internal-error"))})});var g}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!E().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xs{load(d){return(0,A.Z)(function*(){return new yd(d)})()}clearedOneInstance(){}}const Sn="recaptcha",Xs={theme:"light",type:"image"};class Ba{constructor(d,h=Object.assign({},Xs),v){this.parameters=h,this.type=Sn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=an(v),this.isInvisible="invisible"===this.parameters.size,Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof d?document.getElementById(d):d;Fe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xs:new $o,this.validateStartingState()}verify(){var d=this;return(0,A.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),v=d.getAssertedRecaptcha();return v.getResponse(h)||new Promise(F=>{const ne=Ie=>{!Ie||(d.tokenChangeListeners.delete(ne),F(Ie))};d.tokenChangeListeners.add(ne),d.isInvisible&&v.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(v=>v(h)),"function"==typeof d)d(h);else if("string"==typeof d){const v=E()[d];"function"==typeof v&&v(h)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,A.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const v=document.createElement("div");h.appendChild(v),h=v}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,A.Z)(function*(){Fe(K()&&!T(),d.auth,"internal-error"),yield function(){let g=null;return new Promise(d=>{"complete"!==document.readyState?(g=()=>d(),window.addEventListener("load",g)):d()}).catch(d=>{throw g&&window.removeEventListener("load",g),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function(g){return kc.apply(this,arguments)}(d.auth);Fe(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ol{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=ns._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function ec(){return(ec=(0,A.Z)(function*(g,d,h){const v=an(g),M=yield N(v,d,(0,W.m9)(h));return new Ol(M,F=>un(v,F))})).apply(this,arguments)}function kl(){return(kl=(0,A.Z)(function*(g,d,h){const v=(0,W.m9)(g);yield vo(!1,v,"phone");const M=yield N(v.auth,d,(0,W.m9)(h));return new Ol(M,F=>Gn(v,F))})).apply(this,arguments)}function C(){return(C=(0,A.Z)(function*(g,d,h){const v=(0,W.m9)(g),M=yield N(v.auth,d,(0,W.m9)(h));return new Ol(M,F=>Pi(v,F))})).apply(this,arguments)}function N(g,d,h){return j.apply(this,arguments)}function j(){return(j=(0,A.Z)(function*(g,d,h){var v;const M=yield h.verify();try{let F;if(Fe("string"==typeof M,g,"argument-error"),Fe(h.type===Sn,g,"argument-error"),F="string"==typeof d?{phoneNumber:d}:d,"session"in F){const ne=F.session;if("phoneNumber"in F)return Fe("enroll"===ne.type,g,"internal-error"),(yield To(g,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Fe("signin"===ne.type,g,"internal-error");const Ie=(null===(v=F.multiFactorHint)||void 0===v?void 0:v.uid)||F.multiFactorUid;return Fe(Ie,g,"missing-multi-factor-info"),(yield hh(g,{mfaPendingCredential:ne.credential,mfaEnrollmentId:Ie,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield _i(g,{phoneNumber:F.phoneNumber,recaptchaToken:M});return ne}}finally{h._reset()}})).apply(this,arguments)}function ge(){return(ge=(0,A.Z)(function*(g,d){yield Rc((0,W.m9)(g),d)})).apply(this,arguments)}let Ce=(()=>{class g{constructor(h){this.providerId=g.PROVIDER_ID,this.auth=an(h)}verifyPhoneNumber(h,v){return N(this.auth,h,(0,W.m9)(v))}static credential(h,v){return ns._fromVerification(h,v)}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:v,temporaryProof:M}=h;return v&&M?ns._fromTokenResponse(v,M):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function ze(g,d){return d?zt(d):(Fe(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class gt extends Ni{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Cs(d,this._buildIdpRequest())}_linkToIdToken(d,h){return Cs(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return Cs(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function pt(g){return xa(g.auth,new gt(g),g.bypassAuthState)}function En(g){const{auth:d,user:h}=g;return Fe(h,d,"internal-error"),Fo(h,new gt(g),g.bypassAuthState)}function wn(g){return kr.apply(this,arguments)}function kr(){return(kr=(0,A.Z)(function*(g){const{auth:d,user:h}=g;return Fe(h,d,"internal-error"),Rc(h,new gt(g),g.bypassAuthState)})).apply(this,arguments)}class Ii{constructor(d,h,v,M,F=!1){this.auth=d,this.resolver=v,this.user=M,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,A.Z)(function*(v,M){d.pendingPromise={resolve:v,reject:M};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(F){d.reject(F)}});return function(v,M){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,A.Z)(function*(){const{urlResponse:v,sessionId:M,postBody:F,tenantId:ne,error:Ie,type:Xe}=d;if(Ie)return void h.reject(Ie);const qe={auth:h.auth,requestUri:v,sessionId:M,tenantId:ne||void 0,postBody:F||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Xe)(qe))}catch(ht){h.reject(ht)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return pt;case"linkViaPopup":case"linkViaRedirect":return wn;case"reauthViaPopup":case"reauthViaRedirect":return En;default:en(this.auth,"internal-error")}}resolve(d){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const li=new rt(2e3,1e4);function da(){return(da=(0,A.Z)(function*(g,d,h){const v=an(g);Qn(g,d,B);const M=ze(v,h);return new Cu(v,"signInViaPopup",d,M).executeNotNull()})).apply(this,arguments)}function to(){return(to=(0,A.Z)(function*(g,d,h){const v=(0,W.m9)(g);Qn(v.auth,d,B);const M=ze(v.auth,h);return new Cu(v.auth,"reauthViaPopup",d,M,v).executeNotNull()})).apply(this,arguments)}function tc(){return(tc=(0,A.Z)(function*(g,d,h){const v=(0,W.m9)(g);Qn(v.auth,d,B);const M=ze(v.auth,h);return new Cu(v.auth,"linkViaPopup",d,M,v).executeNotNull()})).apply(this,arguments)}let Cu=(()=>{class g extends Ii{constructor(h,v,M,F,ne){super(h,v,F,ne),this.provider=M,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var h=this;return(0,A.Z)(function*(){const v=yield h.execute();return Fe(v,h.auth,"internal-error"),v})()}onExecution(){var h=this;return(0,A.Z)(function*(){$n(1===h.filter.length,"Popup operations only handle one event");const v=Fi();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],v),h.authWindow.associatedEvent=v,h.resolver._originValidation(h.auth).catch(M=>{h.reject(M)}),h.resolver._isIframeWebStorageSupported(h.auth,M=>{M||h.reject(Pt(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const h=()=>{var v,M;this.pollId=(null===(M=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Pt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,li.get())};h()}}return g.currentPopupAction=null,g})();const nc=new Map;class Ho extends Ii{constructor(d,h,v=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,v),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,A.Z)(function*(){let v=nc.get(h.auth._key());if(!v){try{const F=(yield function(g,d){return _d.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;v=()=>Promise.resolve(F)}catch(M){v=()=>Promise.reject(M)}nc.set(h.auth._key(),v)}return h.bypassAuthState||nc.set(h.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,v=this;return(0,A.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(v,d);if("unknown"!==d.type){if(d.eventId){const M=yield v.auth._redirectUserForId(d.eventId);if(M)return v.user=M,h().call(v,d);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,A.Z)(function*(){})()}cleanUp(){}}function _d(){return(_d=(0,A.Z)(function*(g,d){const h=ic(d),v=Jr(g);if(!(yield v._isAvailable()))return!1;const M="true"===(yield v._get(h));return yield v._remove(h),M})).apply(this,arguments)}function Sr(g,d){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,A.Z)(function*(g,d){return Jr(g)._set(ic(d),"true")})).apply(this,arguments)}function Jr(g){return zt(g._redirectPersistence)}function ic(g){return yr("pendingRedirect",g.config.apiKey,g.name)}function vd(){return(vd=(0,A.Z)(function*(g,d,h){const v=an(g);Qn(g,d,B);const M=ze(v,h);return yield Sr(M,v),M._openRedirect(v,d,"signInViaRedirect")})).apply(this,arguments)}function Wo(){return(Wo=(0,A.Z)(function*(g,d,h){const v=(0,W.m9)(g);Qn(v.auth,d,B);const M=ze(v.auth,h);yield Sr(M,v.auth);const F=yield oc(v);return M._openRedirect(v.auth,d,"reauthViaRedirect",F)})).apply(this,arguments)}function yh(){return(yh=(0,A.Z)(function*(g,d,h){const v=(0,W.m9)(g);Qn(v.auth,d,B);const M=ze(v.auth,h);yield vo(!1,v,d.providerId),yield Sr(M,v.auth);const F=yield oc(v);return M._openRedirect(v.auth,d,"linkViaRedirect",F)})).apply(this,arguments)}function Vl(){return(Vl=(0,A.Z)(function*(g,d){return yield an(g)._initializationPromise,Tu(g,d,!1)})).apply(this,arguments)}function Tu(g,d){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,A.Z)(function*(g,d,h=!1){const v=an(g),M=ze(v,d),ne=yield new Ho(v,M,h).execute();return ne&&!h&&(delete ne.user._redirectEventId,yield v._persistUserIfCurrent(ne.user),yield v._setRedirectUser(null,d)),ne})).apply(this,arguments)}function oc(g){return fa.apply(this,arguments)}function fa(){return(fa=(0,A.Z)(function*(g){const d=Fi(`${g.uid}:::`);return g._redirectEventId=d,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),d})).apply(this,arguments)}class Uc{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(d,v)&&(h=!0,this.sendToConsumer(d,v),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ei(g);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var v;if(d.error&&!ei(d)){const M=(null===(v=d.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";h.onError(Pt(this.auth,M))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const v=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&v}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nt(d))}saveEventToCache(d){this.cachedEventUids.add(nt(d)),this.lastProcessedEventTime=Date.now()}}function nt(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(d=>d).join("-")}function ei({type:g,error:d}){return"unknown"===g&&"auth/no-auth-event"===(null==d?void 0:d.code)}function wd(g){return bt.apply(this,arguments)}function bt(){return(bt=(0,A.Z)(function*(g,d={}){return Ot(g,"GET","/v1/projects",d)})).apply(this,arguments)}const jt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_g=/^https?/;function Ae(){return(Ae=(0,A.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:d}=yield wd(g);for(const h of d)try{if(Ke(h))return}catch(v){}en(g,"unauthorized-domain")})).apply(this,arguments)}function Ke(g){const d=ve(),{protocol:h,hostname:v}=new URL(d);if(g.startsWith("chrome-extension://")){const ne=new URL(g);return""===ne.hostname&&""===v?"chrome-extension:"===h&&g.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&ne.hostname===v}if(!_g.test(h))return!1;if(jt.test(g))return v===g;const M=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(v)}const Rr=new rt(3e4,6e4);function _h(){const g=E().___jsl;if(null==g?void 0:g.H)for(const d of Object.keys(g.H))if(g.H[d].r=g.H[d].r||[],g.H[d].L=g.H[d].L||[],g.H[d].r=[...g.H[d].L],g.CP)for(let h=0;h<g.CP.length;h++)g.CP[h]=null}let vh=null;function Id(g){return vh=vh||function(g){return new Promise((d,h)=>{var v,M,F;function ne(){_h(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{_h(),h(Pt(g,"network-request-failed"))},timeout:Rr.get()})}if(null===(M=null===(v=E().gapi)||void 0===v?void 0:v.iframes)||void 0===M?void 0:M.Iframe)d(gapi.iframes.getContext());else{if(!(null===(F=E().gapi)||void 0===F?void 0:F.load)){const Ie=Ml("iframefcb");return E()[Ie]=()=>{gapi.load?ne():h(Pt(g,"network-request-failed"))},Fc(`https://apis.google.com/js/api.js?onload=${Ie}`)}ne()}}).catch(d=>{throw vh=null,d})}(g),vh}const Eh=new rt(5e3,15e3),Nf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function no(g){const d=g.config;Fe(d.authDomain,g,"auth-domain-config-required");const h=d.emulator?Je(d,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,v={apiKey:d.apiKey,appName:g.name,v:me.SDK_VERSION},M=Bc.get(g.config.apiHost);M&&(v.eid=M);const F=g._getFrameworks();return F.length&&(v.fw=F.join(",")),`${h}?${(0,W.xO)(v).slice(1)}`}function bd(){return(bd=(0,A.Z)(function*(g){const d=yield Id(g),h=E().gapi;return Fe(h,g,"internal-error"),d.open({where:document.body,url:no(g),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nf,dontclear:!0},v=>new Promise(function(){var M=(0,A.Z)(function*(F,ne){yield v.restyle({setHideOnLeave:!1});const Ie=Pt(g,"network-request-failed"),Xe=E().setTimeout(()=>{ne(Ie)},Eh.get());function qe(){E().clearTimeout(Xe),F(v)}v.ping(qe).then(qe,()=>{ne(Ie)})});return function(F,ne){return M.apply(this,arguments)}}()))})).apply(this,arguments)}const _n={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ih{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Cd(g,d,h,v,M,F){Fe(g.config.authDomain,g,"auth-domain-config-required"),Fe(g.config.apiKey,g,"invalid-api-key");const ne={apiKey:g.config.apiKey,appName:g.name,authType:h,redirectUrl:v,v:me.SDK_VERSION,eventId:M};if(d instanceof B){d.setDefaultLanguage(g.languageCode),ne.providerId=d.providerId||"",(0,W.xb)(d.getCustomParameters())||(ne.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Xe,qe]of Object.entries(F||{}))ne[Xe]=qe}if(d instanceof te){const Xe=d.getScopes().filter(qe=>""!==qe);Xe.length>0&&(ne.scopes=Xe.join(","))}g.tenantId&&(ne.tid=g.tenantId);const Ie=ne;for(const Xe of Object.keys(Ie))void 0===Ie[Xe]&&delete Ie[Xe];return`${function({config:g}){return g.emulator?Je(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,W.xO)(Ie).slice(1)}`}const Su="webStorageSupport";class ga extends class{constructor(d){this.factorId=d}_process(d,h,v){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,v);case"signin":return this._finalizeSignIn(d,h.credential);default:return br("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new ga(d)}_finalizeEnroll(d,h,v){return function(g,d){return Ot(g,"POST","/v2/accounts/mfaEnrollment:finalize",on(g,d))}(d,{idToken:h,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function(g,d){return Ot(g,"POST","/v2/accounts/mfaSignIn:finalize",on(g,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wr=(()=>{class g{constructor(){}static assertion(h){return ga._fromCredential(h)}}return g.FACTOR_ID="phone",g})();var g,Ru="@firebase/auth";class Hc{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,A.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(v=>{var M;d((null===(M=v)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);!h||(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uc(){return window}function Ms(){return(Ms=(0,A.Z)(function*(g,d,h){var v;const{BuildInfo:M}=uc();$n(d.sessionId,"AuthEvent did not contain a session ID");const F=yield bh(d.sessionId),ne={};return Ur()?ne.ibi=M.packageName:Cr()?ne.apn=M.packageName:en(g,"operation-not-supported-in-this-environment"),M.displayName&&(ne.appDisplayName=M.displayName),ne.sessionId=F,Cd(g,h,d.type,void 0,null!==(v=d.eventId)&&void 0!==v?v:void 0,ne)})).apply(this,arguments)}function ma(){return(ma=(0,A.Z)(function*(g){const{BuildInfo:d}=uc(),h={};Ur()?h.iosBundleId=d.packageName:Cr()?h.androidPackageName=d.packageName:en(g,"operation-not-supported-in-this-environment"),yield wd(g,h)})).apply(this,arguments)}function zc(){return(zc=(0,A.Z)(function*(g,d,h){const{cordova:v}=uc();let M=()=>{};try{yield new Promise((F,ne)=>{let Ie=null;function Xe(){var vt;F();const gn=null===(vt=v.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof gn&&gn(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function qe(){Ie||(Ie=window.setTimeout(()=>{ne(Pt(g,"redirect-cancelled-by-user"))},2e3))}function ht(){"visible"===(null==document?void 0:document.visibilityState)&&qe()}d.addPassiveListener(Xe),document.addEventListener("resume",qe,!1),Cr()&&document.addEventListener("visibilitychange",ht,!1),M=()=>{d.removePassiveListener(Xe),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",ht,!1),Ie&&window.clearTimeout(Ie)}})}finally{M()}})).apply(this,arguments)}function bh(g){return jl.apply(this,arguments)}function jl(){return(jl=(0,A.Z)(function*(g){const d=Of(g),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Of(g){if($n(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const d=new ArrayBuffer(g.length),h=new Uint8Array(d);for(let v=0;v<g.length;v++)h[v]=g.charCodeAt(v);return h}g="Browser",(0,me._registerComponent)(new ft.wA("auth",(d,{options:h})=>{const v=d.getProvider("app").getImmediate(),{apiKey:M,authDomain:F}=v.options;return(ne=>{Fe(M&&!M.includes(":"),"invalid-api-key",{appName:ne.name}),Fe(!(null==F?void 0:F.includes(":")),"argument-error",{appName:ne.name});const Ie={apiKey:M,authDomain:F,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lo(g)},Xe=new Gi(ne,Ie);return function(g,d){const h=(null==d?void 0:d.persistence)||[],v=(Array.isArray(h)?h:[h]).map(zt);(null==d?void 0:d.errorMap)&&g._updateErrorMap(d.errorMap),g._initializeWithPersistence(v,null==d?void 0:d.popupRedirectResolver)}(Xe,h),Xe})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,v)=>{d.getProvider("auth-internal").initialize()})),(0,me._registerComponent)(new ft.wA("auth-internal",d=>{const h=an(d.getProvider("auth").getImmediate());return new Hc(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)(Ru,"0.19.3",void 0),(0,me.registerVersion)(Ru,"0.19.3","esm2017");class lc extends Uc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,A.Z)(function*(){yield d.initPromise})()}}function Dh(g){return $t.apply(this,arguments)}function $t(){return($t=(0,A.Z)(function*(g){const d=yield Ha()._get(Ad(g));return d&&(yield Ha()._remove(Ad(g))),d})).apply(this,arguments)}function kf(){const g=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const v=Math.floor(Math.random()*d.length);g.push(d.charAt(v))}return g.join("")}function Ha(){return zt(us)}function Ad(g){return yr("authEvent",g.config.apiKey,g.name)}function Ci(g){if(!(null==g?void 0:g.includes("?")))return{};const[d,...h]=g.split("?");return(0,W.zd)(h.join("?"))}function Tg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pt("no-auth-event")}}function Bl(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function Wa(g=(0,W.z$)()){return!("file:"!==Bl()&&"ionic:"!==Bl()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function ya(){try{const g=self.localStorage,d=Fi();if(g)return g.setItem(d,"1"),g.removeItem(d),!function(g=(0,W.z$)()){return(0,W.w1)()&&11===(null==document?void 0:document.documentMode)||function(g=(0,W.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,W.hl)()}catch(g){return $l()&&(0,W.hl)()}return!1}function $l(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mu(){return("http:"===Bl()||"https:"===Bl()||(0,W.ru)()||Wa())&&!((0,W.b$)()||(0,W.UG)())&&ya()&&!$l()}function Zc(){return Wa()&&"undefined"!=typeof document}function Hl(){return(Hl=(0,A.Z)(function*(){return!!Zc()&&new Promise(g=>{const d=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),g(!0)})})})).apply(this,arguments)}const ls={LOCAL:"local",NONE:"none",SESSION:"session"},Pu=Fe,Ga="persistence";function Nd(g){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,A.Z)(function*(g){yield g._initializationPromise;const d=dc(),h=yr(Ga,g.config.apiKey,g.name);(null==d?void 0:d.sessionStorage)&&d.sessionStorage.setItem(h,g._getPersistence())})).apply(this,arguments)}function dc(){return"undefined"!=typeof window?window:null}const Wl=Fe;class za{constructor(){this.browserResolver=zt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qr,this._completeRedirectFn=Tu}_openPopup(d,h,v,M){var F=this;return(0,A.Z)(function*(){var ne;$n(null===(ne=F.eventManagers[d._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const Ie=Cd(d,h,v,ve(),M);return function(g,d,h,v=500,M=600){const F=Math.max((window.screen.availHeight-M)/2,0).toString(),ne=Math.max((window.screen.availWidth-v)/2,0).toString();let Ie="";const Xe=Object.assign(Object.assign({},_n),{width:v.toString(),height:M.toString(),top:F,left:ne}),qe=(0,W.z$)().toLowerCase();h&&(Ie=Mo(qe)?"_blank":h),$s(qe)&&(d=d||"http://localhost",Xe.scrollbars="yes");const ht=Object.entries(Xe).reduce((gn,[Hr,Os])=>`${gn}${Hr}=${Os},`,"");if(function(g=(0,W.z$)()){var d;return Ur(g)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(qe)&&"_self"!==Ie)return function(g,d){const h=document.createElement("a");h.href=g,h.target=d;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(v)}(d||"",Ie),new Ih(null);const vt=window.open(d||"",Ie,ht);Fe(vt,g,"popup-blocked");try{vt.focus()}catch(gn){}return new Ih(vt)}(d,Ie,Fi())})()}_openRedirect(d,h,v,M){var F=this;return(0,A.Z)(function*(){return yield F._originValidation(d),g=Cd(d,h,v,ve(),M),E().location.href=g,new Promise(()=>{});var g})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:M,promise:F}=this.eventManagers[h];return M?Promise.resolve(M):($n(F,"If manager is not set, promise should be"),F)}const v=this.initAndGetManager(d);return this.eventManagers[h]={promise:v},v}initAndGetManager(d){var h=this;return(0,A.Z)(function*(){const v=yield function(g){return bd.apply(this,arguments)}(d),M=new Uc(d);return v.register("authEvent",F=>(Fe(null==F?void 0:F.authEvent,d,"invalid-auth-event"),{status:M.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:M},h.iframes[d._key()]=v,M})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(Su,{type:Su},M=>{var F;const ne=null===(F=null==M?void 0:M[0])||void 0===F?void 0:F[Su];void 0!==ne&&h(!!ne),en(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(g){return Ae.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return ws()||Ft()||Ur()}}),this.cordovaResolver=zt(class{constructor(){this._redirectPersistence=Qr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tu}_initialize(d){var h=this;return(0,A.Z)(function*(){const v=d._key();let M=h.eventManagers.get(v);return M||(M=new lc(d),h.eventManagers.set(v,M),h.attachCallbackListeners(d,M)),M})()}_openPopup(d){en(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,v,M){var F=this;return(0,A.Z)(function*(){!function(g){var d,h,v,M,F,ne,Ie,Xe,qe,ht;const vt=uc();Fe("function"==typeof(null===(d=null==vt?void 0:vt.universalLinks)||void 0===d?void 0:d.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Fe(void 0!==(null===(h=null==vt?void 0:vt.BuildInfo)||void 0===h?void 0:h.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Fe("function"==typeof(null===(F=null===(M=null===(v=null==vt?void 0:vt.cordova)||void 0===v?void 0:v.plugins)||void 0===M?void 0:M.browsertab)||void 0===F?void 0:F.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fe("function"==typeof(null===(Xe=null===(Ie=null===(ne=null==vt?void 0:vt.cordova)||void 0===ne?void 0:ne.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===Xe?void 0:Xe.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fe("function"==typeof(null===(ht=null===(qe=null==vt?void 0:vt.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===ht?void 0:ht.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const ne=yield F._initialize(d);yield ne.initialized(),ne.resetRedirect(),nc.clear(),yield F._originValidation(d);const Ie=function(g,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:kf(),postBody:null,tenantId:g.tenantId,error:Pt(g,"no-auth-event")}}(d,v,M);yield function(g,d){return Ha()._set(Ad(g),d)}(d,Ie);const Xe=yield function(g,d,h){return Ms.apply(this,arguments)}(d,Ie,h),qe=yield function(g){const{cordova:d}=uc();return new Promise(h=>{d.plugins.browsertab.isAvailable(v=>{let M=null;v?d.plugins.browsertab.openUrl(g):M=d.InAppBrowser.open(g,function(g=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),h(M)})})}(Xe);return function(g,d,h){return zc.apply(this,arguments)}(d,ne,qe)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(g){return ma.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:v,handleOpenURL:M,BuildInfo:F}=uc(),ne=setTimeout((0,A.Z)(function*(){yield Dh(d),h.onEvent(Tg())}),500),Ie=function(){var ht=(0,A.Z)(function*(vt){clearTimeout(ne);const gn=yield Dh(d);let Hr=null;gn&&(null==vt?void 0:vt.url)&&(Hr=function(g,d){var h,v;const M=function(g){const d=Ci(g),h=d.link?decodeURIComponent(d.link):void 0,v=Ci(h).link,M=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Ci(M).link||M||v||h||g}(d);if(M.includes("/__/auth/callback")){const F=Ci(M),ne=F.firebaseError?function(g){try{return JSON.parse(g)}catch(d){return null}}(decodeURIComponent(F.firebaseError)):null,Ie=null===(v=null===(h=null==ne?void 0:ne.code)||void 0===h?void 0:h.split("auth/"))||void 0===v?void 0:v[1],Xe=Ie?Pt(Ie):null;return Xe?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Xe,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:M,postBody:null}}return null}(gn,vt.url)),h.onEvent(Hr||Tg())});return function(gn){return ht.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,Ie);const Xe=M,qe=`${F.packageName.toLowerCase()}://`;uc().handleOpenURL=function(){var ht=(0,A.Z)(function*(vt){if(vt.toLowerCase().startsWith(qe)&&Ie({url:vt}),"function"==typeof Xe)try{Xe(vt)}catch(gn){console.error(gn)}});return function(vt){return ht.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Qr,this._completeRedirectFn=Tu}_initialize(d){var h=this;return(0,A.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,v,M){var F=this;return(0,A.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(d,h,v,M)})()}_openRedirect(d,h,v,M){var F=this;return(0,A.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(d,h,v,M)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Zc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,A.Z)(function*(){if(d.underlyingResolver)return;const h=yield function(){return Hl.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function hc(g){return g.unwrap()}function Uf(g){return Gl(g)}function Gl(g){const{_tokenResponse:d}=g instanceof W.ZR?g.customData:g;if(!d)return null;if(!(g instanceof W.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Ce.credentialFromResult(g);const h=d.providerId;if(!h||"password"===h)return null;let v;switch(h){case"google.com":v=mt;break;case"facebook.com":v=Ge;break;case"github.com":v=Wt;break;case"twitter.com":v=qt;break;default:const{oauthIdToken:M,oauthAccessToken:F,oauthTokenSecret:ne,pendingToken:Ie,nonce:Xe}=d;return F||ne||M||Ie?Ie?h.startsWith("saml.")?hn._create(h,Ie):Wn._fromParams({providerId:h,signInMethod:h,pendingToken:Ie,idToken:M,accessToken:F}):new we(h).credential({idToken:M,accessToken:F,rawNonce:Xe}):null}return g instanceof W.ZR?v.credentialFromError(g):v.credentialFromResult(g)}function Ps(g,d){return d.catch(h=>{throw h instanceof W.ZR&&function(g,d){var h;const v=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new fc(g,function(g,d){var h;const v=(0,W.m9)(g),M=d;return Fe(d.customData.operationType,v,"argument-error"),Fe(null===(h=M.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,v,"argument-error"),ca._fromError(v,M)}(g,d));else if(v){const M=Gl(d),F=d;M&&(F.credential=M,F.tenantId=v.tenantId||void 0,F.email=v.email||void 0,F.phoneNumber=v.phoneNumber||void 0)}}(g,h),h}).then(h=>{const M=h.user;return{operationType:h.operationType,credential:Uf(h),additionalUserInfo:kn(h),user:hs.getOrCreate(M)}})}function Qc(g,d){return ds.apply(this,arguments)}function ds(){return(ds=(0,A.Z)(function*(g,d){const h=yield d;return{verificationId:h.verificationId,confirm:v=>Ps(g,h.confirm(v))}})).apply(this,arguments)}class fc{constructor(d,h){this.resolver=h,this.auth=function(g){return g.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Ps(hc(this.auth),this.resolver.resolveSignIn(d))}}class hs{constructor(d){this._delegate=d,this.multiFactor=function(g){const d=(0,W.m9)(g);return Qs.has(d)||Qs.set(d,Ys._fromUser(d)),Qs.get(d)}(d)}static getOrCreate(d){return hs.USER_MAP.has(d)||hs.USER_MAP.set(d,new hs(d)),hs.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,A.Z)(function*(){return Ps(h.auth,Gn(h._delegate,d))})()}linkWithPhoneNumber(d,h){var v=this;return(0,A.Z)(function*(){return Qc(v.auth,function(g,d,h){return kl.apply(this,arguments)}(v._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,A.Z)(function*(){return Ps(h.auth,function(g,d,h){return tc.apply(this,arguments)}(h._delegate,d,za))})()}linkWithRedirect(d){var h=this;return(0,A.Z)(function*(){return yield Nd(an(h.auth)),function(g,d,h){return function(g,d,h){return yh.apply(this,arguments)}(g,d,h)}(h._delegate,d,za)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,A.Z)(function*(){return Ps(h.auth,Pi(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return Qc(this.auth,function(g,d,h){return C.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return Ps(this.auth,function(g,d,h){return to.apply(this,arguments)}(this._delegate,d,za))}reauthenticateWithRedirect(d){var h=this;return(0,A.Z)(function*(){return yield Nd(an(h.auth)),function(g,d,h){return function(g,d,h){return Wo.apply(this,arguments)}(g,d,h)}(h._delegate,d,za)})()}sendEmailVerification(d){return function(g,d){return ki.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,A.Z)(function*(){return yield function(g,d){return xt.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function(g,d){return aa((0,W.m9)(g),d,null)}(this._delegate,d)}updatePassword(d){return function(g,d){return aa((0,W.m9)(g),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(g,d){return ge.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(g,d){return rr.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function(g,d,h){return ka.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}hs.USER_MAP=new WeakMap;const Jc=Fe;let Ka=(()=>{class g{constructor(h,v){if(this.app=h,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=h.options;Jc(M,"invalid-api-key",{appName:h.name});let F=[An];if("undefined"!=typeof window){F=function(g,d){const h=dc();if(!(null==h?void 0:h.sessionStorage))return[];const v=yr(Ga,g,d);switch(h.sessionStorage.getItem(v)){case ls.NONE:return[An];case ls.LOCAL:return[jn,Qr];case ls.SESSION:return[Qr];default:return[]}}(M,h.name);for(const Ie of[jn,us,Qr])F.includes(Ie)||F.push(Ie)}Jc(M,"invalid-api-key",{appName:h.name});const ne="undefined"!=typeof window?za:void 0;this._delegate=v.initialize({options:{persistence:F,popupRedirectResolver:ne}}),this._delegate._updateErrorMap(Xi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?hs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,v){!function(g,d,h){const v=an(g);Fe(v._canInitEmulator,v,"emulator-config-failed"),Fe(/^https?:\/\//.test(d),v,"invalid-emulator-scheme");const M=!!(null==h?void 0:h.disableWarnings),F=Tr(d),{host:ne,port:Ie}=function(g){const d=Tr(g),h=/(\/\/)?([^?#/]+)/.exec(g.substr(d.length));if(!h)return{host:"",port:null};const v=h[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(v);if(M){const F=M[1];return{host:F,port:ii(v.substr(F.length+1))}}{const[F,ne]=v.split(":");return{host:F,port:ii(ne)}}}(d);v.config.emulator={url:`${F}//${ne}${null===Ie?"":`:${Ie}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:ne,port:Ie,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function(){function g(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,h,v)}applyActionCode(h){return function(g,d){return uu.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return cu(this._delegate,h)}confirmPasswordReset(h,v){return function(g,d,h){return Ki.apply(this,arguments)}(this._delegate,h,v)}createUserWithEmailAndPassword(h,v){var M=this;return(0,A.Z)(function*(){return Ps(M._delegate,function(g,d,h){return hu.apply(this,arguments)}(M._delegate,h,v))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function(g,d){return jo.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function(g,d){const h=S.parseLink(d);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,A.Z)(function*(){Jc(Mu(),h._delegate,"operation-not-supported-in-this-environment");const v=yield function(g,d){return Vl.apply(this,arguments)}(h._delegate,za);return v?Ps(h._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function(g,d){an(g)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,v,M){const{next:F,error:ne,complete:Ie}=Bf(h,v,M);return this._delegate.onAuthStateChanged(F,ne,Ie)}onIdTokenChanged(h,v,M){const{next:F,error:ne,complete:Ie}=Bf(h,v,M);return this._delegate.onIdTokenChanged(F,ne,Ie)}sendSignInLinkToEmail(h,v){return function(g,d,h){return is.apply(this,arguments)}(this._delegate,h,v)}sendPasswordResetEmail(h,v){return function(g,d,h){return Pa.apply(this,arguments)}(this._delegate,h,v||void 0)}setPersistence(h){var v=this;return(0,A.Z)(function*(){let M;switch(function(g,d){Pu(Object.values(ls).includes(d),g,"invalid-persistence-type"),(0,W.b$)()?Pu(d!==ls.SESSION,g,"unsupported-persistence-type"):(0,W.UG)()?Pu(d===ls.NONE,g,"unsupported-persistence-type"):$l()?Pu(d===ls.NONE||d===ls.LOCAL&&(0,W.hl)(),g,"unsupported-persistence-type"):Pu(d===ls.NONE||ya(),g,"unsupported-persistence-type")}(v._delegate,h),h){case ls.SESSION:M=Qr;break;case ls.LOCAL:M=(yield zt(jn)._isAvailable())?jn:us;break;case ls.NONE:M=An;break;default:return en("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Ps(this._delegate,function(g){return Ds.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Ps(this._delegate,un(this._delegate,h))}signInWithCustomToken(h){return Ps(this._delegate,function(g,d){return Vo.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,v){return Ps(this._delegate,function(g,d,h){return un((0,W.m9)(g),R.credential(d,h))}(this._delegate,h,v))}signInWithEmailLink(h,v){return Ps(this._delegate,function(g,d,h){return Io.apply(this,arguments)}(this._delegate,h,v))}signInWithPhoneNumber(h,v){return Qc(this._delegate,function(g,d,h){return ec.apply(this,arguments)}(this._delegate,h,v))}signInWithPopup(h){var v=this;return(0,A.Z)(function*(){return Jc(Mu(),v._delegate,"operation-not-supported-in-this-environment"),Ps(v._delegate,function(g,d,h){return da.apply(this,arguments)}(v._delegate,h,za))})()}signInWithRedirect(h){var v=this;return(0,A.Z)(function*(){return Jc(Mu(),v._delegate,"operation-not-supported-in-this-environment"),yield Nd(v._delegate),function(g,d,h){return function(g,d,h){return vd.apply(this,arguments)}(g,d,h)}(v._delegate,h,za)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function(g,d){return wo.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=ls,g})();function Bf(g,d,h){let v=g;"function"!=typeof g&&({next:v,error:d,complete:h}=g);const M=v;return{next:ne=>M(ne&&hs.getOrCreate(ne)),error:d,complete:h}}class qa{constructor(){this.providerId="phone",this._delegate=new Ce(hc(x.Z.auth()))}static credential(d,h){return Ce.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}qa.PHONE_SIGN_IN_METHOD=Ce.PHONE_SIGN_IN_METHOD,qa.PROVIDER_ID=Ce.PROVIDER_ID;const $f=Fe;class Hf{constructor(d,h,v=x.Z.app()){var M;$f(null===(M=v.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Ba(d,h,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(g){g.INTERNAL.registerComponent(new ft.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),v=d.getProvider("auth");return new Ka(h,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:R,FacebookAuthProvider:Ge,GithubAuthProvider:Wt,GoogleAuthProvider:mt,OAuthProvider:we,SAMLAuthProvider:bn,PhoneAuthProvider:qa,PhoneMultiFactorGenerator:wr,RecaptchaVerifier:Hf,TwitterAuthProvider:qt,Auth:Ka,AuthCredential:Ni,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.3")}(x.Z)},6676:function(dt,Re){!function(U){"use strict";function A(he){return Array.prototype.slice.call(he)}function x(he){return new Promise(function(ke,Te){he.onsuccess=function(){ke(he.result)},he.onerror=function(){Te(he.error)}})}function W(he,ke,Te){var xe,$e=new Promise(function(He,et){x(xe=he[ke].apply(he,Te)).then(He,et)});return $e.request=xe,$e}function me(he,ke,Te){var xe=W(he,ke,Te);return xe.then(function($e){if($e)return new z($e,xe.request)})}function le(he,ke,Te){Te.forEach(function(xe){Object.defineProperty(he.prototype,xe,{get:function(){return this[ke][xe]},set:function($e){this[ke][xe]=$e}})})}function ae(he,ke,Te,xe){xe.forEach(function($e){$e in Te.prototype&&(he.prototype[$e]=function(){return W(this[ke],$e,arguments)})})}function _e(he,ke,Te,xe){xe.forEach(function($e){$e in Te.prototype&&(he.prototype[$e]=function(){return this[ke][$e].apply(this[ke],arguments)})})}function oe(he,ke,Te,xe){xe.forEach(function($e){$e in Te.prototype&&(he.prototype[$e]=function(){return me(this[ke],$e,arguments)})})}function ce(he){this._index=he}function z(he,ke){this._cursor=he,this._request=ke}function q(he){this._store=he}function fe(he){this._tx=he,this.complete=new Promise(function(ke,Te){he.oncomplete=function(){ke()},he.onerror=function(){Te(he.error)},he.onabort=function(){Te(he.error)}})}function pe(he,ke,Te){this._db=he,this.oldVersion=ke,this.transaction=new fe(Te)}function be(he){this._db=he}le(ce,"_index",["name","keyPath","multiEntry","unique"]),ae(ce,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),oe(ce,"_index",IDBIndex,["openCursor","openKeyCursor"]),le(z,"_cursor",["direction","key","primaryKey","value"]),ae(z,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(he){he in IDBCursor.prototype&&(z.prototype[he]=function(){var ke=this,Te=arguments;return Promise.resolve().then(function(){return ke._cursor[he].apply(ke._cursor,Te),x(ke._request).then(function(xe){if(xe)return new z(xe,ke._request)})})})}),q.prototype.createIndex=function(){return new ce(this._store.createIndex.apply(this._store,arguments))},q.prototype.index=function(){return new ce(this._store.index.apply(this._store,arguments))},le(q,"_store",["name","keyPath","indexNames","autoIncrement"]),ae(q,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),oe(q,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),_e(q,"_store",IDBObjectStore,["deleteIndex"]),fe.prototype.objectStore=function(){return new q(this._tx.objectStore.apply(this._tx,arguments))},le(fe,"_tx",["objectStoreNames","mode"]),_e(fe,"_tx",IDBTransaction,["abort"]),pe.prototype.createObjectStore=function(){return new q(this._db.createObjectStore.apply(this._db,arguments))},le(pe,"_db",["name","version","objectStoreNames"]),_e(pe,"_db",IDBDatabase,["deleteObjectStore","close"]),be.prototype.transaction=function(){return new fe(this._db.transaction.apply(this._db,arguments))},le(be,"_db",["name","version","objectStoreNames"]),_e(be,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(he){[q,ce].forEach(function(ke){he in ke.prototype&&(ke.prototype[he.replace("open","iterate")]=function(){var Te=A(arguments),xe=Te[Te.length-1],$e=this._store||this._index,He=$e[he].apply($e,Te.slice(0,-1));He.onsuccess=function(){xe(He.result)}})})}),[ce,q].forEach(function(he){he.prototype.getAll||(he.prototype.getAll=function(ke,Te){var xe=this,$e=[];return new Promise(function(He){xe.iterateCursor(ke,function(et){et?($e.push(et.value),void 0===Te||$e.length!=Te?et.continue():He($e)):He($e)})})})}),U.openDb=function(he,ke,Te){var xe=W(indexedDB,"open",[he,ke]),$e=xe.request;return $e&&($e.onupgradeneeded=function(He){Te&&Te(new pe($e.result,He.oldVersion,$e.transaction))}),xe.then(function(He){return new be(He)})},U.deleteDb=function(he){return W(indexedDB,"deleteDatabase",[he])},Object.defineProperty(U,"__esModule",{value:!0})}(Re)},7574:(dt,Re,U)=>{"use strict";U.d(Re,{y:()=>q});var A=U(7393),W=U(9181),me=U(6490),ae=U(6554),_e=U(4487);var z=U(2494);let q=(()=>{class pe{constructor(Ue){this._isScalar=!1,Ue&&(this._subscribe=Ue)}lift(Ue){const Me=new pe;return Me.source=this,Me.operator=Ue,Me}subscribe(Ue,Me,he){const{operator:ke}=this,Te=function(pe,be,Ue){if(pe){if(pe instanceof A.L)return pe;if(pe[W.b])return pe[W.b]()}return pe||be||Ue?new A.L(pe,be,Ue):new A.L(me.c)}(Ue,Me,he);if(Te.add(ke?ke.call(Te,this.source):this.source||z.v.useDeprecatedSynchronousErrorHandling&&!Te.syncErrorThrowable?this._subscribe(Te):this._trySubscribe(Te)),z.v.useDeprecatedSynchronousErrorHandling&&Te.syncErrorThrowable&&(Te.syncErrorThrowable=!1,Te.syncErrorThrown))throw Te.syncErrorValue;return Te}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Me){z.v.useDeprecatedSynchronousErrorHandling&&(Ue.syncErrorThrown=!0,Ue.syncErrorValue=Me),function(pe){for(;pe;){const{closed:be,destination:Ue,isStopped:Me}=pe;if(be||Me)return!1;pe=Ue&&Ue instanceof A.L?Ue:null}return!0}(Ue)?Ue.error(Me):console.warn(Me)}}forEach(Ue,Me){return new(Me=fe(Me))((he,ke)=>{let Te;Te=this.subscribe(xe=>{try{Ue(xe)}catch($e){ke($e),Te&&Te.unsubscribe()}},ke,he)})}_subscribe(Ue){const{source:Me}=this;return Me&&Me.subscribe(Ue)}[ae.L](){return this}pipe(...Ue){return 0===Ue.length?this:function(pe){return 0===pe.length?_e.y:1===pe.length?pe[0]:function(Ue){return pe.reduce((Me,he)=>he(Me),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=fe(Ue))((Me,he)=>{let ke;this.subscribe(Te=>ke=Te,Te=>he(Te),()=>Me(ke))})}}return pe.create=be=>new pe(be),pe})();function fe(pe){if(pe||(pe=z.v.Promise||Promise),!pe)throw new Error("no Promise impl found");return pe}},6490:(dt,Re,U)=>{"use strict";U.d(Re,{c:()=>W});var A=U(2494),x=U(4449);const W={closed:!0,next(me){},error(me){if(A.v.useDeprecatedSynchronousErrorHandling)throw me;(0,x.z)(me)},complete(){}}},9765:(dt,Re,U)=>{"use strict";U.d(Re,{Yc:()=>_e,xQ:()=>oe});var A=U(7574),x=U(7393),W=U(5319),me=U(7971),le=U(8858),ae=U(9181);class _e extends x.L{constructor(q){super(q),this.destination=q}}let oe=(()=>{class z extends A.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ae.b](){return new _e(this)}lift(fe){const pe=new ce(this,this);return pe.operator=fe,pe}next(fe){if(this.closed)throw new me.N;if(!this.isStopped){const{observers:pe}=this,be=pe.length,Ue=pe.slice();for(let Me=0;Me<be;Me++)Ue[Me].next(fe)}}error(fe){if(this.closed)throw new me.N;this.hasError=!0,this.thrownError=fe,this.isStopped=!0;const{observers:pe}=this,be=pe.length,Ue=pe.slice();for(let Me=0;Me<be;Me++)Ue[Me].error(fe);this.observers.length=0}complete(){if(this.closed)throw new me.N;this.isStopped=!0;const{observers:fe}=this,pe=fe.length,be=fe.slice();for(let Ue=0;Ue<pe;Ue++)be[Ue].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(fe){if(this.closed)throw new me.N;return super._trySubscribe(fe)}_subscribe(fe){if(this.closed)throw new me.N;return this.hasError?(fe.error(this.thrownError),W.w.EMPTY):this.isStopped?(fe.complete(),W.w.EMPTY):(this.observers.push(fe),new le.W(this,fe))}asObservable(){const fe=new A.y;return fe.source=this,fe}}return z.create=(q,fe)=>new ce(q,fe),z})();class ce extends oe{constructor(q,fe){super(),this.destination=q,this.source=fe}next(q){const{destination:fe}=this;fe&&fe.next&&fe.next(q)}error(q){const{destination:fe}=this;fe&&fe.error&&this.destination.error(q)}complete(){const{destination:q}=this;q&&q.complete&&this.destination.complete()}_subscribe(q){const{source:fe}=this;return fe?this.source.subscribe(q):W.w.EMPTY}}},8858:(dt,Re,U)=>{"use strict";U.d(Re,{W:()=>x});var A=U(5319);class x extends A.w{constructor(me,le){super(),this.subject=me,this.subscriber=le,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const me=this.subject,le=me.observers;if(this.subject=null,!le||0===le.length||me.isStopped||me.closed)return;const ae=le.indexOf(this.subscriber);-1!==ae&&le.splice(ae,1)}}},7393:(dt,Re,U)=>{"use strict";U.d(Re,{L:()=>_e});var A=U(9105),x=U(6490),W=U(5319),me=U(9181),le=U(2494),ae=U(4449);class _e extends W.w{constructor(z,q,fe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=x.c;break;case 1:if(!z){this.destination=x.c;break}if("object"==typeof z){z instanceof _e?(this.syncErrorThrowable=z.syncErrorThrowable,this.destination=z,z.add(this)):(this.syncErrorThrowable=!0,this.destination=new oe(this,z));break}default:this.syncErrorThrowable=!0,this.destination=new oe(this,z,q,fe)}}[me.b](){return this}static create(z,q,fe){const pe=new _e(z,q,fe);return pe.syncErrorThrowable=!1,pe}next(z){this.isStopped||this._next(z)}error(z){this.isStopped||(this.isStopped=!0,this._error(z))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(z){this.destination.next(z)}_error(z){this.destination.error(z),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:z}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=z,this}}class oe extends _e{constructor(z,q,fe,pe){super(),this._parentSubscriber=z;let be,Ue=this;(0,A.m)(q)?be=q:q&&(be=q.next,fe=q.error,pe=q.complete,q!==x.c&&(Ue=Object.create(q),(0,A.m)(Ue.unsubscribe)&&this.add(Ue.unsubscribe.bind(Ue)),Ue.unsubscribe=this.unsubscribe.bind(this))),this._context=Ue,this._next=be,this._error=fe,this._complete=pe}next(z){if(!this.isStopped&&this._next){const{_parentSubscriber:q}=this;le.v.useDeprecatedSynchronousErrorHandling&&q.syncErrorThrowable?this.__tryOrSetError(q,this._next,z)&&this.unsubscribe():this.__tryOrUnsub(this._next,z)}}error(z){if(!this.isStopped){const{_parentSubscriber:q}=this,{useDeprecatedSynchronousErrorHandling:fe}=le.v;if(this._error)fe&&q.syncErrorThrowable?(this.__tryOrSetError(q,this._error,z),this.unsubscribe()):(this.__tryOrUnsub(this._error,z),this.unsubscribe());else if(q.syncErrorThrowable)fe?(q.syncErrorValue=z,q.syncErrorThrown=!0):(0,ae.z)(z),this.unsubscribe();else{if(this.unsubscribe(),fe)throw z;(0,ae.z)(z)}}}complete(){if(!this.isStopped){const{_parentSubscriber:z}=this;if(this._complete){const q=()=>this._complete.call(this._context);le.v.useDeprecatedSynchronousErrorHandling&&z.syncErrorThrowable?(this.__tryOrSetError(z,q),this.unsubscribe()):(this.__tryOrUnsub(q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(z,q){try{z.call(this._context,q)}catch(fe){if(this.unsubscribe(),le.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,ae.z)(fe)}}__tryOrSetError(z,q,fe){if(!le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{q.call(this._context,fe)}catch(pe){return le.v.useDeprecatedSynchronousErrorHandling?(z.syncErrorValue=pe,z.syncErrorThrown=!0,!0):((0,ae.z)(pe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:z}=this;this._context=null,this._parentSubscriber=null,z.unsubscribe()}}},5319:(dt,Re,U)=>{"use strict";U.d(Re,{w:()=>ae});var A=U(9796),x=U(1555),W=U(9105);const le=(()=>{function oe(ce){return Error.call(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((z,q)=>`${q+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce,this}return oe.prototype=Object.create(Error.prototype),oe})();class ae{constructor(ce){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ce&&(this._ctorUnsubscribe=!0,this._unsubscribe=ce)}unsubscribe(){let ce;if(this.closed)return;let{_parentOrParents:z,_ctorUnsubscribe:q,_unsubscribe:fe,_subscriptions:pe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,z instanceof ae)z.remove(this);else if(null!==z)for(let be=0;be<z.length;++be)z[be].remove(this);if((0,W.m)(fe)){q&&(this._unsubscribe=void 0);try{fe.call(this)}catch(be){ce=be instanceof le?_e(be.errors):[be]}}if((0,A.k)(pe)){let be=-1,Ue=pe.length;for(;++be<Ue;){const Me=pe[be];if((0,x.K)(Me))try{Me.unsubscribe()}catch(he){ce=ce||[],he instanceof le?ce=ce.concat(_e(he.errors)):ce.push(he)}}}if(ce)throw new le(ce)}add(ce){let z=ce;if(!ce)return ae.EMPTY;switch(typeof ce){case"function":z=new ae(ce);case"object":if(z===this||z.closed||"function"!=typeof z.unsubscribe)return z;if(this.closed)return z.unsubscribe(),z;if(!(z instanceof ae)){const pe=z;z=new ae,z._subscriptions=[pe]}break;default:throw new Error("unrecognized teardown "+ce+" added to Subscription.")}let{_parentOrParents:q}=z;if(null===q)z._parentOrParents=this;else if(q instanceof ae){if(q===this)return z;z._parentOrParents=[q,this]}else{if(-1!==q.indexOf(this))return z;q.push(this)}const fe=this._subscriptions;return null===fe?this._subscriptions=[z]:fe.push(z),z}remove(ce){const z=this._subscriptions;if(z){const q=z.indexOf(ce);-1!==q&&z.splice(q,1)}}}var oe;function _e(oe){return oe.reduce((ce,z)=>ce.concat(z instanceof le?z.errors:z),[])}ae.EMPTY=((oe=new ae).closed=!0,oe)},2494:(dt,Re,U)=>{"use strict";U.d(Re,{v:()=>x});let A=!1;const x={Promise:void 0,set useDeprecatedSynchronousErrorHandling(W){if(W){const me=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+me.stack)}else A&&console.log("RxJS: Back to a better error behavior. Thank you. <3");A=W},get useDeprecatedSynchronousErrorHandling(){return A}}},5345:(dt,Re,U)=>{"use strict";U.d(Re,{IY:()=>me,Ds:()=>ae,ft:()=>oe});var A=U(7393),x=U(7574),W=U(7444);class me extends A.L{constructor(z){super(),this.parent=z}_next(z){this.parent.notifyNext(z)}_error(z){this.parent.notifyError(z),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ae extends A.L{notifyNext(z){this.destination.next(z)}notifyError(z){this.destination.error(z)}notifyComplete(){this.destination.complete()}}function oe(ce,z){if(z.closed)return;if(ce instanceof x.y)return ce.subscribe(z);let q;try{q=(0,W.s)(ce)(z)}catch(fe){z.error(fe)}return q}},2441:(dt,Re,U)=>{"use strict";U.d(Re,{c:()=>le,N:()=>ae});var A=U(9765),x=U(7574),W=U(5319),me=U(1307);class le extends x.y{constructor(q,fe){super(),this.source=q,this.subjectFactory=fe,this._refCount=0,this._isComplete=!1}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let q=this._connection;return q||(this._isComplete=!1,q=this._connection=new W.w,q.add(this.source.subscribe(new _e(this.getSubject(),this))),q.closed&&(this._connection=null,q=W.w.EMPTY)),q}refCount(){return(0,me.x)()(this)}}const ae=(()=>{const z=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:z._subscribe},_isComplete:{value:z._isComplete,writable:!0},getSubject:{value:z.getSubject},connect:{value:z.connect},refCount:{value:z.refCount}}})();class _e extends A.Yc{constructor(q,fe){super(q),this.connectable=fe}_error(q){this._unsubscribe(),super._error(q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const q=this.connectable;if(q){this.connectable=null;const fe=q._connection;q._refCount=0,q._subject=null,q._connection=null,fe&&fe.unsubscribe()}}}},8071:(dt,Re,U)=>{"use strict";U.d(Re,{z:()=>me});var A=U(5917),x=U(3282);function me(...le){return(0,x.J)(1)((0,A.of)(...le))}},9193:(dt,Re,U)=>{"use strict";U.d(Re,{E:()=>x,c:()=>W});var A=U(7574);const x=new A.y(le=>le.complete());function W(le){return le?function(le){return new A.y(ae=>le.schedule(()=>ae.complete()))}(le):x}},4402:(dt,Re,U)=>{"use strict";U.d(Re,{D:()=>Ue});var A=U(7574),x=U(7444),W=U(5319),me=U(6554),_e=U(4087),oe=U(377),q=U(4072),fe=U(9489);function Ue(Me,he){return he?function(Me,he){if(null!=Me){if(function(Me){return Me&&"function"==typeof Me[me.L]}(Me))return function(Me,he){return new A.y(ke=>{const Te=new W.w;return Te.add(he.schedule(()=>{const xe=Me[me.L]();Te.add(xe.subscribe({next($e){Te.add(he.schedule(()=>ke.next($e)))},error($e){Te.add(he.schedule(()=>ke.error($e)))},complete(){Te.add(he.schedule(()=>ke.complete()))}}))})),Te})}(Me,he);if((0,q.t)(Me))return function(Me,he){return new A.y(ke=>{const Te=new W.w;return Te.add(he.schedule(()=>Me.then(xe=>{Te.add(he.schedule(()=>{ke.next(xe),Te.add(he.schedule(()=>ke.complete()))}))},xe=>{Te.add(he.schedule(()=>ke.error(xe)))}))),Te})}(Me,he);if((0,fe.z)(Me))return(0,_e.r)(Me,he);if(function(Me){return Me&&"function"==typeof Me[oe.hZ]}(Me)||"string"==typeof Me)return function(Me,he){if(!Me)throw new Error("Iterable cannot be null");return new A.y(ke=>{const Te=new W.w;let xe;return Te.add(()=>{xe&&"function"==typeof xe.return&&xe.return()}),Te.add(he.schedule(()=>{xe=Me[oe.hZ](),Te.add(he.schedule(function(){if(ke.closed)return;let $e,He;try{const et=xe.next();$e=et.value,He=et.done}catch(et){return void ke.error(et)}He?ke.complete():(ke.next($e),this.schedule())}))})),Te})}(Me,he)}throw new TypeError((null!==Me&&typeof Me||Me)+" is not observable")}(Me,he):Me instanceof A.y?Me:new A.y((0,x.s)(Me))}},6693:(dt,Re,U)=>{"use strict";U.d(Re,{n:()=>me});var A=U(7574),x=U(5015),W=U(4087);function me(le,ae){return ae?(0,W.r)(le,ae):new A.y((0,x.V)(le))}},6682:(dt,Re,U)=>{"use strict";U.d(Re,{T:()=>le});var A=U(7574),x=U(4869),W=U(3282),me=U(6693);function le(...ae){let _e=Number.POSITIVE_INFINITY,oe=null,ce=ae[ae.length-1];return(0,x.K)(ce)?(oe=ae.pop(),ae.length>1&&"number"==typeof ae[ae.length-1]&&(_e=ae.pop())):"number"==typeof ce&&(_e=ae.pop()),null===oe&&1===ae.length&&ae[0]instanceof A.y?ae[0]:(0,W.J)(_e)((0,me.n)(ae,oe))}},5917:(dt,Re,U)=>{"use strict";U.d(Re,{of:()=>me});var A=U(4869),x=U(6693),W=U(4087);function me(...le){let ae=le[le.length-1];return(0,A.K)(ae)?(le.pop(),(0,W.r)(le,ae)):(0,x.n)(le)}},4612:(dt,Re,U)=>{"use strict";U.d(Re,{b:()=>x});var A=U(9773);function x(W,me){return(0,A.zg)(W,me,1)}},5242:(dt,Re,U)=>{"use strict";U.d(Re,{d:()=>x});var A=U(7393);function x(le=null){return ae=>ae.lift(new W(le))}class W{constructor(ae){this.defaultValue=ae}call(ae,_e){return _e.subscribe(new me(ae,this.defaultValue))}}class me extends A.L{constructor(ae,_e){super(ae),this.defaultValue=_e,this.isEmpty=!0}_next(ae){this.isEmpty=!1,this.destination.next(ae)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(dt,Re,U)=>{"use strict";U.d(Re,{h:()=>x});var A=U(7393);function x(le,ae){return function(oe){return oe.lift(new W(le,ae))}}class W{constructor(ae,_e){this.predicate=ae,this.thisArg=_e}call(ae,_e){return _e.subscribe(new me(ae,this.predicate,this.thisArg))}}class me extends A.L{constructor(ae,_e,oe){super(ae),this.predicate=_e,this.thisArg=oe,this.count=0}_next(ae){let _e;try{_e=this.predicate.call(this.thisArg,ae,this.count++)}catch(oe){return void this.destination.error(oe)}_e&&this.destination.next(ae)}}},8049:(dt,Re,U)=>{"use strict";U.d(Re,{P:()=>_e});var A=U(3410),x=U(5435),W=U(5257),me=U(5242),le=U(4635),ae=U(4487);function _e(oe,ce){const z=arguments.length>=2;return q=>q.pipe(oe?(0,x.h)((fe,pe)=>oe(fe,pe,q)):ae.y,(0,W.q)(1),z?(0,me.d)(ce):(0,le.T)(()=>new A.K))}},8002:(dt,Re,U)=>{"use strict";U.d(Re,{U:()=>x});var A=U(7393);function x(le,ae){return function(oe){if("function"!=typeof le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return oe.lift(new W(le,ae))}}class W{constructor(ae,_e){this.project=ae,this.thisArg=_e}call(ae,_e){return _e.subscribe(new me(ae,this.project,this.thisArg))}}class me extends A.L{constructor(ae,_e,oe){super(ae),this.project=_e,this.count=0,this.thisArg=oe||this}_next(ae){let _e;try{_e=this.project.call(this.thisArg,ae,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(_e)}}},3282:(dt,Re,U)=>{"use strict";U.d(Re,{J:()=>W});var A=U(9773),x=U(4487);function W(me=Number.POSITIVE_INFINITY){return(0,A.zg)(x.y,me)}},9773:(dt,Re,U)=>{"use strict";U.d(Re,{zg:()=>me});var A=U(8002),x=U(4402),W=U(5345);function me(oe,ce,z=Number.POSITIVE_INFINITY){return"function"==typeof ce?q=>q.pipe(me((fe,pe)=>(0,x.D)(oe(fe,pe)).pipe((0,A.U)((be,Ue)=>ce(fe,be,pe,Ue))),z)):("number"==typeof ce&&(z=ce),q=>q.lift(new le(oe,z)))}class le{constructor(ce,z=Number.POSITIVE_INFINITY){this.project=ce,this.concurrent=z}call(ce,z){return z.subscribe(new ae(ce,this.project,this.concurrent))}}class ae extends W.Ds{constructor(ce,z,q=Number.POSITIVE_INFINITY){super(ce),this.project=z,this.concurrent=q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ce){this.active<this.concurrent?this._tryNext(ce):this.buffer.push(ce)}_tryNext(ce){let z;const q=this.index++;try{z=this.project(ce,q)}catch(fe){return void this.destination.error(fe)}this.active++,this._innerSub(z)}_innerSub(ce){const z=new W.IY(this),q=this.destination;q.add(z);const fe=(0,W.ft)(ce,z);fe!==z&&q.add(fe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ce){this.destination.next(ce)}notifyComplete(){const ce=this.buffer;this.active--,ce.length>0?this._next(ce.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(dt,Re,U)=>{"use strict";U.d(Re,{ht:()=>q,QV:()=>ce});var A=U(7393),x=U(9193),W=U(5917),me=U(7574);class oe{constructor(be,Ue,Me){this.kind=be,this.value=Ue,this.error=Me,this.hasValue="N"===be}observe(be){switch(this.kind){case"N":return be.next&&be.next(this.value);case"E":return be.error&&be.error(this.error);case"C":return be.complete&&be.complete()}}do(be,Ue,Me){switch(this.kind){case"N":return be&&be(this.value);case"E":return Ue&&Ue(this.error);case"C":return Me&&Me()}}accept(be,Ue,Me){return be&&"function"==typeof be.next?this.observe(be):this.do(be,Ue,Me)}toObservable(){switch(this.kind){case"N":return(0,W.of)(this.value);case"E":return pe=this.error,new me.y(Ue=>Ue.error(pe));case"C":return(0,x.c)()}var pe;throw new Error("unexpected notification kind value")}static createNext(be){return void 0!==be?new oe("N",be):oe.undefinedValueNotification}static createError(be){return new oe("E",void 0,be)}static createComplete(){return oe.completeNotification}}function ce(pe,be=0){return function(Me){return Me.lift(new z(pe,be))}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0);class z{constructor(be,Ue=0){this.scheduler=be,this.delay=Ue}call(be,Ue){return Ue.subscribe(new q(be,this.scheduler,this.delay))}}class q extends A.L{constructor(be,Ue,Me=0){super(be),this.scheduler=Ue,this.delay=Me}static dispatch(be){const{notification:Ue,destination:Me}=be;Ue.observe(Me),this.unsubscribe()}scheduleMessage(be){this.destination.add(this.scheduler.schedule(q.dispatch,this.delay,new fe(be,this.destination)))}_next(be){this.scheduleMessage(oe.createNext(be))}_error(be){this.scheduleMessage(oe.createError(be)),this.unsubscribe()}_complete(){this.scheduleMessage(oe.createComplete()),this.unsubscribe()}}class fe{constructor(be,Ue){this.notification=be,this.destination=Ue}}},1307:(dt,Re,U)=>{"use strict";U.d(Re,{x:()=>x});var A=U(7393);function x(){return function(ae){return ae.lift(new W(ae))}}class W{constructor(ae){this.connectable=ae}call(ae,_e){const{connectable:oe}=this;oe._refCount++;const ce=new me(ae,oe),z=_e.subscribe(ce);return ce.closed||(ce.connection=oe.connect()),z}}class me extends A.L{constructor(ae,_e){super(ae),this.connectable=_e}_unsubscribe(){const{connectable:ae}=this;if(!ae)return void(this.connection=null);this.connectable=null;const _e=ae._refCount;if(_e<=0)return void(this.connection=null);if(ae._refCount=_e-1,_e>1)return void(this.connection=null);const{connection:oe}=this,ce=ae._connection;this.connection=null,ce&&(!oe||ce===oe)&&ce.unsubscribe()}}},2145:(dt,Re,U)=>{"use strict";U.d(Re,{R:()=>x});var A=U(7393);function x(le,ae){let _e=!1;return arguments.length>=2&&(_e=!0),function(ce){return ce.lift(new W(le,ae,_e))}}class W{constructor(ae,_e,oe=!1){this.accumulator=ae,this.seed=_e,this.hasSeed=oe}call(ae,_e){return _e.subscribe(new me(ae,this.accumulator,this.seed,this.hasSeed))}}class me extends A.L{constructor(ae,_e,oe,ce){super(ae),this.accumulator=_e,this._seed=oe,this.hasSeed=ce,this.index=0}get seed(){return this._seed}set seed(ae){this.hasSeed=!0,this._seed=ae}_next(ae){if(this.hasSeed)return this._tryNext(ae);this.seed=ae,this.destination.next(ae)}_tryNext(ae){const _e=this.index++;let oe;try{oe=this.accumulator(this.seed,ae,_e)}catch(ce){this.destination.error(ce)}this.seed=oe,this.destination.next(oe)}}},9761:(dt,Re,U)=>{"use strict";U.d(Re,{O:()=>W});var A=U(8071),x=U(4869);function W(...me){const le=me[me.length-1];return(0,x.K)(le)?(me.pop(),ae=>(0,A.z)(me,ae,le)):ae=>(0,A.z)(me,ae)}},3101:(dt,Re,U)=>{"use strict";U.d(Re,{R:()=>he});var A=U(7574);let x=1;const W=Promise.resolve(),me={};function le(Te){return Te in me&&(delete me[Te],!0)}const ae={setImmediate(Te){const xe=x++;return me[xe]=!0,W.then(()=>le(xe)&&Te()),xe},clearImmediate(Te){le(Te)}};var oe=U(6465),z=U(6102);const pe=new class extends z.v{flush(xe){this.active=!0,this.scheduled=void 0;const{actions:$e}=this;let He,et=-1,Xt=$e.length;xe=xe||$e.shift();do{if(He=xe.execute(xe.state,xe.delay))break}while(++et<Xt&&(xe=$e.shift()));if(this.active=!1,He){for(;++et<Xt&&(xe=$e.shift());)xe.unsubscribe();throw He}}}(class extends oe.o{constructor(xe,$e){super(xe,$e),this.scheduler=xe,this.work=$e}requestAsyncId(xe,$e,He=0){return null!==He&&He>0?super.requestAsyncId(xe,$e,He):(xe.actions.push(this),xe.scheduled||(xe.scheduled=ae.setImmediate(xe.flush.bind(xe,null))))}recycleAsyncId(xe,$e,He=0){if(null!==He&&He>0||null===He&&this.delay>0)return super.recycleAsyncId(xe,$e,He);0===xe.actions.length&&(ae.clearImmediate($e),xe.scheduled=void 0)}});var be=U(9796);class Me extends A.y{constructor(xe,$e=0,He=pe){var Te;super(),this.source=xe,this.delayTime=$e,this.scheduler=He,(!(!(0,be.k)(Te=$e)&&Te-parseFloat(Te)+1>=0)||$e<0)&&(this.delayTime=0),(!He||"function"!=typeof He.schedule)&&(this.scheduler=pe)}static create(xe,$e=0,He=pe){return new Me(xe,$e,He)}static dispatch(xe){const{source:$e,subscriber:He}=xe;return this.add($e.subscribe(He))}_subscribe(xe){return this.scheduler.schedule(Me.dispatch,this.delayTime,{source:this.source,subscriber:xe})}}function he(Te,xe=0){return function(He){return He.lift(new ke(Te,xe))}}class ke{constructor(xe,$e){this.scheduler=xe,this.delay=$e}call(xe,$e){return new Me($e,this.delay,this.scheduler).subscribe(xe)}}},3190:(dt,Re,U)=>{"use strict";U.d(Re,{w:()=>me});var A=U(8002),x=U(4402),W=U(5345);function me(_e,oe){return"function"==typeof oe?ce=>ce.pipe(me((z,q)=>(0,x.D)(_e(z,q)).pipe((0,A.U)((fe,pe)=>oe(z,fe,q,pe))))):ce=>ce.lift(new le(_e))}class le{constructor(oe){this.project=oe}call(oe,ce){return ce.subscribe(new ae(oe,this.project))}}class ae extends W.Ds{constructor(oe,ce){super(oe),this.project=ce,this.index=0}_next(oe){let ce;const z=this.index++;try{ce=this.project(oe,z)}catch(q){return void this.destination.error(q)}this._innerSub(ce)}_innerSub(oe){const ce=this.innerSubscription;ce&&ce.unsubscribe();const z=new W.IY(this),q=this.destination;q.add(z),this.innerSubscription=(0,W.ft)(oe,z),this.innerSubscription!==z&&q.add(this.innerSubscription)}_complete(){const{innerSubscription:oe}=this;(!oe||oe.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(oe){this.destination.next(oe)}}},5257:(dt,Re,U)=>{"use strict";U.d(Re,{q:()=>me});var A=U(7393),x=U(7108),W=U(9193);function me(_e){return oe=>0===_e?(0,W.c)():oe.lift(new le(_e))}class le{constructor(oe){if(this.total=oe,this.total<0)throw new x.W}call(oe,ce){return ce.subscribe(new ae(oe,this.total))}}class ae extends A.L{constructor(oe,ce){super(oe),this.total=ce,this.count=0}_next(oe){const ce=this.total,z=++this.count;z<=ce&&(this.destination.next(oe),z===ce&&(this.destination.complete(),this.unsubscribe()))}}},3342:(dt,Re,U)=>{"use strict";U.d(Re,{b:()=>me});var A=U(7393);function x(){}var W=U(9105);function me(_e,oe,ce){return function(q){return q.lift(new le(_e,oe,ce))}}class le{constructor(oe,ce,z){this.nextOrObserver=oe,this.error=ce,this.complete=z}call(oe,ce){return ce.subscribe(new ae(oe,this.nextOrObserver,this.error,this.complete))}}class ae extends A.L{constructor(oe,ce,z,q){super(oe),this._tapNext=x,this._tapError=x,this._tapComplete=x,this._tapError=z||x,this._tapComplete=q||x,(0,W.m)(ce)?(this._context=this,this._tapNext=ce):ce&&(this._context=ce,this._tapNext=ce.next||x,this._tapError=ce.error||x,this._tapComplete=ce.complete||x)}_next(oe){try{this._tapNext.call(this._context,oe)}catch(ce){return void this.destination.error(ce)}this.destination.next(oe)}_error(oe){try{this._tapError.call(this._context,oe)}catch(ce){return void this.destination.error(ce)}this.destination.error(oe)}_complete(){try{this._tapComplete.call(this._context)}catch(oe){return void this.destination.error(oe)}return this.destination.complete()}}},4635:(dt,Re,U)=>{"use strict";U.d(Re,{T:()=>W});var A=U(3410),x=U(7393);function W(_e=ae){return oe=>oe.lift(new me(_e))}class me{constructor(oe){this.errorFactory=oe}call(oe,ce){return ce.subscribe(new le(oe,this.errorFactory))}}class le extends x.L{constructor(oe,ce){super(oe),this.errorFactory=ce,this.hasValue=!1}_next(oe){this.hasValue=!0,this.destination.next(oe)}_complete(){if(this.hasValue)return this.destination.complete();{let oe;try{oe=this.errorFactory()}catch(ce){oe=ce}this.destination.error(oe)}}}function ae(){return new A.K}},4087:(dt,Re,U)=>{"use strict";U.d(Re,{r:()=>W});var A=U(7574),x=U(5319);function W(me,le){return new A.y(ae=>{const _e=new x.w;let oe=0;return _e.add(le.schedule(function(){oe!==me.length?(ae.next(me[oe++]),ae.closed||_e.add(this.schedule())):ae.complete()})),_e})}},6465:(dt,Re,U)=>{"use strict";U.d(Re,{o:()=>W});var A=U(5319);class x extends A.w{constructor(le,ae){super()}schedule(le,ae=0){return this}}class W extends x{constructor(le,ae){super(le,ae),this.scheduler=le,this.work=ae,this.pending=!1}schedule(le,ae=0){if(this.closed)return this;this.state=le;const _e=this.id,oe=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(oe,_e,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(oe,this.id,ae),this}requestAsyncId(le,ae,_e=0){return setInterval(le.flush.bind(le,this),_e)}recycleAsyncId(le,ae,_e=0){if(null!==_e&&this.delay===_e&&!1===this.pending)return ae;clearInterval(ae)}execute(le,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(le,ae);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ae){let oe,_e=!1;try{this.work(le)}catch(ce){_e=!0,oe=!!ce&&ce||new Error(ce)}if(_e)return this.unsubscribe(),oe}_unsubscribe(){const le=this.id,ae=this.scheduler,_e=ae.actions,oe=_e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==oe&&_e.splice(oe,1),null!=le&&(this.id=this.recycleAsyncId(ae,le,null)),this.delay=null}}},6102:(dt,Re,U)=>{"use strict";U.d(Re,{v:()=>x});let A=(()=>{class W{constructor(le,ae=W.now){this.SchedulerAction=le,this.now=ae}schedule(le,ae=0,_e){return new this.SchedulerAction(this,le).schedule(_e,ae)}}return W.now=()=>Date.now(),W})();class x extends A{constructor(me,le=A.now){super(me,()=>x.delegate&&x.delegate!==this?x.delegate.now():le()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(me,le=0,ae){return x.delegate&&x.delegate!==this?x.delegate.schedule(me,le,ae):super.schedule(me,le,ae)}flush(me){const{actions:le}=this;if(this.active)return void le.push(me);let ae;this.active=!0;do{if(ae=me.execute(me.state,me.delay))break}while(me=le.shift());if(this.active=!1,ae){for(;me=le.shift();)me.unsubscribe();throw ae}}}},3637:(dt,Re,U)=>{"use strict";U.d(Re,{z:()=>W});var A=U(6465);const W=new(U(6102).v)(A.o)},7771:(dt,Re,U)=>{"use strict";U.d(Re,{c:()=>ae,N:()=>le});var A=U(6465),W=U(6102);const le=new class extends W.v{}(class extends A.o{constructor(oe,ce){super(oe,ce),this.scheduler=oe,this.work=ce}schedule(oe,ce=0){return ce>0?super.schedule(oe,ce):(this.delay=ce,this.state=oe,this.scheduler.flush(this),this)}execute(oe,ce){return ce>0||this.closed?super.execute(oe,ce):this._execute(oe,ce)}requestAsyncId(oe,ce,z=0){return null!==z&&z>0||null===z&&this.delay>0?super.requestAsyncId(oe,ce,z):oe.flush(this)}}),ae=le},377:(dt,Re,U)=>{"use strict";U.d(Re,{hZ:()=>x});const x="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(dt,Re,U)=>{"use strict";U.d(Re,{L:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(dt,Re,U)=>{"use strict";U.d(Re,{b:()=>A});const A="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(dt,Re,U)=>{"use strict";U.d(Re,{W:()=>x});const x=(()=>{function W(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return W.prototype=Object.create(Error.prototype),W})()},3410:(dt,Re,U)=>{"use strict";U.d(Re,{K:()=>x});const x=(()=>{function W(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return W.prototype=Object.create(Error.prototype),W})()},7971:(dt,Re,U)=>{"use strict";U.d(Re,{N:()=>x});const x=(()=>{function W(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return W.prototype=Object.create(Error.prototype),W})()},4449:(dt,Re,U)=>{"use strict";function A(x){setTimeout(()=>{throw x},0)}U.d(Re,{z:()=>A})},4487:(dt,Re,U)=>{"use strict";function A(x){return x}U.d(Re,{y:()=>A})},9796:(dt,Re,U)=>{"use strict";U.d(Re,{k:()=>A});const A=Array.isArray||(x=>x&&"number"==typeof x.length)},9489:(dt,Re,U)=>{"use strict";U.d(Re,{z:()=>A});const A=x=>x&&"number"==typeof x.length&&"function"!=typeof x},9105:(dt,Re,U)=>{"use strict";function A(x){return"function"==typeof x}U.d(Re,{m:()=>A})},1555:(dt,Re,U)=>{"use strict";function A(x){return null!==x&&"object"==typeof x}U.d(Re,{K:()=>A})},4072:(dt,Re,U)=>{"use strict";function A(x){return!!x&&"function"!=typeof x.subscribe&&"function"==typeof x.then}U.d(Re,{t:()=>A})},4869:(dt,Re,U)=>{"use strict";function A(x){return x&&"function"==typeof x.schedule}U.d(Re,{K:()=>A})},7444:(dt,Re,U)=>{"use strict";U.d(Re,{s:()=>q});var A=U(5015),x=U(4449),me=U(377),ae=U(6554),oe=U(9489),ce=U(4072),z=U(1555);const q=fe=>{if(fe&&"function"==typeof fe[ae.L])return(fe=>pe=>{const be=fe[ae.L]();if("function"!=typeof be.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return be.subscribe(pe)})(fe);if((0,oe.z)(fe))return(0,A.V)(fe);if((0,ce.t)(fe))return(fe=>pe=>(fe.then(be=>{pe.closed||(pe.next(be),pe.complete())},be=>pe.error(be)).then(null,x.z),pe))(fe);if(fe&&"function"==typeof fe[me.hZ])return(fe=>pe=>{const be=fe[me.hZ]();for(;;){let Ue;try{Ue=be.next()}catch(Me){return pe.error(Me),pe}if(Ue.done){pe.complete();break}if(pe.next(Ue.value),pe.closed)break}return"function"==typeof be.return&&pe.add(()=>{be.return&&be.return()}),pe})(fe);{const be=`You provided ${(0,z.K)(fe)?"an invalid object":`'${fe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(be)}}},5015:(dt,Re,U)=>{"use strict";U.d(Re,{V:()=>A});const A=x=>W=>{for(let me=0,le=x.length;me<le&&!W.closed;me++)W.next(x[me]);W.complete()}},1974:(dt,Re,U)=>{"use strict";var A=U(8583),x=U(3018);class W extends A.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends W{static makeCurrent(){(0,A.HT)(new me)}onAndCancel(e,r,o){return e.addEventListener(r,o,!1),()=>{e.removeEventListener(r,o,!1)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return(r=r||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return"window"===r?window:"document"===r?e:"body"===r?e.body:null}getBaseHref(e){const r=(le=le||document.querySelector("base"),le?le.getAttribute("href"):null);return null==r?null:function(i){_e=_e||document.createElement("a"),_e.setAttribute("href",i);const e=_e.pathname;return"/"===e.charAt(0)?e:`/${e}`}(r)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,A.Mx)(document.cookie,e)}}let _e,le=null;const ce=new x.OlP("TRANSITION_ID"),q=[{provide:x.ip1,useFactory:function(i,e,r){return()=>{r.get(x.CZH).donePromise.then(()=>{const o=(0,A.q)(),c=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let f=0;f<c.length;f++)o.remove(c[f])})}},deps:[ce,A.K0,x.zs3],multi:!0}];class fe{static init(){(0,x.VLi)(new fe)}addToWindow(e){x.dqk.getAngularTestability=(o,c=!0)=>{const f=e.findTestabilityInTree(o,c);if(null==f)throw new Error("Could not find testability for element.");return f},x.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),x.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),x.dqk.frameworkStabilizers||(x.dqk.frameworkStabilizers=[]),x.dqk.frameworkStabilizers.push(o=>{const c=x.dqk.getAllAngularTestabilities();let f=c.length,y=!1;const b=function(O){y=y||O,f--,0==f&&o(y)};c.forEach(function(O){O.whenStable(b)})})}findTestabilityInTree(e,r,o){if(null==r)return null;const c=e.getTestability(r);return null!=c?c:o?(0,A.q)().isShadowRoot(r)?this.findTestabilityInTree(e,r.host,!0):this.findTestabilityInTree(e,r.parentElement,!0):null}}let pe=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();const Dt=new x.OlP("EventManagerPlugins");let wt=(()=>{class i{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(c=>c.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,o,c){return this._findPluginFor(o).addEventListener(r,o,c)}addGlobalEventListener(r,o,c){return this._findPluginFor(o).addGlobalEventListener(r,o,c)}getZone(){return this._zone}_findPluginFor(r){const o=this._eventNameToPlugin.get(r);if(o)return o;const c=this._plugins;for(let f=0;f<c.length;f++){const y=c[f];if(y.supports(r))return this._eventNameToPlugin.set(r,y),y}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(Dt),x.LFG(x.R0b))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();class Ht{constructor(e){this._doc=e}addGlobalEventListener(e,r,o){const c=(0,A.q)().getGlobalEventTarget(this._doc,e);if(!c)throw new Error(`Unsupported event target ${c} for event ${r}`);return this.addEventListener(c,r,o)}}let ft=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const o=new Set;r.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})(),sr=(()=>{class i extends ft{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,o,c){r.forEach(f=>{const y=this._doc.createElement("style");y.textContent=f,c.push(o.appendChild(y))})}addHost(r){const o=[];this._addStylesToHost(this._stylesSet,r,o),this._hostNodes.set(r,o)}removeHost(r){const o=this._hostNodes.get(r);o&&o.forEach(pi),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(r,c,o)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(pi))}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(A.K0))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();function pi(i){(0,A.q)().remove(i)}const Ai={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Us=/%COMP%/g;function Et(i,e,r){for(let o=0;o<e.length;o++){let c=e[o];Array.isArray(c)?Et(i,c,r):(c=c.replace(Us,i),r.push(c))}return r}function Tn(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let en=(()=>{class i{constructor(r,o,c){this.eventManager=r,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new Pt(r)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;switch(o.encapsulation){case x.ifc.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new Fe(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(r),c}case 1:case x.ifc.ShadowDom:return new br(this.eventManager,this.sharedStylesHost,r,o);default:if(!this.rendererByCompId.has(o.id)){const c=Et(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(wt),x.LFG(sr),x.LFG(x.AFp))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();class Pt{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,r){return r?document.createElementNS(Ai[r]||r,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,r){e.appendChild(r)}insertBefore(e,r,o){e&&e.insertBefore(r,o)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return r||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,o,c){if(c){r=c+":"+r;const f=Ai[c];f?e.setAttributeNS(f,r,o):e.setAttribute(r,o)}else e.setAttribute(r,o)}removeAttribute(e,r,o){if(o){const c=Ai[o];c?e.removeAttributeNS(c,r):e.removeAttribute(`${o}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,o,c){c&(x.JOm.DashCase|x.JOm.Important)?e.style.setProperty(r,o,c&x.JOm.Important?"important":""):e.style[r]=o}removeStyle(e,r,o){o&x.JOm.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,o){e[r]=o}setValue(e,r){e.nodeValue=r}listen(e,r,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,r,Tn(o)):this.eventManager.addEventListener(e,r,Tn(o))}}class Fe extends Pt{constructor(e,r,o,c){super(e),this.component=o;const f=Et(c+"-"+o.id,o.styles,[]);r.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(Us,c+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Us,i)}(c+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,r){const o=super.createElement(e,r);return super.setAttribute(o,this.contentAttr,""),o}}class br extends Pt{constructor(e,r,o,c){super(e),this.sharedStylesHost=r,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=Et(c.id,c.styles,[]);for(let y=0;y<f.length;y++){const b=document.createElement("style");b.textContent=f[y],this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,o){return super.insertBefore(this.nodeOrShadowRoot(e),r,o)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let $n=(()=>{class i extends Ht{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,c){return r.addEventListener(o,c,!1),()=>this.removeEventListener(r,o,c)}removeEventListener(r,o,c){return r.removeEventListener(o,c)}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(A.K0))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();const rt=["alt","control","meta","shift"],tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ot={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let X=(()=>{class i extends Ht{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,o,c){const f=i.parseEventName(o),y=i.eventCallback(f.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,A.q)().onAndCancel(r,f.domEventName,y))}static parseEventName(r){const o=r.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const f=i._normalizeKey(o.pop());let y="";if(rt.forEach(O=>{const H=o.indexOf(O);H>-1&&(o.splice(H,1),y+=O+".")}),y+=f,0!=o.length||0===f.length)return null;const b={};return b.domEventName=c,b.fullKey=y,b}static getEventFullKey(r){let o="",c=function(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&Rt.hasOwnProperty(e)&&(e=Rt[e]))}return tt[e]||e}(r);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),rt.forEach(f=>{f!=c&&ot[f](r)&&(o+=f+".")}),o+=c,o}static eventCallback(r,o,c){return f=>{i.getEventFullKey(f)===r&&c.runGuarded(()=>o(f))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(A.K0))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();const ur=(0,x.eFA)(x._c5,"browser",[{provide:x.Lbi,useValue:A.bD},{provide:x.g9A,useValue:function(){me.makeCurrent(),fe.init()},multi:!0},{provide:A.K0,useFactory:function(){return(0,x.RDi)(document),document},deps:[]}]),Ta=[[],{provide:x.zSh,useValue:"root"},{provide:x.qLn,useFactory:function(){return new x.qLn},deps:[]},{provide:Dt,useClass:$n,multi:!0,deps:[A.K0,x.R0b,x.Lbi]},{provide:Dt,useClass:X,multi:!0,deps:[A.K0]},[],{provide:en,useClass:en,deps:[wt,sr,x.AFp]},{provide:x.FYo,useExisting:en},{provide:ft,useExisting:sr},{provide:sr,useClass:sr,deps:[A.K0]},{provide:x.dDg,useClass:x.dDg,deps:[x.R0b]},{provide:wt,useClass:wt,deps:[Dt,x.R0b]},{provide:A.JF,useClass:pe,deps:[]},[]];let js=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:x.AFp,useValue:r.appId},{provide:ce,useExisting:x.AFp},q]}}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(i,12))},i.\u0275mod=x.oAB({type:i}),i.\u0275inj=x.cJS({providers:Ta,imports:[A.ez,x.hGG]}),i})();"undefined"!=typeof window&&window;var yr=U(1841),pn=U(4363);const $s=[{path:"",redirectTo:"create",pathMatch:"full"},{path:"create",loadChildren:()=>Promise.all([U.e(592),U.e(652)]).then(U.bind(U,7652)).then(i=>i.GenerateModule)},{path:"all-jokes",loadChildren:()=>Promise.all([U.e(592),U.e(861)]).then(U.bind(U,3861)).then(i=>i.AllJokesModule)},{path:"**",component:(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=x.Xpm({type:i,selectors:[["app-not-found"]],decls:6,vars:0,consts:[[1,"w-full","flex","flex-col","items-center","justify-center","content-offset","text-center"],[1,"mt-20","font-semibold","text-xl","text-center"],[1,"mt-6"],["src","assets/img/not-found.svg","alt","404",1,"max-w-xs","mt-6"]],template:function(r,o){1&r&&(x.TgZ(0,"div",0),x.TgZ(1,"h3",1),x._uU(2,"Page not found."),x.qZA(),x.TgZ(3,"p",2),x._uU(4,"Something went wrong. Please try one more time."),x.qZA(),x._UZ(5,"img",3),x.qZA())},encapsulation:2}),i})()}];let Ft=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=x.oAB({type:i}),i.\u0275inj=x.cJS({imports:[[pn.Bz.forRoot($s)],pn.Bz]}),i})(),Mo=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=x.Xpm({type:i,selectors:[["app-header"]],decls:9,vars:0,consts:[[1,"bg-brown-400"],[1,"flex","justify-between","py-4","content-offset"],[1,"flex","items-center"],["routerLink","/create",1,"text-2xl","mr-8"],["routerLink","/all-jokes",1,"text-2xl","mr-8"],["href","https://github.com/YuriiNad","target","_blank"],["src","assets/img/github.svg","alt","github-download",1,"min-w-[35px]","ml-3"]],template:function(r,o){1&r&&(x.TgZ(0,"header",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"a",3),x._uU(4,"Generate"),x.qZA(),x.TgZ(5,"a",4),x._uU(6,"Jokes"),x.qZA(),x.qZA(),x.TgZ(7,"a",5),x._UZ(8,"img",6),x.qZA(),x.qZA(),x.qZA())},directives:[pn.yS],encapsulation:2}),i})(),Es=(()=>{class i{constructor(){this.title="Announcement"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=x.Xpm({type:i,selectors:[["app-root"]],decls:3,vars:0,template:function(r,o){1&r&&(x.TgZ(0,"div"),x._UZ(1,"app-header"),x._UZ(2,"router-outlet"),x.qZA())},directives:[Mo,pn.lC],styles:[""]}),i})();var Cr=U(8939),ri=U(3637),Dr=U(7574),Ur=U(4402),Zr=U(5917),In=U(3435),vn=U(9761),ws=U(7393);function co(){return i=>i.lift(new lo)}class lo{call(e,r){return r.subscribe(new Gi(e))}}class Gi extends ws.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let r;this.hasPrev?r=[this.prev,e]:this.hasPrev=!0,this.prev=e,r&&this.destination.next(r)}}var an=U(8002),mi=U(2145);class Tr{constructor(e,r){this.compare=e,this.keySelector=r}call(e,r){return r.subscribe(new ho(e,this.compare,this.keySelector))}}class ho extends ws.L{constructor(e,r,o){super(e),this.keySelector=o,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(e,r){return e===r}_next(e){let r;try{const{keySelector:c}=this;r=c?c(e):e}catch(c){return this.destination.error(c)}let o=!1;if(this.hasKey)try{const{compare:c}=this;o=c(this.key,r)}catch(c){return this.destination.error(c)}else this.hasKey=!0;o||(this.key=r,this.destination.next(e))}}var lt,ii=U(5435),Ni=(U(941),U(3394)),Oe=U(8239),Yr=U(8026),Mr=U(3910),yi=U(5422),Yt=U(3854),fo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_r={},po=po||{},Mt=fo||self;function Sa(){}function Ws(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Is(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Po="closure_uid_"+(1e9*Math.random()>>>0),na=0;function iu(i,e,r){return i.call.apply(i.bind,arguments)}function ra(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),i.apply(e,c)}}return function(){return i.apply(e,arguments)}}function Pr(i,e,r){return(Pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iu:ra).apply(null,arguments)}function bs(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function vr(i,e){function r(){}r.prototype=e.prototype,i.Z=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(o,c,f){for(var y=Array(arguments.length-2),b=2;b<arguments.length;b++)y[b-2]=arguments[b];return e.prototype[c].apply(o,y)}}function si(){this.s=this.s,this.o=this.o}var Cs={};si.prototype.s=!1,si.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Po)&&i[Po]||(i[Po]=++na)}(this);delete Cs[i]}},si.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const go=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1},Sc=Array.prototype.forEach?function(i,e,r){Array.prototype.forEach.call(i,e,r)}:function(i,e,r){const o=i.length,c="string"==typeof i?i.split(""):i;for(let f=0;f<o;f++)f in c&&e.call(r,c[f],f,i)};function _i(i){return Array.prototype.concat.apply([],arguments)}function mo(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function Gs(i){return/^[\s\xa0]*$/.test(i)}var xn,ia=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function jr(i,e){return-1!=i.indexOf(e)}function zs(i,e){return i<e?-1:i>e?1:0}e:{var su=Mt.navigator;if(su){var oi=su.userAgent;if(oi){xn=oi;break e}}xn=""}function ns(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function Er(i){const e={};for(const r in i)e[r]=i[r];return e}var Oo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(i,e){let r,o;for(let c=1;c<arguments.length;c++){for(r in o=arguments[c],o)i[r]=o[r];for(let f=0;f<Oo.length;f++)r=Oo[f],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function L(i){return L[" "](i),i}L[" "]=Sa;var hn,i,B=jr(xn,"Opera"),te=jr(xn,"Trident")||jr(xn,"MSIE"),we=jr(xn,"Edge"),Ge=we||te,mt=jr(xn,"Gecko")&&!(jr(xn.toLowerCase(),"webkit")&&!jr(xn,"Edge"))&&!(jr(xn,"Trident")||jr(xn,"MSIE"))&&!jr(xn,"Edge"),Wt=jr(xn.toLowerCase(),"webkit")&&!jr(xn,"Edge");function yt(){var i=Mt.document;return i?i.documentMode:void 0}e:{var Qt="",bn=(i=xn,mt?/rv:([^\);]+)(\)|;)/.exec(i):we?/Edge\/([\d\.]+)/.exec(i):te?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Wt?/WebKit\/(\S+)/.exec(i):B?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(bn&&(Qt=bn?bn[1]:""),te){var qt=yt();if(null!=qt&&qt>parseFloat(Qt)){hn=String(qt);break e}}hn=Qt}var Ar={};function Mi(){return e=Ar,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let i=0;const e=ia(String(hn)).split("."),r=ia("9").split("."),o=Math.max(e.length,r.length);for(let y=0;0==i&&y<o;y++){var c=e[y]||"",f=r[y]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==c[0].length&&0==f[0].length)break;i=zs(0==c[1].length?0:parseInt(c[1],10),0==f[1].length?0:parseInt(f[1],10))||zs(0==c[2].length,0==f[2].length)||zs(c[2],f[2]),c=c[3],f=f[3]}while(0==i)}return 0<=i}();var e}var zi=Mt.document&&te&&(yt()||parseInt(hn,10))||void 0,Ds=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Mt.addEventListener("test",Sa,e),Mt.removeEventListener("test",Sa,e)}catch(r){}return i}();function Nn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Br(i,e){if(Nn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(mt){e:{try{L(e.nodeName);var c=!0;break e}catch(f){}c=!1}c||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:yo[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Br.Z.h.call(this)}}Nn.prototype.h=function(){this.defaultPrevented=!0},vr(Br,Nn);var yo={2:"touch",3:"pen",4:"mouse"};Br.prototype.h=function(){Br.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ks="closure_listenable_"+(1e6*Math.random()|0),xt=0;function Rc(i,e,r,o,c){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ia=c,this.key=++xt,this.ca=this.fa=!1}function _o(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function vo(i){this.src=i,this.g={},this.h=0}function ko(i,e){var r=e.type;if(r in i.g){var f,o=i.g[r],c=go(o,e);(f=0<=c)&&Array.prototype.splice.call(o,c,1),f&&(_o(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Fo(i,e,r,o){for(var c=0;c<i.length;++c){var f=i[c];if(!f.ca&&f.listener==e&&f.capture==!!r&&f.ia==o)return c}return-1}vo.prototype.add=function(i,e,r,o,c){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var y=Fo(i,e,o,c);return-1<y?(e=i[y],r||(e.fa=!1)):((e=new Rc(e,this.src,f,!!o,c)).fa=r,i.push(e)),e};var Lo="closure_lm_"+(1e6*Math.random()|0),xa={};function Be(i,e,r,o,c){if(o&&o.once)return Gn(i,e,r,o,c);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Be(i,e[f],r,o,c);return null}return r=Vo(r),i&&i[Ks]?i.N(e,r,Is(o)?!!o.capture:!!o,c):un(i,e,r,!1,o,c)}function un(i,e,r,o,c,f){if(!e)throw Error("Invalid event type");var y=Is(c)?!!c.capture:!!c,b=rs(i);if(b||(i[Lo]=b=new vo(i)),(r=b.add(e,r,o,y,f)).proxy)return r;if(o=function(){var e=Ma;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)Ds||(c=y),void 0===c&&(c=!1),i.addEventListener(e.toString(),o,c);else if(i.attachEvent)i.attachEvent(Oi(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function Gn(i,e,r,o,c){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Gn(i,e[f],r,o,c);return null}return r=Vo(r),i&&i[Ks]?i.O(e,r,Is(o)?!!o.capture:!!o,c):un(i,e,r,!0,o,c)}function Na(i,e,r,o,c){if(Array.isArray(e))for(var f=0;f<e.length;f++)Na(i,e[f],r,o,c);else o=Is(o)?!!o.capture:!!o,r=Vo(r),i&&i[Ks]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=Fo(f=i.g[e],r,o,c))&&(_o(f[r]),Array.prototype.splice.call(f,r,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=rs(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Fo(e,r,o,c)),(r=-1<i?e[i]:null)&&Pi(r))}function Pi(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Ks])ko(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(Oi(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=rs(e))?(ko(r,i),0==r.h&&(r.src=null,e[Lo]=null)):_o(i)}}}function Oi(i){return i in xa?xa[i]:xa[i]="on"+i}function Ma(i,e){if(i.ca)i=!0;else{e=new Br(e,this);var r=i.listener,o=i.ia||i.src;i.fa&&Pi(i),i=r.call(o,e)}return i}function rs(i){return(i=i[Lo])instanceof vo?i:null}var qu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vo(i){return"function"==typeof i?i:(i[qu]||(i[qu]=function(e){return i.handleEvent(e)}),i[qu])}function zn(){si.call(this),this.i=new vo(this),this.P=this,this.I=null}function Kn(i,e){var r,o=i.I;if(o)for(r=[];o;o=o.I)r.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Nn(e,i);else if(e instanceof Nn)e.target=e.target||i;else{var c=e;S(e=new Nn(o,i),c)}if(c=!0,r)for(var f=r.length-1;0<=f;f--){var y=e.g=r[f];c=cr(y,o,!0,e)&&c}if(c=cr(y=e.g=i,o,!0,e)&&c,c=cr(y,o,!1,e)&&c,r)for(f=0;f<r.length;f++)c=cr(y=e.g=r[f],o,!1,e)&&c}function cr(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,f=0;f<e.length;++f){var y=e[f];if(y&&!y.ca&&y.capture==r){var b=y.listener,O=y.ia||y.src;y.fa&&ko(i.i,y),c=!1!==b.call(O,o)&&c}}return c&&!o.defaultPrevented}vr(zn,si),zn.prototype[Ks]=!0,zn.prototype.removeEventListener=function(i,e,r,o){Na(this,i,e,r,o)},zn.prototype.M=function(){if(zn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)_o(r[o]);delete i.g[e],i.h--}}this.I=null},zn.prototype.N=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},zn.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var vi=Mt.JSON.stringify;function Pa(){var i=du;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Uo,Ki=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new au,i=>i.reset());class au{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function uu(i){Mt.setTimeout(()=>{throw i},0)}function cu(i,e){Uo||function(){var i=Mt.Promise.resolve(void 0);Uo=function(){i.then(hu)}}(),wo||(Uo(),wo=!0),du.add(i,e)}var wo=!1,du=new class{constructor(){this.h=this.g=null}add(e,r){const o=Ki.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function hu(){for(var i;i=Pa();){try{i.h.call(i.g)}catch(r){uu(r)}var e=Ki;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}wo=!1}function Oa(i,e){zn.call(this),this.h=i||1,this.g=e||Mt,this.j=Pr(this.kb,this),this.l=Date.now()}function sa(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function is(i,e,r){if("function"==typeof i)r&&(i=Pr(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Pr(i.handleEvent,i)}return 2147483647<Number(e)?-1:Mt.setTimeout(i,e||0)}function fu(i){i.g=is(()=>{i.g=null,i.i&&(i.i=!1,fu(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}vr(Oa,zn),(lt=Oa.prototype).da=!1,lt.S=null,lt.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kn(this,"tick"),this.da&&(sa(this),this.start()))}},lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){Oa.Z.M.call(this),sa(this),delete this.g};class pu extends si{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fu(this)}M(){super.M(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Io(i){si.call(this),this.h=i,this.g={}}vr(Io,si);var xc=[];function oa(i,e,r,o){Array.isArray(r)||(r&&(xc[0]=r.toString()),r=xc);for(var c=0;c<r.length;c++){var f=Be(e,r[c],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function gu(i){ns(i.g,function(e,r){this.g.hasOwnProperty(r)&&Pi(e)},i),i.g={}}function jo(){this.g=!0}function Mn(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var y=1;y<c.length;y++)c[y]=""}}}return vi(r)}catch(b){return e}}(i,r)+(o?" "+o:"")})}Io.prototype.M=function(){Io.Z.M.call(this),gu(this)},Io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jo.prototype.Aa=function(){this.g=!1},jo.prototype.info=function(){};var qs={},bo=null;function rr(){return bo=bo||new zn}function Zu(i){Nn.call(this,qs.Ma,i)}function Co(i){const e=rr();Kn(e,new Zu(e,i))}function aa(i,e){Nn.call(this,qs.STAT_EVENT,i),this.stat=e}function lr(i){const e=rr();Kn(e,new aa(e,i))}function ua(i,e){Nn.call(this,qs.Na,i),this.size=e}function ss(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){i()},e)}qs.Ma="serverreachability",vr(Zu,Nn),qs.STAT_EVENT="statevent",vr(aa,Nn),qs.Na="timingevent",vr(ua,Nn);var dr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Zs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ts(){}function La(){}Ts.prototype.h=null;var yu,kn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mu(){Nn.call(this,"d")}function Mc(){Nn.call(this,"c")}function Yu(){}function _u(i,e,r,o){this.l=i,this.j=e,this.m=r,this.X=o||1,this.V=new Io(this),this.P=Eu,this.W=new Oa(i=Ge?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vu}function vu(){this.i=null,this.g="",this.h=!1}vr(mu,Nn),vr(Mc,Nn),vr(Yu,Ts),Yu.prototype.g=function(){return new XMLHttpRequest},Yu.prototype.i=function(){return{}},yu=new Yu;var Eu=45e3,Do={},$r={};function ca(i,e,r){i.K=1,i.v=V(Fi(e)),i.s=r,i.U=!0,os(i,null)}function os(i,e){i.F=Date.now(),Ys(i),i.A=Fi(i.v);var r=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),Va(r.h,"t",o),i.C=0,r=i.l.H,i.h=new vu,i.g=Sr(i.l,r?e:null,!i.s),0<i.O&&(i.L=new pu(Pr(i.Ia,i,i.g),i.O)),oa(i.V,i.g,"readystatechange",i.gb),e=i.H?Er(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Co(1),function(i,e,r,o,c,f){i.info(function(){if(i.g)if(f)for(var y="",b=f.split("&"),O=0;O<b.length;O++){var H=b[O].split("=");if(1<H.length){var Z=H[0];H=H[1];var ue=Z.split("_");y=2<=ue.length&&"type"==ue[1]?y+(Z+"=")+H+"&":y+(Z+"=redacted&")}}else y=null;else y=f;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+e+"\n"+r+"\n"+y})}(i.j,i.u,i.A,i.m,i.X,i.s)}function To(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Pc(i,e,r){let c,o=!0;for(;!i.I&&i.C<r.length;){if(c=la(i,r),c==$r){4==e&&(i.o=4,lr(14),o=!1),Mn(i.j,i.m,null,"[Incomplete Response]");break}if(c==Do){i.o=4,lr(15),Mn(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}Mn(i.j,i.m,c,null),qi(i,c)}To(i)&&c!=$r&&c!=Do&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,lr(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),ha(e),e.L=!0,lr(11))):(Mn(i.j,i.m,r,"[Invalid Chunked Response]"),Js(i),as(i))}function la(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?$r:(r=Number(e.substring(r,o)),isNaN(r)?Do:(o+=1)+r>e.length?$r:(e=e.substr(o,r),i.C=o+r,e))}function Ys(i){i.Y=Date.now()+i.P,Qs(i,i.P)}function Qs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ss(Pr(i.eb,i),e)}function Qu(i){i.B&&(Mt.clearTimeout(i.B),i.B=null)}function as(i){0==i.l.G||i.I||yg(i.l,i)}function Js(i){Qu(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,sa(i.W),gu(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function qi(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||kc(r.i,i)))if(r.I=i.N,!i.J&&kc(r.i,i)&&3==r.G){try{var o=r.Ca.g.parse(e)}catch(H){o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0])e:if(r.u)r.ta=c[1],0<r.ta-r.U&&37500>c[2]&&r.N&&0==r.A&&!r.v&&(r.v=ss(Pr(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Cu(r),pt(r)}to(r),lr(18)}if(1>=fh(r.i)&&r.ka){try{r.ka()}catch(H){}r.ka=void 0}}else Ho(r,11)}else if((i.J||r.g==i)&&Cu(r),!Gs(e))for(c=r.Ca.g.parse(e),e=0;e<c.length;e++){let H=c[e];if(r.U=H[0],H=H[1],2==r.G)if("c"==H[0]){r.J=H[1],r.la=H[2];const Z=H[3];null!=Z&&(r.ma=Z,r.h.info("VER="+r.ma));const ue=H[4];null!=ue&&(r.za=ue,r.h.info("SVER="+r.za));const De=H[5];null!=De&&"number"==typeof De&&0<De&&(r.K=o=1.5*De,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;const We=i.g;if(We){const Ye=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ye){var f=o.i;!f.g&&(jr(Ye,"spdy")||jr(Ye,"quic")||jr(Ye,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Nl(f,f.h),f.h=null))}if(o.D){const _t=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;_t&&(o.sa=_t,P(o.F,o.D,_t))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var y=i;if((o=r).oa=_d(o,o.H?o.la:null,o.W),y.J){Fc(o.i,y);var b=y,O=o.K;O&&b.setTimeout(O),b.B&&(Qu(b),Ys(b)),o.g=y}else eo(o);0<r.l.length&&kr(r)}else"stop"!=H[0]&&"close"!=H[0]||Ho(r,7);else 3==r.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Ho(r,7):gt(r):"noop"!=H[0]&&r.j&&r.j.wa(H),r.A=0)}Co(4)}catch(H){}}function Ao(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ws(i)||"string"==typeof i)Sc(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(Ws(i)||"string"==typeof i){r=[];for(var o=i.length,c=0;c<o;c++)r.push(c)}else for(c in r=[],o=0,i)r[o++]=c;c=(o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ws(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i)).length;for(var f=0;f<c;f++)e.call(void 0,o[f],r&&r[f],i)}}function As(i,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof As)for(r=i.T(),o=0;o<r.length;o++)this.set(r[o],i.get(r[o]));else for(o in i)this.set(o,i[o])}function us(i){if(i.i!=i.g.length){for(var e=0,r=0;e<i.g.length;){var o=i.g[e];Ss(i.h,o)&&(i.g[r++]=o),e++}i.g.length=r}if(i.i!=i.g.length){var c={};for(r=e=0;e<i.g.length;)Ss(c,o=i.g[e])||(i.g[r++]=o,c[o]=1),e++;i.g.length=r}}function Ss(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(lt=_u.prototype).setTimeout=function(i){this.P=i},lt.gb=function(i){i=i.target;const e=this.L;e&&3==N(i)?e.l():this.Ia(i)},lt.Ia=function(i){try{if(i==this.g)e:{const Z=N(this.g);var e=this.g.Da();const ue=this.g.ba();if(!(3>Z)&&(3!=Z||Ge||this.g&&(this.h.h||this.g.ga()||j(this.g)))){this.I||4!=Z||7==e||Co(8==e||0>=ue?3:2),Qu(this);var r=this.g.ba();this.N=r;t:if(To(this)){var o=j(this.g);i="";var c=o.length,f=4==N(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Js(this),as(this);var y="";break t}this.h.i=new Mt.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==c-1});o.splice(0,c),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ga();if(this.i=200==r,function(i,e,r,o,c,f,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+e+"\n"+r+"\n"+f+" "+y})}(this.j,this.u,this.A,this.m,this.X,Z,r),this.i){if(this.$&&!this.J){t:{if(this.g){var b,O=this.g;if((b=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gs(b)){var H=b;break t}}H=null}if(!(r=H)){this.i=!1,this.o=3,lr(12),Js(this),as(this);break e}Mn(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qi(this,r)}this.U?(Pc(this,Z,y),Ge&&this.i&&3==Z&&(oa(this.V,this.W,"tick",this.fb),this.W.start())):(Mn(this.j,this.m,y,null),qi(this,y)),4==Z&&Js(this),this.i&&!this.I&&(4==Z?yg(this.l,this):(this.i=!1,Ys(this)))}else 400==r&&0<y.indexOf("Unknown SID")?(this.o=3,lr(12)):(this.o=0,lr(13)),Js(this),as(this)}}}catch(Z){}},lt.fb=function(){if(this.g){var i=N(this.g),e=this.g.ga();this.C<e.length&&(Qu(this),Pc(this,i,e),this.i&&4!=i&&Ys(this))}},lt.cancel=function(){this.I=!0,Js(this)},lt.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Co(3),lr(17)),Js(this),this.o=2,as(this)):Qs(this,this.Y-i)},(lt=As.prototype).R=function(){us(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},lt.T=function(){return us(this),this.g.concat()},lt.get=function(i,e){return Ss(this.h,i)?this.h[i]:e},lt.set=function(i,e){Ss(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},lt.forEach=function(i,e){for(var r=this.T(),o=0;o<r.length;o++){var c=r[o],f=this.get(c);i.call(e,f,c,this)}};var Qr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bo(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Bo){this.g=void 0!==e?e:i.g,I(this,i.j),this.s=i.s,E(this,i.i),_(this,i.m),this.l=i.l,e=i.h;var r=new Or;r.i=e.i,e.g&&(r.g=new As(e.g),r.h=e.h),T(this,r),this.o=i.o}else i&&(r=String(i).match(Qr))?(this.g=!!e,I(this,r[1]||"",!0),this.s=Ne(r[2]||""),E(this,r[3]||"",!0),_(this,r[4]),this.l=Ne(r[5]||"",!0),T(this,r[6]||"",!0),this.o=Ne(r[7]||"")):(this.g=!!e,this.h=new Or(null,this.g))}function Fi(i){return new Bo(i)}function I(i,e,r){i.j=r?Ne(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function E(i,e,r){i.i=r?Ne(e,!0):e}function _(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function T(i,e,r){e instanceof Or?(i.h=e,function(i,e){e&&!i.j&&(ci(i),i.i=null,i.g.forEach(function(r,o){var c=o.toLowerCase();o!=c&&(wi(this,o),Va(this,c,r))},i)),i.j=e}(i.h,i.g)):(r||(e=st(e,ai)),i.h=new Or(e,i.g))}function P(i,e,r){i.h.set(e,r)}function V(i){return P(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ne(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function st(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,nn),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function nn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Bo.prototype.toString=function(){var i=[],e=this.j;e&&i.push(st(e,Tt,!0),":");var r=this.i;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(st(e,Tt,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(st(r,"/"==r.charAt(0)?Gt:yn,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",st(r,ui)),i.join("")};var Tt=/[#\/\?@]/g,yn=/[#\?:]/g,Gt=/[#\?]/g,ai=/[#\?@]/g,ui=/#/g;function Or(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ci(i){i.g||(i.g=new As,i.h=0,i.i&&function(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),c=null;if(0<=o){var f=i[r].substring(0,o);c=i[r].substring(o+1)}else f=i[r];e(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function wi(i,e){ci(i),e=Ua(i,e),Ss(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Ss((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&us(i)))}function Rs(i,e){return ci(i),e=Ua(i,e),Ss(i.g.h,e)}function Va(i,e,r){wi(i,e),0<r.length&&(i.i=null,i.g.set(Ua(i,e),mo(r)),i.h+=r.length)}function Ua(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function jn(i){this.l=i||hh,i=Mt.PerformanceNavigationTiming?0<(i=Mt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ea&&Mt.g.Ea()&&Mt.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=Or.prototype).add=function(i,e){ci(this),this.i=null,i=Ua(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},lt.forEach=function(i,e){ci(this),this.g.forEach(function(r,o){Sc(r,function(c){i.call(e,c,o,this)},this)},this)},lt.T=function(){ci(this);for(var i=this.g.R(),e=this.g.T(),r=[],o=0;o<e.length;o++)for(var c=i[o],f=0;f<c.length;f++)r.push(e[o]);return r},lt.R=function(i){ci(this);var e=[];if("string"==typeof i)Rs(this,i)&&(e=_i(e,this.g.get(Ua(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)e=_i(e,i[r])}return e},lt.set=function(i,e){return ci(this),this.i=null,Rs(this,i=Ua(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},lt.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),r=0;r<e.length;r++){var o=e[r],c=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var y=c;""!==o[f]&&(y+="="+encodeURIComponent(String(o[f]))),i.push(y)}}return this.i=i.join("&")};var hh=10;function xl(i){return!!i.h||!!i.g&&i.g.size>=i.j}function fh(i){return i.h?1:i.g?i.g.size:0}function kc(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Nl(i,e){i.g?i.g.add(e):i.h=e}function Fc(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ml(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.D);return e}return mo(i.i)}function Lc(){}function ph(){this.g=new Lc}function Ju(i,e,r){const o=r||"";try{Ao(i,function(c,f){let y=c;Is(c)&&(y=vi(c)),e.push(o+f+"="+encodeURIComponent(y))})}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}function ja(i,e,r,o,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(o)}catch(f){}}function Pl(i){this.l=i.$b||null,this.j=i.ib||!1}function hr(i,e){zn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Iu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jn.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Lc.prototype.stringify=function(i){return Mt.JSON.stringify(i,void 0)},Lc.prototype.parse=function(i){return Mt.JSON.parse(i,void 0)},vr(Pl,Ts),Pl.prototype.g=function(){return new hr(this.l,this.j)},Pl.prototype.i=function(i){return function(){return i}}({}),vr(hr,zn);var Iu=0;function Xu(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function $o(i){i.readyState=4,i.l=null,i.j=null,i.A=null,bu(i)}function bu(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(lt=hr.prototype).open=function(i,e){if(this.readyState!=Iu)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,bu(this)},lt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Mt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$o(this)),this.readyState=Iu},lt.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,bu(this)),this.g&&(this.readyState=3,bu(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Mt.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xu(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},lt.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?$o(this):bu(this),3==this.readyState&&Xu(this)}},lt.Ua=function(i){this.g&&(this.response=this.responseText=i,$o(this))},lt.Ta=function(i){this.g&&(this.response=i,$o(this))},lt.ha=function(){this.g&&$o(this)},lt.setRequestHeader=function(i,e){this.v.append(i,e)},lt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var xs=Mt.JSON.parse;function Sn(i){zn.call(this),this.headers=new As,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Xs,this.K=this.L=!1}vr(Sn,zn);var Xs="",Ba=/^https?$/i,Zi=["POST","PUT"];function Sf(i){return"content-type"==i.toLowerCase()}function ec(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,gh(i),Vc(i)}function gh(i){i.D||(i.D=!0,Kn(i,"complete"),Kn(i,"error"))}function kl(i){if(i.h&&void 0!==po&&(!i.C[1]||4!=N(i)||2!=i.ba()))if(i.v&&4==N(i))is(i.Fa,0,i);else if(Kn(i,"readystatechange"),4==N(i)){i.h=!1;try{const b=i.ba();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===b){var c=String(i.H).match(Qr)[1]||null;if(!c&&Mt.self&&Mt.self.location){var f=Mt.self.location.protocol;c=f.substr(0,f.length-1)}o=!Ba.test(c?c.toLowerCase():"")}r=o}if(r)Kn(i,"complete"),Kn(i,"success");else{i.m=6;try{var y=2<N(i)?i.g.statusText:""}catch(O){y=""}i.j=y+" ["+i.ba()+"]",gh(i)}}finally{Vc(i)}}}function Vc(i,e){if(i.g){C(i);const r=i.g,o=i.C[0]?Sa:null;i.g=null,i.C=null,e||Kn(i,"ready");try{r.onreadystatechange=o}catch(c){}}}function C(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Mt.clearTimeout(i.A),i.A=null)}function N(i){return i.g?i.g.readyState:0}function j(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Xs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ge(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function(i){let e="";return ns(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):P(i,e,r))}function Ce(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function ze(i){this.za=0,this.l=[],this.h=new jo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ce("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ce("baseRetryDelayMs",5e3,i),this.$a=Ce("retryDelaySeedMs",1e4,i),this.Ya=Ce("forwardChannelMaxRetries",2,i),this.ra=Ce("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new jn(i&&i.concurrentRequestLimit),this.Ca=new ph,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function gt(i){if(En(i),3==i.G){var e=i.V++,r=Fi(i.F);P(r,"SID",i.J),P(r,"RID",e),P(r,"TYPE","terminate"),Ns(i,r),(e=new _u(i,i.h,e,void 0)).K=2,e.v=V(Fi(r)),r=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(r=Mt.navigator.sendBeacon(e.v.toString(),"")),!r&&Mt.Image&&((new Image).src=e.v,r=!0),r||(e.g=Sr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ys(e)}rc(i)}function pt(i){i.g&&(ha(i),i.g.cancel(),i.g=null)}function En(i){pt(i),i.u&&(Mt.clearTimeout(i.u),i.u=null),Cu(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Mt.clearTimeout(i.m),i.m=null)}function wn(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&kr(i)}function kr(i){xl(i.i)||i.m||(i.m=!0,cu(i.Ha,i),i.C=0)}function li(i,e){var r;r=e?e.m:i.V++;const o=Fi(i.F);P(o,"SID",i.J),P(o,"RID",r),P(o,"AID",i.U),Ns(i,o),i.o&&i.s&&ge(o,i.o,i.s),r=new _u(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.l=e.D.concat(i.l)),e=da(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Nl(i.i,r),ca(r,o,e)}function Ns(i,e){i.j&&Ao({},function(r,o){P(e,o,r)})}function da(i,e,r){r=Math.min(i.l.length,r);var o=i.j?Pr(i.j.Oa,i.j,i):null;e:{var c=i.l;let f=-1;for(;;){const y=["count="+r];-1==f?0<r?(f=c[0].h,y.push("ofs="+f)):f=0:y.push("ofs="+f);let b=!0;for(let O=0;O<r;O++){let H=c[O].h;const Z=c[O].g;if(H-=f,0>H)f=Math.max(0,c[O].h-100),b=!1;else try{Ju(Z,y,"req"+H+"_")}catch(ue){o&&o(Z)}}if(b){o=y.join("&");break e}}}return i=i.l.splice(0,r),e.D=i,o}function eo(i){i.g||i.u||(i.Y=1,cu(i.Ga,i),i.A=0)}function to(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=ss(Pr(i.Ga,i),nc(i,i.A)),i.A++,0))}function ha(i){null!=i.B&&(Mt.clearTimeout(i.B),i.B=null)}function tc(i){i.g=new _u(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Fi(i.oa);P(e,"RID","rpc"),P(e,"SID",i.J),P(e,"CI",i.N?"0":"1"),P(e,"AID",i.U),Ns(i,e),P(e,"TYPE","xmlhttp"),i.o&&i.s&&ge(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=V(Fi(e)),r.s=null,r.U=!0,os(r,i)}function Cu(i){null!=i.v&&(Mt.clearTimeout(i.v),i.v=null)}function yg(i,e){var r=null;if(i.g==e){Cu(i),ha(i),i.g=null;var o=2}else{if(!kc(i.i,e))return;r=e.D,Fc(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var c=i.C;Kn(o=rr(),new ua(o,r,e,c)),kr(i)}else eo(i);else if(3==(c=e.o)||0==c&&0<i.I||!(1==o&&function(i,e){return!(fh(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=ss(Pr(i.Ha,i,e),nc(i,i.C)),i.C++,0)))}(i,e)||2==o&&to(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),c){case 1:Ho(i,5);break;case 4:Ho(i,10);break;case 3:Ho(i,6);break;default:Ho(i,2)}}function nc(i,e){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*e}function Ho(i,e){if(i.h.info("Error code "+e),2==e){var r=null;i.j&&(r=null);var o=Pr(i.jb,i);r||(r=new Bo("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||I(r,"https"),V(r)),function(i,e){const r=new jo;if(Mt.Image){const o=new Image;o.onload=bs(ja,r,o,"TestLoadImage: loaded",!0,e),o.onerror=bs(ja,r,o,"TestLoadImage: error",!1,e),o.onabort=bs(ja,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=bs(ja,r,o,"TestLoadImage: timeout",!1,e),Mt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else lr(2);i.G=0,i.j&&i.j.va(e),rc(i),En(i)}function rc(i){i.G=0,i.I=-1,i.j&&((0!=Ml(i.i).length||0!=i.l.length)&&(i.i.i.length=0,mo(i.l),i.l.length=0),i.j.ua())}function _d(i,e,r){let o=function(i){return i instanceof Bo?Fi(i):new Bo(i,void 0)}(r);if(""!=o.i)e&&E(o,e+"."+o.i),_(o,o.m);else{const c=Mt.location;o=function(i,e,r,o){var c=new Bo(null,void 0);return i&&I(c,i),e&&E(c,e),r&&_(c,r),o&&(c.l=o),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,r)}return i.aa&&ns(i.aa,function(c,f){P(o,f,c)}),r=i.sa,(e=i.D)&&r&&P(o,e,r),P(o,"VER",i.ma),Ns(i,o),o}function Sr(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Sn(r&&i.Ba&&!i.qa?new Pl({ib:!0}):i.qa)).L=i.H,e}function Fl(){}function mh(){if(te&&!(10<=Number(zi)))throw Error("Environmental error: no available transport.")}function Jr(i,e){zn.call(this),this.g=new ze(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Gs(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gs(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new sc(this)}function ic(i){mu.call(this);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Rf(){Mc.call(this),this.status=1}function sc(i){this.g=i}(lt=Sn.prototype).ea=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yu.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:yu),this.g.onreadystatechange=Pr(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void ec(this,f)}i=r||"";const c=new As(this.headers);o&&Ao(o,function(f,y){c.set(y,f)}),o=function(i){e:{var e=Sf;const r=i.length,o="string"==typeof i?i.split(""):i;for(let c=0;c<r;c++)if(c in o&&e.call(void 0,o[c],c,i)){e=c;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(c.T()),r=Mt.FormData&&i instanceof Mt.FormData,!(0<=go(Zi,e))||o||r||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(f,y){this.g.setRequestHeader(y,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{C(this),0<this.B&&((this.K=function(i){return te&&Mi()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pr(this.pa,this)):this.A=is(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){ec(this,f)}},lt.pa=function(){void 0!==po&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kn(this,"timeout"),this.abort(8))},lt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Kn(this,"complete"),Kn(this,"abort"),Vc(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vc(this,!0)),Sn.Z.M.call(this)},lt.Fa=function(){this.s||(this.F||this.v||this.l?kl(this):this.cb())},lt.cb=function(){kl(this)},lt.ba=function(){try{return 2<N(this)?this.g.status:-1}catch(i){return-1}},lt.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},lt.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),xs(e)}},lt.Da=function(){return this.m},lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=ze.prototype).ma=8,lt.G=1,lt.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},lt.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const c=new _u(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=Er(f),S(f,this.P)):f=this.P),null===this.o&&(c.H=f),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=da(this,c,e),P(r=Fi(this.F),"RID",i),P(r,"CVER",22),this.D&&P(r,"X-HTTP-Session-Id",this.D),Ns(this,r),this.o&&f&&ge(r,this.o,f),Nl(this.i,c),this.Ra&&P(r,"TYPE","init"),this.ja?(P(r,"$req",e),P(r,"SID","null"),c.$=!0,ca(c,r,null)):ca(c,r,e),this.G=2}}else 3==this.G&&(i?li(this,i):0==this.l.length||xl(this.i)||li(this))},lt.Ga=function(){if(this.u=null,tc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=ss(Pr(this.bb,this),i)}},lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,lr(10),pt(this),tc(this))},lt.ab=function(){null!=this.v&&(this.v=null,pt(this),to(this),lr(19))},lt.jb=function(i){i?(this.h.info("Successfully pinged google.com"),lr(2)):(this.h.info("Failed to ping google.com"),lr(1))},(lt=Fl.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Oa=function(){},mh.prototype.g=function(i,e){return new Jr(i,e)},vr(Jr,zn),Jr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),cu(Pr(i.hb,i,e))),lr(0),i.W=e,i.aa=r||{},i.N=i.X,i.F=_d(i,null,i.W),kr(i)},Jr.prototype.close=function(){gt(this.g)},Jr.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,wn(this.g,e)}else this.v?((e={}).__data__=vi(i),wn(this.g,e)):wn(this.g,i)},Jr.prototype.M=function(){this.g.j=null,delete this.j,gt(this.g),delete this.g,Jr.Z.M.call(this)},vr(ic,mu),vr(Rf,Mc),vr(sc,Fl),sc.prototype.xa=function(){Kn(this.g,"a")},sc.prototype.wa=function(i){Kn(this.g,new ic(i))},sc.prototype.va=function(i){Kn(this.g,new Rf(i))},sc.prototype.ua=function(){Kn(this.g,"b")},mh.prototype.createWebChannel=mh.prototype.g,Jr.prototype.send=Jr.prototype.u,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,Zs.COMPLETE="complete",La.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",zn.prototype.listen=zn.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.La,Sn.prototype.getLastErrorCode=Sn.prototype.Da,Sn.prototype.getStatus=Sn.prototype.ba,Sn.prototype.getResponseJson=Sn.prototype.Qa,Sn.prototype.getResponseText=Sn.prototype.ga,Sn.prototype.send=Sn.prototype.ea;var vd=_r.createWebChannelTransport=function(){return new mh},qy=_r.getStatEventTarget=function(){return rr()},Du=_r.ErrorCode=dr,Wo=_r.EventType=Zs,Ed=_r.Event=qs,$a=_r.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yh=_r.FetchXmlHttpFactory=Pl,Ll=_r.WebChannel=La,Vl=_r.XhrIo=Sn;const Tu="@firebase/firestore";class Xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");let oc="9.6.0";const fa=new yi.Yd("@firebase/firestore");function Au(){return fa.logLevel}function nt(i,...e){if(fa.logLevel<=yi.in.DEBUG){const r=e.map(wd);fa.debug(`Firestore (${oc}): ${i}`,...r)}}function ei(i,...e){if(fa.logLevel<=yi.in.ERROR){const r=e.map(wd);fa.error(`Firestore (${oc}): ${i}`,...r)}}function jc(i,...e){if(fa.logLevel<=yi.in.WARN){const r=e.map(wd);fa.warn(`Firestore (${oc}): ${i}`,...r)}}function wd(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function bt(i="Unexpected state"){const e=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: `+i;throw ei(e),new Error(e)}function jt(i,e){i||bt()}function ct(i,e){return i}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Error{constructor(e,r){super(r),this.code=e,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class _h{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Xr.UNAUTHENTICATED))}shutdown(){}}class vh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Id{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let c=this.i;const f=H=>this.i!==c?(c=this.i,r(H)):Promise.resolve();let y=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Rr,e.enqueueRetryable(()=>f(this.currentUser))};const b=()=>{const H=y;e.enqueueRetryable((0,Oe.Z)(function*(){yield H.promise,yield f(o.currentUser)}))},O=H=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(H=>O(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?O(H):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Rr)}},0),b()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(jt("string"==typeof o.accessToken),new _h(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jt(null===e||"string"==typeof e),new Xr(e)}}class Eh{constructor(e,r,o){this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const c=e.auth.getAuthHeaderValueForFirstParty([]);c&&this.headers.set("Authorization",c),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class xf{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new Eh(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nf{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,r){this.o=c=>{e.enqueueRetryable(()=>{return null!=(f=c).error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`),r(f.token);var f})};const o=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.g.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.g.getImmediate({optional:!0});c?o(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(jt("string"==typeof r.token),new wh(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class no{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.p(o),this.T=o=>r.writeSequenceNumber(o))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Eg(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}no.I=-1;class bd{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const c=Eg(40);for(let f=0;f<c.length;++f)o.length<20&&c[f]<r&&(o+=e.charAt(c[f]%e.length))}return o}}function _n(i,e){return i<e?-1:i>e?1:0}function $c(i,e,r){return i.length===e.length&&i.every((o,c)=>r(o,e[c]))}function pa(i){return i+"\0"}class xr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new xr(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new xr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ih(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ac(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Mf(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ul{constructor(e,r,o){void 0===r?r=0:r>e.length&&bt(),void 0===o?o=e.length-r:o>e.length-r&&bt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Ul.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let c=0;c<o;c++){const f=e.get(c),y=r.get(c);if(f<y)return-1;if(f>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Pn extends Ul{construct(e,r,o){return new Pn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(c=>c.length>0))}return new Pn(r)}static emptyPath(){return new Pn([])}}const Cd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends Ul{construct(e,r,o){return new Li(e,r,o)}static isValidIdentifier(e){return Cd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Li(["__name__"])}static fromServerFormat(e){const r=[];let o="",c=0;const f=()=>{if(0===o.length)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let y=!1;for(;c<e.length;){const b=e[c];if("\\"===b){if(c+1===e.length)throw new Ke(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[c+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Ke(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=O,c+=2}else"`"===b?(y=!y,c++):"."!==b||y?(o+=b,c++):(f(),c++)}if(f(),y)throw new Ke(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Li(r)}static emptyPath(){return new Li([])}}class Su{constructor(e){this.fields=e,e.sort(Li.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new di(r)}static fromUint8Array(e){const r=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new di(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const Zy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(i){if(jt(!!i),"string"==typeof i){let e=0;const r=Zy.exec(i);if(jt(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:wr(i.seconds),nanos:wr(i.nanos)}}function wr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ru(i){return"string"==typeof i?di.fromBase64String(i):di.fromUint8Array(i)}function ro(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Hc(i){const e=i.mapValue.fields.__previous_value__;return ro(e)?Hc(e):e}function Wc(i){const e=ga(i.mapValue.fields.__local_write_time__.timestampValue);return new xr(e.seconds,e.nanos)}function xu(i){return null==i}function Dd(i){return 0===i&&1/i==-1/0}function uc(i){return"number"==typeof i&&Number.isInteger(i)&&!Dd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(Pn.fromString(e))}static fromName(e){return new Ct(Pn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Pn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new Pn(e.slice()))}}function Gc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ro(i)?4:10:bt()}function Ms(i,e){const r=Gc(i);if(r!==Gc(e))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Wc(i).isEqual(Wc(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=ga(o.timestampValue),y=ga(c.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Ru(i.bytesValue).isEqual(Ru(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return wr(o.geoPointValue.latitude)===wr(c.geoPointValue.latitude)&&wr(o.geoPointValue.longitude)===wr(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return wr(o.integerValue)===wr(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=wr(o.doubleValue),y=wr(c.doubleValue);return f===y?Dd(f)===Dd(y):isNaN(f)&&isNaN(y)}return!1}(i,e);case 9:return $c(i.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:return function(o,c){const f=o.mapValue.fields||{},y=c.mapValue.fields||{};if(Ih(f)!==Ih(y))return!1;for(const b in f)if(f.hasOwnProperty(b)&&(void 0===y[b]||!Ms(f[b],y[b])))return!1;return!0}(i,e);default:return bt()}var c}function cc(i,e){return void 0!==(i.values||[]).find(r=>Ms(r,e))}function ma(i,e){const r=Gc(i),o=Gc(e);if(r!==o)return _n(r,o);switch(r){case 0:return 0;case 1:return _n(i.booleanValue,e.booleanValue);case 2:return function(c,f){const y=wr(c.integerValue||c.doubleValue),b=wr(f.integerValue||f.doubleValue);return y<b?-1:y>b?1:y===b?0:isNaN(y)?isNaN(b)?0:-1:1}(i,e);case 3:return Ig(i.timestampValue,e.timestampValue);case 4:return Ig(Wc(i),Wc(e));case 5:return _n(i.stringValue,e.stringValue);case 6:return function(c,f){const y=Ru(c),b=Ru(f);return y.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const y=c.split("/"),b=f.split("/");for(let O=0;O<y.length&&O<b.length;O++){const H=_n(y[O],b[O]);if(0!==H)return H}return _n(y.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const y=_n(wr(c.latitude),wr(f.latitude));return 0!==y?y:_n(wr(c.longitude),wr(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,f){const y=c.values||[],b=f.values||[];for(let O=0;O<y.length&&O<b.length;++O){const H=ma(y[O],b[O]);if(H)return H}return _n(y.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,f){const y=c.fields||{},b=Object.keys(y),O=f.fields||{},H=Object.keys(O);b.sort(),H.sort();for(let Z=0;Z<b.length&&Z<H.length;++Z){const ue=_n(b[Z],H[Z]);if(0!==ue)return ue;const De=ma(y[b[Z]],O[H[Z]]);if(0!==De)return De}return _n(b.length,H.length)}(i.mapValue,e.mapValue);default:throw bt()}}function Ig(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return _n(i,e);const r=ga(i),o=ga(e),c=_n(r.seconds,o.seconds);return 0!==c?c:_n(r.nanos,o.nanos)}function Pf(i){return zc(i)}function zc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const c=ga(o);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ru(i.bytesValue).toBase64():"referenceValue"in i?Ct.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let c="[",f=!0;for(const y of o.values||[])f?f=!1:c+=",",c+=zc(y);return c+"]"}(i.arrayValue):"mapValue"in i?function(o){const c=Object.keys(o.fields||{}).sort();let f="{",y=!0;for(const b of c)y?y=!1:f+=",",f+=`${b}:${zc(o.fields[b])}`;return f+"}"}(i.mapValue):bt();var e}function Td(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function bh(i){return!!i&&"integerValue"in i}function jl(i){return!!i&&"arrayValue"in i}function Of(i){return!!i&&"nullValue"in i}function Ch(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function lc(i){return!!i&&"mapValue"in i}function Kc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ac(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Kc(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Kc(i.arrayValue.values[r]);return e}return Object.assign({},i)}class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!lc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(r)}setAll(e){let r=Li.emptyPath(),o={},c=[];e.forEach((y,b)=>{if(!r.isImmediateParentOf(b)){const O=this.getFieldsMap(r);this.applyChanges(O,o,c),o={},c=[],r=b.popLast()}y?o[b.lastSegment()]=Kc(y):c.push(b.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,o,c)}delete(e){const r=this.field(e.popLast());lc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=r.mapValue.fields[e.get(o)];lc(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,o){ac(r,(c,f)=>e[c]=f);for(const c of o)delete e[c]}clone(){return new bi(Kc(this.value))}}function Dh(i){const e=[];return ac(i.fields,(r,o)=>{const c=new Li([r]);if(lc(o)){const f=Dh(o.mapValue).fields;if(0===f.length)e.push(c);else for(const y of f)e.push(c.child(y))}else e.push(c)}),new Su(e)}class $t{constructor(e,r,o,c,f){this.key=e,this.documentType=r,this.version=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new $t(e,0,rn.min(),bi.empty(),0)}static newFoundDocument(e,r,o){return new $t(e,1,r,o,0)}static newNoDocument(e,r){return new $t(e,2,r,bi.empty(),0)}static newUnknownDocument(e,r){return new $t(e,3,r,bi.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new $t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bg{constructor(e,r=null,o=[],c=[],f=null,y=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=c,this.limit=f,this.startAt=y,this.endAt=b,this.R=null}}function kf(i,e=null,r=[],o=[],c=null,f=null,y=null){return new bg(i,e,r,o,c,f,y)}function Ha(i){const e=ct(i);if(null===e.R){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>function(i){return i.field.canonicalString()+i.op.toString()+Pf(i.value)}(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),xu(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=Wa(e.startAt)),e.endAt&&(r+="|ub:",r+=Wa(e.endAt)),e.R=r}return e.R}function Sd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<i.orderBy.length;c++)if(!Ag(i.orderBy[c],e.orderBy[c]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let c=0;c<i.filters.length;c++)if((r=i.filters[c]).op!==(o=e.filters[c]).op||!r.field.isEqual(o.field)||!Ms(r.value,o.value))return!1;var r,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ah(i.startAt,e.startAt)&&Ah(i.endAt,e.endAt)}function Rd(i){return Ct.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Ci extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.P(e,r,o):new Dg(e,r,o):"array-contains"===r?new cs(e,o):"in"===r?new Th(e,o):"not-in"===r?new Ff(e,o):"array-contains-any"===r?new Bl(e,o):new Ci(e,r,o)}static P(e,r,o){return"in"===r?new Yy(e,o):new Tg(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.v(ma(r,this.value)):null!==r&&Gc(this.value)===Gc(r)&&this.v(ma(r,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Dg extends Ci{constructor(e,r,o){super(e,r,o),this.key=Ct.fromName(o.referenceValue)}matches(e){const r=Ct.comparator(e.key,this.key);return this.v(r)}}class Yy extends Ci{constructor(e,r){super(e,"in",r),this.keys=qc(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Tg extends Ci{constructor(e,r){super(e,"not-in",r),this.keys=qc(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function qc(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Ct.fromName(o.referenceValue))}class cs extends Ci{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return jl(r)&&cc(r.arrayValue,this.value)}}class Th extends Ci{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&cc(this.value.arrayValue,r)}}class Ff extends Ci{constructor(e,r){super(e,"not-in",r)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!cc(this.value.arrayValue,r)}}class Bl extends Ci{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!jl(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>cc(this.value.arrayValue,o))}}class ti{constructor(e,r){this.position=e,this.before=r}}function Wa(i){return`${i.before?"b":"a"}:${i.position.map(e=>Pf(e)).join(",")}`}class Nu{constructor(e,r="asc"){this.field=e,this.dir=r}}function Ag(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Lf(i,e,r){let o=0;for(let c=0;c<i.position.length;c++){const f=e[c],y=i.position[c];if(o=f.field.isKeyField()?Ct.comparator(Ct.fromName(y.referenceValue),r.key):ma(y,r.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function Ah(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ms(i.position[r],e.position[r]))return!1;return!0}class ya{constructor(e,r=null,o=[],c=[],f=null,y="F",b=null,O=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=c,this.limit=f,this.limitType=y,this.startAt=b,this.endAt=O,this.S=null,this.D=null}}function $l(i,e,r,o,c,f,y,b){return new ya(i,e,r,o,c,f,y,b)}function Mu(i){return new ya(i)}function Zc(i){return!xu(i.limit)&&"F"===i.limitType}function xd(i){return!xu(i.limit)&&"L"===i.limitType}function Hl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ls(i){for(const e of i.filters)if(e.V())return e.field;return null}function Pu(i){return null!==i.collectionGroup}function Ga(i){const e=ct(i);if(null===e.S){e.S=[];const r=ls(e),o=Hl(e);if(null!==r&&null===o)r.isKeyField()||e.S.push(new Nu(r)),e.S.push(new Nu(Li.keyField(),"asc"));else{let c=!1;for(const f of e.explicitOrderBy)e.S.push(f),f.field.isKeyField()&&(c=!0);if(!c){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Nu(Li.keyField(),f))}}}return e.S}function io(i){const e=ct(i);if(!e.D)if("F"===e.limitType)e.D=kf(e.path,e.collectionGroup,Ga(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const f of Ga(e))r.push(new Nu(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new ti(e.endAt.position,!e.endAt.before):null,c=e.startAt?new ti(e.startAt.position,!e.startAt.before):null;e.D=kf(e.path,e.collectionGroup,r,e.filters,e.limit,o,c)}return e.D}function Nd(i,e,r){return new ya(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Yc(i,e){return Sd(io(i),io(e))&&i.limitType===e.limitType}function Sh(i){return`${Ha(io(i))}|lt:${i.limitType}`}function dc(i){return`Query(target=${function(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${Pf(o.value)}`;var o}).join(", ")}]`),xu(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: "+Wa(i.startAt)),i.endAt&&(e+=", endAt: "+Wa(i.endAt)),`Target(${e})`}(io(i))}; limitType=${i.limitType})`}function Wl(i,e){return e.isFoundDocument()&&function(r,o){const c=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ct.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(i,e)&&function(r,o){for(const c of r.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(i,e)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(i,e)&&(o=e,!((r=i).startAt&&!Lf(r.startAt,Ga(r),o)||r.endAt&&Lf(r.endAt,Ga(r),o)));var r,o}function za(i){return(e,r)=>{let o=!1;for(const c of Ga(i)){const f=hc(c,e,r);if(0!==f)return f;o=o||c.field.isKeyField()}return 0}}function hc(i,e,r){const o=i.field.isKeyField()?Ct.comparator(e.key,r.key):function(c,f,y){const b=f.data.field(c),O=y.data.field(c);return null!==b&&null!==O?ma(b,O):bt()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return bt()}}function Vf(i,e){if(i.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function Uf(i){return{integerValue:""+i}}function jf(i,e){return uc(e)?Uf(e):Vf(i,e)}class Gl{constructor(){this._=void 0}}function Ps(i,e,r){return i instanceof fc?function(o,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(f.fields.__previous_value__=c),{mapValue:f}}(r,e):i instanceof hs?Jc(i,e):i instanceof Ka?Bf(i,e):function(o,c){const f=ds(o,c),y=$f(f)+$f(o.N);return bh(f)&&bh(o.N)?Uf(y):Vf(o.k,y)}(i,e)}function Qc(i,e,r){return i instanceof hs?Jc(i,e):i instanceof Ka?Bf(i,e):r}function ds(i,e){return i instanceof qa?bh(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class fc extends Gl{}class hs extends Gl{constructor(e){super(),this.elements=e}}function Jc(i,e){const r=Hf(e);for(const o of i.elements)r.some(c=>Ms(c,o))||r.push(o);return{arrayValue:{values:r}}}class Ka extends Gl{constructor(e){super(),this.elements=e}}function Bf(i,e){let r=Hf(e);for(const o of i.elements)r=r.filter(c=>!Ms(c,o));return{arrayValue:{values:r}}}class qa extends Gl{constructor(e,r){super(),this.k=e,this.N=r}}function $f(i){return wr(i.integerValue||i.doubleValue)}function Hf(i){return jl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class zl{constructor(e,r){this.field=e,this.transform=r}}class g{constructor(e,r){this.version=e,this.transformResults=r}}class d{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new d}static exists(e){return new d(void 0,e)}static updateTime(e){return new d(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function h(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class v{}function M(i,e,r){i instanceof qe?function(o,c,f){const y=o.value.clone(),b=gn(o.fieldTransforms,c,f.transformResults);y.setAll(b),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,r):i instanceof ht?function(o,c,f){if(!h(o.precondition,c))return void c.convertToUnknownDocument(f.version);const y=gn(o.fieldTransforms,c,f.transformResults),b=c.data;b.setAll(vt(o)),b.setAll(y),c.convertToFoundDocument(f.version,b).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function F(i,e,r){var c;i instanceof qe?function(o,c,f){if(!h(o.precondition,c))return;const y=o.value.clone(),b=Hr(o.fieldTransforms,f,c);y.setAll(b),c.convertToFoundDocument(Xe(c),y).setHasLocalMutations()}(i,e,r):i instanceof ht?function(o,c,f){if(!h(o.precondition,c))return;const y=Hr(o.fieldTransforms,f,c),b=c.data;b.setAll(vt(o)),b.setAll(y),c.convertToFoundDocument(Xe(c),b).setHasLocalMutations()}(i,e,r):h(i.precondition,c=e)&&c.convertToNoDocument(rn.min())}function ne(i,e){let r=null;for(const o of i.fieldTransforms){const c=e.data.field(o.field),f=ds(o.transform,c||null);null!=f&&(null==r&&(r=bi.empty()),r.set(o.field,f))}return r||null}function Ie(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===o||r&&o&&$c(r,o,(c,f)=>function(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(r=i.transform)instanceof hs&&o instanceof hs||r instanceof Ka&&o instanceof Ka?$c(r.elements,o.elements,Ms):r instanceof qa&&o instanceof qa?Ms(r.N,o.N):r instanceof fc&&o instanceof fc);var r,o}(c,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,o}function Xe(i){return i.isFoundDocument()?i.version:rn.min()}class qe extends v{constructor(e,r,o,c=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=c,this.type=0}}class ht extends v{constructor(e,r,o,c,f=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=c,this.fieldTransforms=f,this.type=1}}function vt(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function gn(i,e,r){const o=new Map;jt(i.length===r.length);for(let c=0;c<r.length;c++){const f=i[c],y=f.transform,b=e.data.field(f.field);o.set(f.field,Qc(y,b,r[c]))}return o}function Hr(i,e,r){const o=new Map;for(const c of i){const f=c.transform,y=r.data.field(c.field);o.set(c.field,Ps(f,y,e))}return o}class Os extends v{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class pc extends v{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class Wf{constructor(e){this.count=e}}var ir,mn;function Kl(i){switch(i){default:return bt();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}function Rh(i){if(void 0===i)return ei("GRPC error has no .code"),Ae.UNKNOWN;switch(i){case ir.OK:return Ae.OK;case ir.CANCELLED:return Ae.CANCELLED;case ir.UNKNOWN:return Ae.UNKNOWN;case ir.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case ir.INTERNAL:return Ae.INTERNAL;case ir.UNAVAILABLE:return Ae.UNAVAILABLE;case ir.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case ir.NOT_FOUND:return Ae.NOT_FOUND;case ir.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case ir.ABORTED:return Ae.ABORTED;case ir.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case ir.DATA_LOSS:return Ae.DATA_LOSS;default:return bt()}}(mn=ir||(ir={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class Fr{constructor(e,r){this.comparator=e,this.root=r||Di.EMPTY}insert(e,r){return new Fr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return r+o.left.size;c<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new el(this.root,e,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new el(this.root,e,this.comparator,!0)}}class el{constructor(e,r,o,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?o(e.key,r):1,c&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Di{constructor(e,r,o,c,f){this.key=e,this.value=r,this.color=null!=o?o:Di.RED,this.left=null!=c?c:Di.EMPTY,this.right=null!=f?f:Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,c,f){return new Di(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let c=this;const f=o(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,r,o),null):0===f?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return Di.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1,Di.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(i,e,r,o,c){return this}insert(i,e,r){return new Di(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lr{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Md(this.data.getIterator())}getIteratorFrom(e){return new Md(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,f=o.getNext().key;if(0!==this.comparator(c,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Lr(this.comparator);return r.data=e,r}}class Md{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Sg=new Fr(Ct.comparator);function _a(){return Sg}const Qy=new Fr(Ct.comparator);function xh(){return Qy}const Jy=new Fr(Ct.comparator);function Gf(){return Jy}const ZE=new Lr(Ct.comparator);function tr(...i){let e=ZE;for(const r of i)e=e.add(r);return e}const Xy=new Lr(_n);function Nh(){return Xy}class Za{constructor(e,r,o,c,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r){const o=new Map;return o.set(e,Pd.createSynthesizedTargetChangeForCurrentChange(e,r)),new Za(rn.min(),o,Nh(),_a(),tr())}}class Pd{constructor(e,r,o,c,f){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r){return new Pd(di.EMPTY_BYTE_STRING,r,tr(),tr(),tr())}}class Mh{constructor(e,r,o,c){this.$=e,this.removedTargetIds=r,this.key=o,this.F=c}}class e_{constructor(e,r){this.targetId=e,this.O=r}}class Ph{constructor(e,r,o=di.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=c}}class t_{constructor(){this.M=0,this.L=xg(),this.B=di.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=tr(),r=tr(),o=tr();return this.L.forEach((c,f)=>{switch(f){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:o=o.add(c);break;default:bt()}}),new Pd(this.B,this.U,e,r,o)}H(){this.q=!1,this.L=xg()}J(e,r){this.q=!0,this.L=this.L.insert(e,r)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class n_{constructor(e){this.et=e,this.nt=new Map,this.st=_a(),this.it=Rg(),this.rt=new Lr(_n)}ot(e){for(const r of e.$)e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F);for(const r of e.removedTargetIds)this.ct(r,e.key,e.F)}ut(e){this.forEachTarget(e,r=>{const o=this.ht(r);switch(e.state){case 0:this.lt(r)&&o.W(e.resumeToken);break;case 1:o.Z(),o.K||o.H(),o.W(e.resumeToken);break;case 2:o.Z(),o.K||this.removeTarget(r);break;case 3:this.lt(r)&&(o.tt(),o.W(e.resumeToken));break;case 4:this.lt(r)&&(this.ft(r),o.W(e.resumeToken));break;default:bt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.nt.forEach((o,c)=>{this.lt(c)&&r(c)})}dt(e){const r=e.targetId,o=e.O.count,c=this.wt(r);if(c){const f=c.target;if(Rd(f))if(0===o){const y=new Ct(f.path);this.ct(r,y,$t.newNoDocument(y,rn.min()))}else jt(1===o);else this._t(r)!==o&&(this.ft(r),this.rt=this.rt.add(r))}}gt(e){const r=new Map;this.nt.forEach((f,y)=>{const b=this.wt(y);if(b){if(f.current&&Rd(b.target)){const O=new Ct(b.target.path);null!==this.st.get(O)||this.yt(y,O)||this.ct(y,O,$t.newNoDocument(O,e))}f.j&&(r.set(y,f.G()),f.H())}});let o=tr();this.it.forEach((f,y)=>{let b=!0;y.forEachWhile(O=>{const H=this.wt(O);return!H||2===H.purpose||(b=!1,!1)}),b&&(o=o.add(f))});const c=new Za(e,r,this.rt,this.st,o);return this.st=_a(),this.it=Rg(),this.rt=new Lr(_n),c}at(e,r){if(!this.lt(e))return;const o=this.yt(e,r.key)?2:0;this.ht(e).J(r.key,o),this.st=this.st.insert(r.key,r),this.it=this.it.insert(r.key,this.Tt(r.key).add(e))}ct(e,r,o){if(!this.lt(e))return;const c=this.ht(e);this.yt(e,r)?c.J(r,1):c.Y(r),this.it=this.it.insert(r,this.Tt(r).delete(e)),o&&(this.st=this.st.insert(r,o))}removeTarget(e){this.nt.delete(e)}_t(e){const r=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let r=this.nt.get(e);return r||(r=new t_,this.nt.set(e,r)),r}Tt(e){let r=this.it.get(e);return r||(r=new Lr(_n),this.it=this.it.insert(e,r)),r}lt(e){const r=null!==this.wt(e);return r||nt("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.nt.get(e);return r&&r.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new t_),this.et.getRemoteKeysForTarget(e).forEach(r=>{this.ct(e,r,null)})}yt(e,r){return this.et.getRemoteKeysForTarget(e).has(r)}}function Rg(){return new Fr(Ct.comparator)}function xg(){return new Fr(Ct.comparator)}const Ng={asc:"ASCENDING",desc:"DESCENDING"},r_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zf{constructor(e,r){this.databaseId=e,this.C=r}}function tl(i,e){return i.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mg(i,e){return i.C?e.toBase64():e.toUint8Array()}function Pg(i,e){return tl(i,e.toTimestamp())}function Vi(i){return jt(!!i),rn.fromTimestamp(function(e){const r=ga(e);return new xr(r.seconds,r.nanos)}(i))}function Oh(i,e){return(r=i,new Pn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Od(i){const e=Pn.fromString(i);return jt(Lh(e)),e}function kh(i,e){return Oh(i.databaseId,e.path)}function Ya(i,e){const r=Od(e);if(r.get(1)!==i.databaseId.projectId)throw new Ke(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ke(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Ct(Kf(r))}function Og(i,e){return Oh(i.databaseId,e)}function i_(i){const e=Od(i);return 4===e.length?Pn.emptyPath():Kf(e)}function kd(i){return new Pn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Kf(i){return jt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function kg(i,e,r){return{name:kh(i,e),fields:r.value.mapValue.fields}}function YE(i,e,r){const o=Ya(i,e.name),c=Vi(e.updateTime),f=new bi({mapValue:{fields:e.fields}}),y=$t.newFoundDocument(o,c,f);return r&&y.setHasCommittedMutations(),r?y.setHasCommittedMutations():y}function Fh(i,e){let r;if(e instanceof qe)r={update:kg(i,e.key,e.value)};else if(e instanceof Os)r={delete:kh(i,e.key)};else if(e instanceof ht)r={update:kg(i,e.key,e.data),updateMask:f_(e.fieldMask)};else{if(!(e instanceof pc))return bt();r={verify:kh(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(c,f){const y=f.transform;if(y instanceof fc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof hs)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ka)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof qa)return{fieldPath:f.field.canonicalString(),increment:y.N};throw bt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Pg(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:bt()),r;var c}function o_(i,e){const r=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?d.updateTime(Vi(c.updateTime)):void 0!==c.exists?d.exists(c.exists):d.none():d.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(f,y){let b=null;"setToServerValue"in y?(jt("REQUEST_TIME"===y.setToServerValue),b=new fc):"appendMissingElements"in y?b=new hs(y.appendMissingElements.values||[]):"removeAllFromArray"in y?b=new Ka(y.removeAllFromArray.values||[]):"increment"in y?b=new qa(f,y.increment):bt();const O=Li.fromServerFormat(y.fieldPath);return new zl(O,b)}(i,c)):[];var c;if(e.update){const c=Ya(i,e.update.name),f=new bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new Su((e.updateMask.fieldPaths||[]).map(H=>Li.fromServerFormat(H)));return new ht(c,f,y,r,o)}return new qe(c,f,r,o)}if(e.delete){const c=Ya(i,e.delete);return new Os(c,r)}if(e.verify){const c=Ya(i,e.verify);return new pc(c,r)}return bt()}function va(i,e){return{documents:[Og(i,e.path)]}}function a_(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=Og(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=Og(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(b){if(0===b.length)return;const O=b.map(H=>function(Z){if("=="===Z.op){if(Ch(Z.value))return{unaryFilter:{field:Fd(Z.field),op:"IS_NAN"}};if(Of(Z.value))return{unaryFilter:{field:Fd(Z.field),op:"IS_NULL"}}}else if("!="===Z.op){if(Ch(Z.value))return{unaryFilter:{field:Fd(Z.field),op:"IS_NOT_NAN"}};if(Of(Z.value))return{unaryFilter:{field:Fd(Z.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fd(Z.field),op:e0(Z.op),value:Z.value}}}(H));return 1===O.length?O[0]:{compositeFilter:{op:"AND",filters:O}}}(e.filters);c&&(r.structuredQuery.where=c);const f=function(b){if(0!==b.length)return b.map(O=>{return{field:Fd((H=O).field),direction:d_(H.dir)};var H})}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const y=(O=e.limit,i.C||xu(O)?O:{value:O});var O;return null!==y&&(r.structuredQuery.limit=y),e.startAt&&(r.structuredQuery.startAt=c_(e.startAt)),e.endAt&&(r.structuredQuery.endAt=c_(e.endAt)),r}function Fg(i){let e=i_(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let c=null;if(o>0){jt(1===o);const Z=r.from[0];Z.allDescendants?c=Z.collectionId:e=e.child(Z.collectionId)}let f=[];r.where&&(f=u_(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(Z=>{return new Nu(Ld((ue=Z).field),function(De){switch(De){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ue.direction));var ue}));let b=null;r.limit&&(b=function(Z){let ue;return ue="object"==typeof Z?Z.value:Z,xu(ue)?null:ue}(r.limit));let O=null;r.startAt&&(O=l_(r.startAt));let H=null;return r.endAt&&(H=l_(r.endAt)),$l(e,c,y,f,b,"F",O,H)}function u_(i){return i?void 0!==i.unaryFilter?[h_(i)]:void 0!==i.fieldFilter?[sn(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>u_(e)).reduce((e,r)=>e.concat(r)):bt():[]}function c_(i){return{before:i.before,values:i.position}}function l_(i){return new ti(i.values||[],!!i.before)}function d_(i){return Ng[i]}function e0(i){return r_[i]}function Fd(i){return{fieldPath:i.canonicalString()}}function Ld(i){return Li.fromServerFormat(i.fieldPath)}function sn(i){return Ci.create(Ld(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(i.fieldFilter.op),i.fieldFilter.value)}function h_(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ld(i.unaryFilter.field);return Ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Ld(i.unaryFilter.field);return Ci.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ld(i.unaryFilter.field);return Ci.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ld(i.unaryFilter.field);return Ci.create(c,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}function f_(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Lh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function hi(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=g_(e)),e=p_(i.get(r),e);return g_(e)}function p_(i,e){let r=e;const o=i.length;for(let c=0;c<o;c++){const f=i.charAt(c);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function g_(i){return i+"\x01\x01"}function Qa(i){const e=i.length;if(jt(e>=2),2===e)return jt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Pn.emptyPath();const r=e-2,o=[];let c="";for(let f=0;f<e;){const y=i.indexOf("\x01",f);switch((y<0||y>r)&&bt(),i.charAt(y+1)){case"\x01":const b=i.substring(f,y);let O;0===c.length?O=b:(c+=b,O=c,c=""),o.push(O);break;case"\x10":c+=i.substring(f,y),c+="\0";break;case"\x11":c+=i.substring(f,y+1);break;default:bt()}f=y+2}return new Pn(o)}class gc{constructor(e,r){this.seconds=e,this.nanoseconds=r}}class so{constructor(e,r,o){this.ownerId=e,this.allowTabSynchronization=r,this.leaseTimestampMs=o}}so.store="owner",so.key="owner";class mc{constructor(e,r,o){this.userId=e,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o}}mc.store="mutationQueues",mc.keyPath="userId";class fr{constructor(e,r,o,c,f){this.userId=e,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=c,this.mutations=f}}fr.store="mutations",fr.keyPath="batchId",fr.userMutationsIndex="userMutationsIndex",fr.userMutationsKeyPath=["userId","batchId"];class oo{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,r){return[e,hi(r)]}static key(e,r,o){return[e,hi(r),o]}}oo.store="documentMutations",oo.PLACEHOLDER=new oo;class m_{constructor(e,r){this.path=e,this.readTime=r}}class JI{constructor(e,r){this.path=e,this.version=r}}class qn{constructor(e,r,o,c,f,y){this.unknownDocument=e,this.noDocument=r,this.document=o,this.hasCommittedMutations=c,this.readTime=f,this.parentPath=y}}qn.store="remoteDocuments",qn.readTimeIndex="readTimeIndex",qn.readTimeIndexPath="readTime",qn.collectionReadTimeIndex="collectionReadTimeIndex",qn.collectionReadTimeIndexPath=["parentPath","readTime"];class Go{constructor(e){this.byteSize=e}}Go.store="remoteDocumentGlobal",Go.key="remoteDocumentGlobalKey";class fs{constructor(e,r,o,c,f,y,b){this.targetId=e,this.canonicalId=r,this.readTime=o,this.resumeToken=c,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=y,this.query=b}}fs.store="targets",fs.keyPath="targetId",fs.queryTargetsIndexName="queryTargetsIndex",fs.queryTargetsKeyPath=["canonicalId","targetId"];class Ui{constructor(e,r,o){this.targetId=e,this.path=r,this.sequenceNumber=o}}Ui.store="targetDocuments",Ui.keyPath=["targetId","path"],Ui.documentTargetsIndex="documentTargetsIndex",Ui.documentTargetsKeyPath=["path","targetId"];class Ea{constructor(e,r,o,c){this.highestTargetId=e,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=c}}Ea.key="targetGlobalKey",Ea.store="targetGlobal";class ql{constructor(e,r){this.collectionId=e,this.parent=r}}ql.store="collectionParents",ql.keyPath=["collectionId","parent"];class Ou{constructor(e,r,o,c){this.clientId=e,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=c}}Ou.store="clientMetadata",Ou.keyPath="clientId";class Vh{constructor(e,r,o){this.bundleId=e,this.createTime=r,this.version=o}}Vh.store="bundles",Vh.keyPath="bundleId";class Vd{constructor(e,r,o){this.name=e,this.readTime=r,this.bundledQuery=o}}Vd.store="namedQueries",Vd.keyPath="name";const XI=[mc.store,fr.store,oo.store,qn.store,fs.store,so.store,Ea.store,Ui.store,Ou.store,Go.store,ql.store,Vh.store,Vd.store],Lg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ze((o,c)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,c)},this.catchCallback=f=>{this.wrapFailure(r,f).next(o,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ze?r:Ze.resolve(r)}catch(r){return Ze.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ze.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ze.reject(r)}static resolve(e){return new Ze((r,o)=>{r(e)})}static reject(e){return new Ze((r,o)=>{o(e)})}static waitFor(e){return new Ze((r,o)=>{let c=0,f=0,y=!1;e.forEach(b=>{++c,b.next(()=>{++f,y&&f===c&&r()},O=>o(O))}),y=!0,f===c&&r()})}static or(e){let r=Ze.resolve(!1);for(const o of e)r=r.next(c=>c?Ze.resolve(c):o());return r}static forEach(e,r){const o=[];return e.forEach((c,f)=>{o.push(r.call(this,c,f))}),this.waitFor(o)}}class Ud{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.It=new Rr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{r.error?this.It.reject(new qf(e,r.error)):this.It.resolve()},this.transaction.onerror=o=>{const c=y_(o.target.error);this.It.reject(new qf(e,c))}}static open(e,r,o,c){try{return new Ud(r,e.transaction(c,o))}catch(f){throw new qf(r,f)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const r=this.transaction.objectStore(e);return new tb(r)}}class ku{constructor(e,r,o){this.name=e,this.version=r,this.Rt=o,12.2===ku.Pt((0,Yt.z$)())&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return nt("SimpleDb","Removing database:",e),Bd(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Yt.hl)())return!1;if(ku.vt())return!0;const e=(0,Yt.z$)(),r=ku.Pt(e),o=0<r&&r<10,c=ku.Vt(e),f=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,r){return e.store(r)}static Pt(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Vt(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Ct(e){var r=this;return(0,Oe.Z)(function*(){return r.db||(nt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,c)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=y=>{o(y.target.result)},f.onblocked=()=>{c(new qf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=y=>{const b=y.target.error;c("VersionError"===b.name?new Ke(Ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Ke(Ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new qf(e,b))},f.onupgradeneeded=y=>{nt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.Rt.Nt(y.target.result,f.transaction,y.oldVersion,r.version).next(()=>{nt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.kt&&(r.db.onversionchange=o=>r.kt(o)),r.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,c){var f=this;return(0,Oe.Z)(function*(){const y="readonly"===r;let b=0;for(;;){++b;try{f.db=yield f.Ct(e);const O=Ud.open(f.db,e,y?"readonly":"readwrite",o),H=c(O).catch(Z=>(O.abort(Z),Ze.reject(Z))).toPromise();return H.catch(()=>{}),yield O.At,H}catch(O){const H="FirebaseError"!==O.name&&b<3;if(nt("SimpleDb","Transaction failed with error:",O.message,"Retrying:",H),f.close(),!H)return Promise.reject(O)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eb{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return Bd(this.$t.delete())}}class qf extends Ke{constructor(e,r){super(Ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function jd(i){return"IndexedDbTransactionError"===i.name}class tb{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(nt("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Bd(o)}add(e){return nt("SimpleDb","ADD",this.store.name,e,e),Bd(this.store.add(e))}get(e){return Bd(this.store.get(e)).next(r=>(void 0===r&&(r=null),nt("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return nt("SimpleDb","DELETE",this.store.name,e),Bd(this.store.delete(e))}count(){return nt("SimpleDb","COUNT",this.store.name),Bd(this.store.count())}Bt(e,r){const o=this.cursor(this.options(e,r)),c=[];return this.Ut(o,(f,y)=>{c.push(y)}).next(()=>c)}qt(e,r){nt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.Kt=!1;const c=this.cursor(o);return this.Ut(c,(f,y,b)=>b.delete())}jt(e,r){let o;r?o=e:(o={},r=e);const c=this.cursor(o);return this.Ut(c,r)}Qt(e){const r=this.cursor({});return new Ze((o,c)=>{r.onerror=f=>{const y=y_(f.target.error);c(y)},r.onsuccess=f=>{const y=f.target.result;y?e(y.primaryKey,y.value).next(b=>{b?y.continue():o()}):o()}})}Ut(e,r){const o=[];return new Ze((c,f)=>{e.onerror=y=>{f(y.target.error)},e.onsuccess=y=>{const b=y.target.result;if(!b)return void c();const O=new eb(b),H=r(b.primaryKey,b.value,O);if(H instanceof Ze){const Z=H.catch(ue=>(O.done(),Ze.reject(ue)));o.push(Z)}O.isDone?c():null===O.Mt?b.continue():b.continue(O.Mt)}}).next(()=>Ze.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.Kt?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Bd(i){return new Ze((e,r)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const c=y_(o.target.error);r(c)}})}let t0=!1;function y_(i){const e=ku.Pt((0,Yt.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const o=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return t0||(t0=!0,setTimeout(()=>{throw o},0)),o}}return i}class n0 extends Vg{constructor(e,r){super(),this.Wt=e,this.currentSequenceNumber=r}}function zo(i,e){const r=ct(i);return ku.Dt(r.Wt,e)}class __{constructor(e,r,o,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(e.key)&&M(f,e,o[c])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&F(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&F(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const o=e.get(r.key),c=o;this.applyToLocalView(c),o.isValidDocument()||c.convertToNoDocument(rn.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),tr())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,(r,o)=>Ie(r,o))&&$c(this.baseMutations,e.baseMutations,(r,o)=>Ie(r,o))}}class Fu{constructor(e,r,o,c){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=c}static from(e,r,o){jt(e.mutations.length===o.length);let c=Gf();const f=e.mutations;for(let y=0;y<f.length;y++)c=c.insert(f[y].key,o[y].version);return new Fu(e,r,o,c)}}class Lu{constructor(e,r,o,c,f=rn.min(),y=rn.min(),b=di.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=b}withSequenceNumber(e){return new Lu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class v_{constructor(e){this.Gt=e}}function Zf(i,e){if(e.document)return YE(i.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const r=Ct.fromSegments(e.noDocument.path),o=Ko(e.noDocument.readTime),c=$t.newNoDocument(r,o);return e.hasCommittedMutations?c.setHasCommittedMutations():c}if(e.unknownDocument){const r=Ct.fromSegments(e.unknownDocument.path),o=Ko(e.unknownDocument.version);return $t.newUnknownDocument(r,o)}return bt()}function Yf(i,e,r){const o=Qf(r),c=e.key.path.popLast().toArray();if(e.isFoundDocument()){const f={name:kh(b=i.Gt,(O=e).key),fields:O.data.value.mapValue.fields,updateTime:tl(b,O.version.toTimestamp())};return new qn(null,null,f,e.hasCommittedMutations,o,c)}var b,O;if(e.isNoDocument()){const f=e.key.path.toArray(),y=$d(e.version),b=e.hasCommittedMutations;return new qn(null,new m_(f,y),null,b,o,c)}if(e.isUnknownDocument()){const f=e.key.path.toArray(),y=$d(e.version);return new qn(new JI(f,y),null,null,!0,o,c)}return bt()}function Qf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Jf(i){const e=new xr(i[0],i[1]);return rn.fromTimestamp(e)}function $d(i){const e=i.toTimestamp();return new gc(e.seconds,e.nanoseconds)}function Ko(i){const e=new xr(i.seconds,i.nanoseconds);return rn.fromTimestamp(e)}function Zl(i,e){const r=(e.baseMutations||[]).map(f=>o_(i.Gt,f));for(let f=0;f<e.mutations.length-1;++f){const y=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(y.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>o_(i.Gt,f)),c=xr.fromMillis(e.localWriteTimeMs);return new __(e.batchId,c,r,o)}function Uh(i){const e=Ko(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Ko(i.lastLimboFreeSnapshotVersion):rn.min();let o;var c;return void 0!==i.query.documents?(jt(1===(c=i.query).documents.length),o=io(Mu(i_(c.documents[0])))):o=io(Fg(i.query)),new Lu(o,i.targetId,0,i.lastListenSequenceNumber,e,r,di.fromBase64String(i.resumeToken))}function r0(i,e){const r=$d(e.snapshotVersion),o=$d(e.lastLimboFreeSnapshotVersion);let c;c=Rd(e.target)?va(i.Gt,e.target):a_(i.Gt,e.target);const f=e.resumeToken.toBase64();return new fs(e.targetId,Ha(e.target),r,f,e.sequenceNumber,o,c)}function jh(i){const e=Fg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Nd(e,e.limit,"L"):e}class s0{getBundleMetadata(e,r){return Ug(e).get(r).next(o=>{if(o)return{id:(c=o).bundleId,createTime:Ko(c.createTime),version:c.version};var c})}saveBundleMetadata(e,r){return Ug(e).put({bundleId:(o=r).id,createTime:$d(Vi(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return E_(e).get(r).next(o=>{if(o)return{name:(c=o).name,query:jh(c.bundledQuery),readTime:Ko(c.readTime)};var c})}saveNamedQuery(e,r){return E_(e).put({name:(o=r).name,readTime:$d(Vi(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Ug(i){return zo(i,Vh.store)}function E_(i){return zo(i,Vd.store)}class o0{constructor(){this.zt=new Yl}addToCollectionParentIndex(e,r){return this.zt.add(r),Ze.resolve()}getCollectionParents(e,r){return Ze.resolve(this.zt.getEntries(r))}}class Yl{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r]||new Lr(Pn.comparator),f=!c.has(o);return this.index[r]=c.add(o),f}has(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r];return c&&c.has(o)}getEntries(e){return(this.index[e]||new Lr(Pn.comparator)).toArray()}}class Hd{constructor(){this.Ht=new Yl}addToCollectionParentIndex(e,r){if(!this.Ht.has(r)){const o=r.lastSegment(),c=r.popLast();e.addOnCommittedListener(()=>{this.Ht.add(r)});const f={collectionId:o,parent:hi(c)};return Xf(e).put(f)}return Ze.resolve()}getCollectionParents(e,r){const o=[],c=IDBKeyRange.bound([r,""],[pa(r),""],!1,!0);return Xf(e).Bt(c).next(f=>{for(const y of f){if(y.collectionId!==r)break;o.push(Qa(y.parent))}return o})}}function Xf(i){return zo(i,ql.store)}const Ql={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yi{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Yi(e,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jl(i,e,r){const o=i.store(fr.store),c=i.store(oo.store),f=[],y=IDBKeyRange.only(r.batchId);let b=0;const O=o.jt({range:y},(Z,ue,De)=>(b++,De.delete()));f.push(O.next(()=>{jt(1===b)}));const H=[];for(const Z of r.mutations){const ue=oo.key(e,Z.key.path,r.batchId);f.push(c.delete(ue)),H.push(Z.key)}return Ze.waitFor(f).next(()=>H)}function ep(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw bt();e=i.noDocument}return JSON.stringify(e).length}Yi.DEFAULT_COLLECTION_PERCENTILE=10,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yi.DEFAULT=new Yi(41943040,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yi.DISABLED=new Yi(-1,0,0);class tp{constructor(e,r,o,c){this.userId=e,this.k=r,this.Jt=o,this.referenceDelegate=c,this.Yt={}}static Xt(e,r,o,c){jt(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new tp(f,r,o,c)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).jt({index:fr.userMutationsIndex,range:o},(c,f,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(e,r,o,c){const f=nl(e),y=Vu(e);return y.add({}).next(b=>{jt("number"==typeof b);const O=new __(b,r,o,c),H=function(De,We,Ye){const _t=Ye.baseMutations.map(mr=>Fh(De.Gt,mr)),Bt=Ye.mutations.map(mr=>Fh(De.Gt,mr));return new fr(We,Ye.batchId,Ye.localWriteTime.toMillis(),_t,Bt)}(this.k,this.userId,O),Z=[];let ue=new Lr((De,We)=>_n(De.canonicalString(),We.canonicalString()));for(const De of c){const We=oo.key(this.userId,De.key.path,b);ue=ue.add(De.key.path.popLast()),Z.push(y.put(H)),Z.push(f.put(We,oo.PLACEHOLDER))}return ue.forEach(De=>{Z.push(this.Jt.addToCollectionParentIndex(e,De))}),e.addOnCommittedListener(()=>{this.Yt[b]=O.keys()}),Ze.waitFor(Z).next(()=>O)})}lookupMutationBatch(e,r){return Vu(e).get(r).next(o=>o?(jt(o.userId===this.userId),Zl(this.k,o)):null)}Zt(e,r){return this.Yt[r]?Ze.resolve(this.Yt[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const c=o.keys();return this.Yt[r]=c,c}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,c=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Vu(e).jt({index:fr.userMutationsIndex,range:c},(y,b,O)=>{b.userId===this.userId&&(jt(b.batchId>=o),f=Zl(this.k,b)),O.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Vu(e).jt({index:fr.userMutationsIndex,range:r,reverse:!0},(c,f,y)=>{o=f.batchId,y.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).Bt(fr.userMutationsIndex,r).next(o=>o.map(c=>Zl(this.k,c)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=oo.prefixForPath(this.userId,r.path),c=IDBKeyRange.lowerBound(o),f=[];return nl(e).jt({range:c},(y,b,O)=>{const[H,Z,ue]=y,De=Qa(Z);if(H===this.userId&&r.path.isEqual(De))return Vu(e).get(ue).next(We=>{if(!We)throw bt();jt(We.userId===this.userId),f.push(Zl(this.k,We))});O.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Lr(_n);const c=[];return r.forEach(f=>{const y=oo.prefixForPath(this.userId,f.path),b=IDBKeyRange.lowerBound(y),O=nl(e).jt({range:b},(H,Z,ue)=>{const[De,We,Ye]=H,_t=Qa(We);De===this.userId&&f.path.isEqual(_t)?o=o.add(Ye):ue.done()});c.push(O)}),Ze.waitFor(c).next(()=>this.te(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1,f=oo.prefixForPath(this.userId,o),y=IDBKeyRange.lowerBound(f);let b=new Lr(_n);return nl(e).jt({range:y},(O,H,Z)=>{const[ue,De,We]=O,Ye=Qa(De);ue===this.userId&&o.isPrefixOf(Ye)?Ye.length===c&&(b=b.add(We)):Z.done()}).next(()=>this.te(e,b))}te(e,r){const o=[],c=[];return r.forEach(f=>{c.push(Vu(e).get(f).next(y=>{if(null===y)throw bt();jt(y.userId===this.userId),o.push(Zl(this.k,y))}))}),Ze.waitFor(c).next(()=>o)}removeMutationBatch(e,r){return Jl(e.Wt,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.ee(r.batchId)}),Ze.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Ze.resolve();const o=IDBKeyRange.lowerBound(oo.prefixForUser(this.userId)),c=[];return nl(e).jt({range:o},(f,y,b)=>{if(f[0]===this.userId){const O=Qa(f[1]);c.push(O)}else b.done()}).next(()=>{jt(0===c.length)})})}containsKey(e,r){return jg(e,this.userId,r)}ne(e){return Bg(e).get(this.userId).next(r=>r||new mc(this.userId,-1,""))}}function jg(i,e,r){const o=oo.prefixForPath(e,r.path),c=o[1],f=IDBKeyRange.lowerBound(o);let y=!1;return nl(i).jt({range:f,Kt:!0},(b,O,H)=>{const[Z,ue,De]=b;Z===e&&ue===c&&(y=!0),H.done()}).next(()=>y)}function Vu(i){return zo(i,fr.store)}function nl(i){return zo(i,oo.store)}function Bg(i){return zo(i,mc.store)}class Uu{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Uu(0)}static re(){return new Uu(-1)}}class a0{constructor(e,r){this.referenceDelegate=e,this.k=r}allocateTargetId(e){return this.oe(e).next(r=>{const o=new Uu(r.highestTargetId);return r.highestTargetId=o.next(),this.ae(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(r=>rn.fromTimestamp(new xr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.oe(e).next(c=>(c.highestListenSequenceNumber=r,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.ae(e,c)))}addTargetData(e,r){return this.ce(e,r).next(()=>this.oe(e).next(o=>(o.targetCount+=1,this.ue(r,o),this.ae(e,o))))}updateTargetData(e,r){return this.ce(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Xl(e).delete(r.targetId)).next(()=>this.oe(e)).next(o=>(jt(o.targetCount>0),o.targetCount-=1,this.ae(e,o)))}removeTargets(e,r,o){let c=0;const f=[];return Xl(e).jt((y,b)=>{const O=Uh(b);O.sequenceNumber<=r&&null===o.get(O.targetId)&&(c++,f.push(this.removeTargetData(e,O)))}).next(()=>Ze.waitFor(f)).next(()=>c)}forEachTarget(e,r){return Xl(e).jt((o,c)=>{const f=Uh(c);r(f)})}oe(e){return u0(e).get(Ea.key).next(r=>(jt(null!==r),r))}ae(e,r){return u0(e).put(Ea.key,r)}ce(e,r){return Xl(e).put(r0(this.k,r))}ue(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.oe(e).next(r=>r.targetCount)}getTargetData(e,r){const o=Ha(r),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Xl(e).jt({range:c,index:fs.queryTargetsIndexName},(y,b,O)=>{const H=Uh(b);Sd(r,H.target)&&(f=H,O.done())}).next(()=>f)}addMatchingKeys(e,r,o){const c=[],f=yc(e);return r.forEach(y=>{const b=hi(y.path);c.push(f.put(new Ui(o,b))),c.push(this.referenceDelegate.addReference(e,o,y))}),Ze.waitFor(c)}removeMatchingKeys(e,r,o){const c=yc(e);return Ze.forEach(r,f=>{const y=hi(f.path);return Ze.waitFor([c.delete([o,y]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,r){const o=yc(e),c=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),c=yc(e);let f=tr();return c.jt({range:o,Kt:!0},(y,b,O)=>{const H=Qa(y[1]),Z=new Ct(H);f=f.add(Z)}).next(()=>f)}containsKey(e,r){const o=hi(r.path),c=IDBKeyRange.bound([o],[pa(o)],!1,!0);let f=0;return yc(e).jt({index:Ui.documentTargetsIndex,Kt:!0,range:c},([y,b],O,H)=>{0!==y&&(f++,H.done())}).next(()=>f>0)}Et(e,r){return Xl(e).get(r).next(o=>o?Uh(o):null)}}function Xl(i){return zo(i,fs.store)}function u0(i){return zo(i,Ea.store)}function yc(i){return zo(i,Ui.store)}function rl(i){return $g.apply(this,arguments)}function $g(){return($g=(0,Oe.Z)(function*(i){if(i.code!==Ae.FAILED_PRECONDITION||i.message!==Lg)throw i;nt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Hg([i,e],[r,o]){const c=_n(i,r);return 0===c?_n(e,o):c}class c0{constructor(e){this.he=e,this.buffer=new Lr(Hg),this.le=0}fe(){return++this.le}de(e){const r=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Hg(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class l0{constructor(e,r){this.garbageCollector=e,this.asyncQueue=r,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var r=this;const o=this.we?3e5:6e4;nt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Oe.Z)(function*(){r._e=null,r.we=!0;try{yield e.collectGarbage(r.garbageCollector)}catch(c){jd(c)?nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield rl(c)}yield r.me(e)}))}}class qo{constructor(e,r){this.ge=e,this.params=r}calculateTargetCount(e,r){return this.ge.ye(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return Ze.resolve(no.I);const o=new c0(r);return this.ge.forEachTarget(e,c=>o.de(c.sequenceNumber)).next(()=>this.ge.pe(e,c=>o.de(c))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.ge.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.ge.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(Ql)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ql):this.Te(e,r))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,r){let o,c,f,y,b,O,H;const Z=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ue=>(ue>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ue}`),c=this.params.maximumSequenceNumbersToCollect):c=ue,y=Date.now(),this.nthSequenceNumber(e,c))).next(ue=>(o=ue,b=Date.now(),this.removeTargets(e,o,r))).next(ue=>(f=ue,O=Date.now(),this.removeOrphanedDocuments(e,o))).next(ue=>(H=Date.now(),Au()<=yi.in.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-Z}ms\n\tDetermined least recently used ${c} in `+(b-y)+`ms\n\tRemoved ${f} targets in `+(O-b)+`ms\n\tRemoved ${ue} documents in `+(H-O)+`ms\nTotal Duration: ${H-Z}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:ue})))}}class d0{constructor(e,r){this.db=e,this.garbageCollector=new qo(this,r)}ye(e){const r=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(c=>o+c))}Ee(e){let r=0;return this.pe(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}pe(e,r){return this.Ie(e,(o,c)=>r(c))}addReference(e,r,o){return np(e,o)}removeReference(e,r,o){return np(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return np(e,r)}Ae(e,r){return function(o,c){let f=!1;return Bg(o).Qt(y=>jg(o,y,c).next(b=>(b&&(f=!0),Ze.resolve(!b)))).next(()=>f)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let f=0;return this.Ie(e,(y,b)=>{if(b<=r){const O=this.Ae(e,y).next(H=>{if(!H)return f++,o.getEntry(e,y).next(()=>(o.removeEntry(y),yc(e).delete([0,hi(y.path)])))});c.push(O)}}).next(()=>Ze.waitFor(c)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return np(e,r)}Ie(e,r){const o=yc(e);let c,f=no.I;return o.jt({index:Ui.documentTargetsIndex},([y,b],{path:O,sequenceNumber:H})=>{0===y?(f!==no.I&&r(new Ct(Qa(c)),f),f=H,c=O):f=no.I}).next(()=>{f!==no.I&&r(new Ct(Qa(c)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function np(i,e){return yc(i).put((o=i.currentSequenceNumber,new Ui(0,hi(e.path),o)));var o}class Bh{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={}}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[c,f]of o)if(this.equalsFn(c,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0!==c){for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return void(c[f]=[e,r]);c.push([e,r])}else this.inner[o]=[[e,r]]}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[r]:o.splice(c,1),!0;return!1}forEach(e){ac(this.inner,(r,o)=>{for(const[c,f]of o)e(c,f)})}isEmpty(){return Mf(this.inner)}}class h0{constructor(){this.changes=new Bh(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}getReadTime(e){const r=this.changes.get(e);return r?r.readTime:rn.min()}addEntry(e,r){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:r})}removeEntry(e,r=null){this.assertNotApplied(),this.changes.set(e,{document:$t.newInvalidDocument(e),readTime:r})}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Ze.resolve(o.document):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class w_{constructor(e,r){this.k=e,this.Jt=r}addEntry(e,r,o){return ju(e).put($h(r),o)}removeEntry(e,r){const o=ju(e),c=$h(r);return o.delete(c)}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.Re(e,o)))}getEntry(e,r){return ju(e).get($h(r)).next(o=>this.Pe(r,o))}be(e,r){return ju(e).get($h(r)).next(o=>({document:this.Pe(r,o),size:ep(o)}))}getEntries(e,r){let o=_a();return this.ve(e,r,(c,f)=>{const y=this.Pe(c,f);o=o.insert(c,y)}).next(()=>o)}Ve(e,r){let o=_a(),c=new Fr(Ct.comparator);return this.ve(e,r,(f,y)=>{const b=this.Pe(f,y);o=o.insert(f,b),c=c.insert(f,ep(y))}).next(()=>({documents:o,Se:c}))}ve(e,r,o){if(r.isEmpty())return Ze.resolve();const c=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),f=r.getIterator();let y=f.getNext();return ju(e).jt({range:c},(b,O,H)=>{const Z=Ct.fromSegments(b);for(;y&&Ct.comparator(y,Z)<0;)o(y,null),y=f.getNext();y&&y.isEqual(Z)&&(o(y,O),y=f.hasNext()?f.getNext():null),y?H.Lt(y.path.toArray()):H.done()}).next(()=>{for(;y;)o(y,null),y=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,r,o){let c=_a();const f=r.path.length+1,y={};if(o.isEqual(rn.min())){const b=r.path.toArray();y.range=IDBKeyRange.lowerBound(b)}else{const b=r.path.toArray(),O=Qf(o);y.range=IDBKeyRange.lowerBound([b,O],!0),y.index=qn.collectionReadTimeIndex}return ju(e).jt(y,(b,O,H)=>{if(b.length!==f)return;const Z=Zf(this.k,O);r.path.isPrefixOf(Z.key.path)?Wl(r,Z)&&(c=c.insert(Z.key,Z)):H.done()}).next(()=>c)}newChangeBuffer(e){return new nb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return I_(e).get(Go.key).next(r=>(jt(!!r),r))}Re(e,r){return I_(e).put(Go.key,r)}Pe(e,r){if(r){const o=Zf(this.k,r);if(!o.isNoDocument()||!o.version.isEqual(rn.min()))return o}return $t.newInvalidDocument(e)}}class nb extends h0{constructor(e,r){super(),this.De=e,this.trackRemovals=r,this.Ce=new Bh(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const r=[];let o=0,c=new Lr((f,y)=>_n(f.canonicalString(),y.canonicalString()));return this.changes.forEach((f,y)=>{const b=this.Ce.get(f);if(y.document.isValidDocument()){const O=Yf(this.De.k,y.document,this.getReadTime(f));c=c.add(f.path.popLast()),o+=ep(O)-b,r.push(this.De.addEntry(e,f,O))}else if(o-=b,this.trackRemovals){const O=Yf(this.De.k,$t.newNoDocument(f,rn.min()),this.getReadTime(f));r.push(this.De.addEntry(e,f,O))}else r.push(this.De.removeEntry(e,f))}),c.forEach(f=>{r.push(this.De.Jt.addToCollectionParentIndex(e,f))}),r.push(this.De.updateMetadata(e,o)),Ze.waitFor(r)}getFromCache(e,r){return this.De.be(e,r).next(o=>(this.Ce.set(r,o.size),o.document))}getAllFromCache(e,r){return this.De.Ve(e,r).next(({documents:o,Se:c})=>(c.forEach((f,y)=>{this.Ce.set(f,y)}),o))}}function I_(i){return zo(i,Go.store)}function ju(i){return zo(i,qn.store)}function $h(i){return i.path.toArray()}class f0{constructor(e){this.k=e}Nt(e,r,o,c){jt(o<c&&o>=0&&c<=11);const f=new Ud("createOrUpgrade",r);var b;o<1&&c>=1&&(e.createObjectStore(so.store),(b=e).createObjectStore(mc.store,{keyPath:mc.keyPath}),b.createObjectStore(fr.store,{keyPath:fr.keyPath,autoIncrement:!0}).createIndex(fr.userMutationsIndex,fr.userMutationsKeyPath,{unique:!0}),b.createObjectStore(oo.store),b_(e),function(b){b.createObjectStore(qn.store)}(e));let y=Ze.resolve();return o<3&&c>=3&&(0!==o&&(function(b){b.deleteObjectStore(Ui.store),b.deleteObjectStore(fs.store),b.deleteObjectStore(Ea.store)}(e),b_(e)),y=y.next(()=>function(b){const O=b.store(Ea.store),H=new Ea(0,0,rn.min().toTimestamp(),0);return O.put(Ea.key,H)}(f))),o<4&&c>=4&&(0!==o&&(y=y.next(()=>function(b,O){return O.store(fr.store).Bt().next(H=>{b.deleteObjectStore(fr.store),b.createObjectStore(fr.store,{keyPath:fr.keyPath,autoIncrement:!0}).createIndex(fr.userMutationsIndex,fr.userMutationsKeyPath,{unique:!0});const Z=O.store(fr.store),ue=H.map(De=>Z.put(De));return Ze.waitFor(ue)})}(e,f))),y=y.next(()=>{!function(b){b.createObjectStore(Ou.store,{keyPath:Ou.keyPath})}(e)})),o<5&&c>=5&&(y=y.next(()=>this.Ne(f))),o<6&&c>=6&&(y=y.next(()=>(function(b){b.createObjectStore(Go.store)}(e),this.ke(f)))),o<7&&c>=7&&(y=y.next(()=>this.xe(f))),o<8&&c>=8&&(y=y.next(()=>this.$e(e,f))),o<9&&c>=9&&(y=y.next(()=>{(function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")})(e),function(b){const O=b.objectStore(qn.store);O.createIndex(qn.readTimeIndex,qn.readTimeIndexPath,{unique:!1}),O.createIndex(qn.collectionReadTimeIndex,qn.collectionReadTimeIndexPath,{unique:!1})}(r)})),o<10&&c>=10&&(y=y.next(()=>this.Fe(f))),o<11&&c>=11&&(y=y.next(()=>{(function(b){b.createObjectStore(Vh.store,{keyPath:Vh.keyPath})})(e),function(b){b.createObjectStore(Vd.store,{keyPath:Vd.keyPath})}(e)})),y}ke(e){let r=0;return e.store(qn.store).jt((o,c)=>{r+=ep(c)}).next(()=>{const o=new Go(r);return e.store(Go.store).put(Go.key,o)})}Ne(e){const r=e.store(mc.store),o=e.store(fr.store);return r.Bt().next(c=>Ze.forEach(c,f=>{const y=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.Bt(fr.userMutationsIndex,y).next(b=>Ze.forEach(b,O=>{jt(O.userId===f.userId);const H=Zl(this.k,O);return Jl(e,f.userId,H).next(()=>{})}))}))}xe(e){const r=e.store(Ui.store),o=e.store(qn.store);return e.store(Ea.store).get(Ea.key).next(c=>{const f=[];return o.jt((y,b)=>{const O=new Pn(y),H=[0,hi(O)];f.push(r.get(H).next(Z=>Z?Ze.resolve():r.put(new Ui(0,hi(O),c.highestListenSequenceNumber))))}).next(()=>Ze.waitFor(f))})}$e(e,r){e.createObjectStore(ql.store,{keyPath:ql.keyPath});const o=r.store(ql.store),c=new Yl,f=y=>{if(c.add(y)){const b=y.lastSegment(),O=y.popLast();return o.put({collectionId:b,parent:hi(O)})}};return r.store(qn.store).jt({Kt:!0},(y,b)=>{const O=new Pn(y);return f(O.popLast())}).next(()=>r.store(oo.store).jt({Kt:!0},([y,b,O],H)=>{const Z=Qa(b);return f(Z.popLast())}))}Fe(e){const r=e.store(fs.store);return r.jt((o,c)=>{const f=Uh(c),y=r0(this.k,f);return r.put(y)})}}function b_(i){i.createObjectStore(Ui.store,{keyPath:Ui.keyPath}).createIndex(Ui.documentTargetsIndex,Ui.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(fs.store,{keyPath:fs.keyPath}).createIndex(fs.queryTargetsIndexName,fs.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Ea.store)}const Wg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rp{constructor(e,r,o,c,f,y,b,O,H,Z){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.Oe=f,this.window=y,this.document=b,this.Me=H,this.Le=Z,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=ue=>Promise.resolve(),!rp.bt())throw new Ke(Ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new d0(this,c),this.Ge=r+"main",this.k=new v_(O),this.ze=new ku(this.Ge,11,new f0(this.k)),this.He=new a0(this.referenceDelegate,this.k),this.Jt=new Hd,this.Je=new w_(this.k,this.Jt),this.Ye=new s0,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===Z&&ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(Ae.FAILED_PRECONDITION,Wg);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new no(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var r=this;return this.We=function(){var o=(0,Oe.Z)(function*(c){if(r.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var r=(0,Oe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Oe.Z)(function*(){r.started&&(yield r.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Wh(e).put(new Ou(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(r=>this.isPrimary&&!r?this.an(e).next(()=>!1):!!r&&this.cn(e).next(()=>!0))).catch(e=>{if(jd(e))return nt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Hh(e).get(so.key).next(r=>Ze.resolve(this.un(r)))}hn(e){return Wh(e).delete(this.clientId)}ln(){var e=this;return(0,Oe.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=zo(o,Ou.store);return c.Bt().next(f=>{const y=e.dn(f,18e5),b=f.filter(O=>-1===y.indexOf(O));return Ze.forEach(b,O=>c.delete(O.clientId)).next(()=>b)})}).catch(()=>[]);if(e.Xe)for(const o of r)e.Xe.removeItem(e.wn(o.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Ze.resolve(!0):Hh(e).get(so.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)){if(this.un(r)&&this.networkEnabled)return!0;if(!this.un(r)){if(!r.allowTabSynchronization)throw new Ke(Ae.FAILED_PRECONDITION,Wg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wh(e).Bt().next(o=>void 0===this.dn(o,5e3).find(c=>{if(this.clientId!==c.clientId){const y=!this.inForeground&&c.inForeground,b=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||y&&b)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&nt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,Oe.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[so.store,Ou.store],r=>{const o=new n0(r,no.I);return e.an(o).next(()=>e.hn(o))}),e.ze.close(),e.pn()})()}dn(e,r){return e.filter(o=>this.fn(o.updateTimeMs,r)&&!this._n(o.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Wh(e).Bt().next(r=>this.dn(r,18e5).map(o=>o.clientId)))}get started(){return this.Ue}getMutationQueue(e){return tp.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,r,o){let f;return nt("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===r?"readonly":"readwrite",XI,y=>(f=new n0(y,this.Be?this.Be.next():no.I),"readwrite-primary"===r?this.rn(f).next(b=>!!b||this.on(f)).next(b=>{if(!b)throw ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Ke(Ae.FAILED_PRECONDITION,Lg);return o(f)}).next(b=>this.cn(f).next(()=>b)):this.En(f).next(()=>o(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}En(e){return Hh(e).get(so.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)&&!this.un(r)&&!(this.Le||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ke(Ae.FAILED_PRECONDITION,Wg)})}cn(e){const r=new so(this.clientId,this.allowTabSynchronization,Date.now());return Hh(e).put(so.key,r)}static bt(){return ku.bt()}an(e){const r=Hh(e);return r.get(so.key).next(o=>this.un(o)?(nt("IndexedDbPersistence","Releasing primary lease."),r.delete(so.key)):Ze.resolve())}fn(e,r){const o=Date.now();return!(e<o-r||e>o&&(ei(`Detected an update time that is in the future: ${e} > ${o}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var r;try{const o=null!==(null===(r=this.Xe)||void 0===r?void 0:r.getItem(this.wn(e)));return nt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ei("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){ei("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hh(i){return zo(i,so.store)}function Wh(i){return zo(i,Ou.store)}function Gg(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class p0{constructor(e,r){this.progress=e,this.In=r}}class zg{constructor(e,r,o){this.Je=e,this.An=r,this.Jt=o}Rn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKey(e,r).next(o=>this.Pn(e,r,o))}Pn(e,r,o){return this.Je.getEntry(e,r).next(c=>{for(const f of o)f.applyToLocalView(c);return c})}bn(e,r){e.forEach((o,c)=>{for(const f of r)f.applyToLocalView(c)})}vn(e,r){return this.Je.getEntries(e,r).next(o=>this.Vn(e,o).next(()=>o))}Vn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>this.bn(r,o))}getDocumentsMatchingQuery(e,r,o){return Ct.isDocumentKey((c=r).path)&&null===c.collectionGroup&&0===c.filters.length?this.Sn(e,r.path):Pu(r)?this.Dn(e,r,o):this.Cn(e,r,o);var c}Sn(e,r){return this.Rn(e,new Ct(r)).next(o=>{let c=xh();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}Dn(e,r,o){const c=r.collectionGroup;let f=xh();return this.Jt.getCollectionParents(e,c).next(y=>Ze.forEach(y,b=>{const O=(H=r,Z=b.child(c),new ya(Z,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,Z;return this.Cn(e,O,o).next(H=>{H.forEach((Z,ue)=>{f=f.insert(Z,ue)})})}).next(()=>f))}Cn(e,r,o){let c,f;return this.Je.getDocumentsMatchingQuery(e,r,o).next(y=>(c=y,this.An.getAllMutationBatchesAffectingQuery(e,r))).next(y=>(f=y,this.Nn(e,f,c).next(b=>{c=b;for(const O of f)for(const H of O.mutations){const Z=H.key;let ue=c.get(Z);null==ue&&(ue=$t.newInvalidDocument(Z),c=c.insert(Z,ue)),F(H,ue,O.localWriteTime),ue.isFoundDocument()||(c=c.remove(Z))}}))).next(()=>(c.forEach((y,b)=>{Wl(r,b)||(c=c.remove(y))}),c))}Nn(e,r,o){let c=tr();for(const y of r)for(const b of y.mutations)b instanceof ht&&null===o.get(b.key)&&(c=c.add(b.key));let f=o;return this.Je.getEntries(e,c).next(y=>(y.forEach((b,O)=>{O.isFoundDocument()&&(f=f.insert(b,O))}),f))}}class ip{constructor(e,r,o,c){this.targetId=e,this.fromCache=r,this.kn=o,this.xn=c}static $n(e,r){let o=tr(),c=tr();for(const f of r.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new ip(e,r.fromCache,o,c)}}class C_{Fn(e){this.On=e}getDocumentsMatchingQuery(e,r,o,c){return 0===(f=r).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(rn.min())?this.Mn(e,r):this.On.vn(e,c).next(f=>{const y=this.Ln(r,f);return(Zc(r)||xd(r))&&this.Bn(r.limitType,y,c,o)?this.Mn(e,r):(Au()<=yi.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),dc(r)),this.On.getDocumentsMatchingQuery(e,r,o).next(b=>(y.forEach(O=>{b=b.insert(O.key,O)}),b)))});var f}Ln(e,r){let o=new Lr(za(e));return r.forEach((c,f)=>{Wl(e,f)&&(o=o.add(f))}),o}Bn(e,r,o,c){if(o.size!==r.size)return!0;const f="F"===e?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}Mn(e,r){return Au()<=yi.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",dc(r)),this.On.getDocumentsMatchingQuery(e,r,rn.min())}}class Bu{constructor(e,r,o,c){this.persistence=e,this.Un=r,this.k=c,this.qn=new Fr(_n),this.Kn=new Bh(f=>Ha(f),Sd),this.jn=rn.min(),this.An=e.getMutationQueue(o),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new zg(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qn))}}function sp(i,e,r,o){return new Bu(i,e,r,o)}function D_(i,e){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,Oe.Z)(function*(i,e){const r=ct(i);let o=r.An,c=r.Wn;const f=yield r.persistence.runTransaction("Handle user change","readonly",y=>{let b;return r.An.getAllMutationBatches(y).next(O=>(b=O,o=r.persistence.getMutationQueue(e),c=new zg(r.Qn,o,r.persistence.getIndexManager()),o.getAllMutationBatches(y))).next(O=>{const H=[],Z=[];let ue=tr();for(const De of b){H.push(De.batchId);for(const We of De.mutations)ue=ue.add(We.key)}for(const De of O){Z.push(De.batchId);for(const We of De.mutations)ue=ue.add(We.key)}return c.vn(y,ue).next(De=>({Gn:De,removedBatchIds:H,addedBatchIds:Z}))})});return r.An=o,r.Wn=c,r.Un.Fn(r.Wn),f})).apply(this,arguments)}function rb(i,e){const r=ct(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),f=r.Qn.newChangeBuffer({trackRemovals:!0});return function(y,b,O,H){const Z=O.batch,ue=Z.keys();let De=Ze.resolve();return ue.forEach(We=>{De=De.next(()=>H.getEntry(b,We)).next(Ye=>{const _t=O.docVersions.get(We);jt(null!==_t),Ye.version.compareTo(_t)<0&&(Z.applyToRemoteDocument(Ye,O),Ye.isValidDocument()&&H.addEntry(Ye,O.commitVersion))})}),De.next(()=>y.An.removeMutationBatch(b,Z))}(r,o,e,f).next(()=>f.apply(o)).next(()=>r.An.performConsistencyCheck(o)).next(()=>r.Wn.vn(o,c))})}function qg(i){const e=ct(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.He.getLastRemoteSnapshotVersion(r))}function g0(i,e){const r=ct(i),o=e.snapshotVersion;let c=r.qn;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const y=r.Qn.newChangeBuffer({trackRemovals:!0});c=r.qn;const b=[];e.targetChanges.forEach((H,Z)=>{const ue=c.get(Z);if(!ue)return;b.push(r.He.removeMatchingKeys(f,H.removedDocuments,Z).next(()=>r.He.addMatchingKeys(f,H.addedDocuments,Z)));const De=H.resumeToken;if(De.approximateByteSize()>0){const We=ue.withResumeToken(De,o).withSequenceNumber(f.currentSequenceNumber);c=c.insert(Z,We),Ye=ue,Bt=H,jt((_t=We).resumeToken.approximateByteSize()>0),(0===Ye.resumeToken.approximateByteSize()||_t.snapshotVersion.toMicroseconds()-Ye.snapshotVersion.toMicroseconds()>=3e8||Bt.addedDocuments.size+Bt.modifiedDocuments.size+Bt.removedDocuments.size>0)&&b.push(r.He.updateTargetData(f,We))}var Ye,_t,Bt});let O=_a();if(e.documentUpdates.forEach((H,Z)=>{e.resolvedLimboDocuments.has(H)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(f,H))}),b.push(T_(f,y,e.documentUpdates,o,void 0).next(H=>{O=H})),!o.isEqual(rn.min())){const H=r.He.getLastRemoteSnapshotVersion(f).next(Z=>r.He.setTargetsMetadata(f,f.currentSequenceNumber,o));b.push(H)}return Ze.waitFor(b).next(()=>y.apply(f)).next(()=>r.Wn.Vn(f,O)).next(()=>O)}).then(f=>(r.qn=c,f))}function T_(i,e,r,o,c){let f=tr();return r.forEach(y=>f=f.add(y)),e.getEntries(i,f).next(y=>{let b=_a();return r.forEach((O,H)=>{const Z=y.get(O),ue=(null==c?void 0:c.get(O))||o;H.isNoDocument()&&H.version.isEqual(rn.min())?(e.removeEntry(O,ue),b=b.insert(O,H)):!Z.isValidDocument()||H.version.compareTo(Z.version)>0||0===H.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(H,ue),b=b.insert(O,H)):nt("LocalStore","Ignoring outdated watch update for ",O,". Current version:",Z.version," Watch version:",H.version)}),b})}function m0(i,e){const r=ct(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.An.getNextMutationBatchAfterBatchId(o,e)))}function il(i,e){const r=ct(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return r.He.getTargetData(o,e).next(f=>f?(c=f,Ze.resolve(c)):r.He.allocateTargetId(o).next(y=>(c=new Lu(e,y,0,o.currentSequenceNumber),r.He.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=r.qn.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.qn=r.qn.insert(o.targetId,o),r.Kn.set(e,o.targetId)),o})}function Wd(i,e,r){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,Oe.Z)(function*(i,e,r){const o=ct(i),c=o.qn.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",f,y=>o.persistence.referenceDelegate.removeTarget(y,c)))}catch(y){if(!jd(y))throw y;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.qn=o.qn.remove(e),o.Kn.delete(c.target)})).apply(this,arguments)}function ed(i,e,r){const o=ct(i);let c=rn.min(),f=tr();return o.persistence.runTransaction("Execute query","readonly",y=>function(b,O,H){const Z=ct(b),ue=Z.Kn.get(H);return void 0!==ue?Ze.resolve(Z.qn.get(ue)):Z.He.getTargetData(O,H)}(o,y,io(e)).next(b=>{if(b)return c=b.lastLimboFreeSnapshotVersion,o.He.getMatchingKeysForTargetId(y,b.targetId).next(O=>{f=O})}).next(()=>o.Un.getDocumentsMatchingQuery(y,e,r?c:rn.min(),r?f:tr())).next(b=>({documents:b,zn:f})))}function op(i,e){const r=ct(i),o=ct(r.He),c=r.qn.get(e);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",f=>o.Et(f,e).next(y=>y?y.target:null))}function A_(i){const e=ct(i);return e.persistence.runTransaction("Get new document changes","readonly",r=>function(o,c,f){const y=ct(o);let b=_a(),O=Qf(f);const H=ju(c),Z=IDBKeyRange.lowerBound(O,!0);return H.jt({index:qn.readTimeIndex,range:Z},(ue,De)=>{const We=Zf(y.k,De);b=b.insert(We.key,We),O=De.readTime}).next(()=>({In:b,readTime:Jf(O)}))}(e.Qn,r,e.jn)).then(({In:r,readTime:o})=>(e.jn=o,r))}function Gh(){return(Gh=(0,Oe.Z)(function*(i){const e=ct(i);return e.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(o){const c=ju(o);let f=rn.min();return c.jt({index:qn.readTimeIndex,reverse:!0},(y,b,O)=>{b.readTime&&(f=Jf(b.readTime)),O.done()}).next(()=>f)}(r)).then(r=>{e.jn=r})})).apply(this,arguments)}function Qg(){return(Qg=(0,Oe.Z)(function*(i,e,r,o){const c=ct(i);let f=tr(),y=_a(),b=Gf();for(const Z of r){const ue=e.Hn(Z.metadata.name);Z.document&&(f=f.add(ue)),y=y.insert(ue,e.Jn(Z)),b=b.insert(ue,e.Yn(Z.metadata.readTime))}const O=c.Qn.newChangeBuffer({trackRemovals:!0}),H=yield il(c,(Z=o,io(Mu(Pn.fromString(`__bundle__/docs/${Z}`)))));var Z;return c.persistence.runTransaction("Apply bundle documents","readwrite",Z=>T_(Z,O,y,rn.min(),b).next(ue=>(O.apply(Z),ue)).next(ue=>c.He.removeMatchingKeysForTargetId(Z,H.targetId).next(()=>c.He.addMatchingKeys(Z,f,H.targetId)).next(()=>c.Wn.Vn(Z,ue)).next(()=>ue)))})).apply(this,arguments)}function y0(i,e){return zh.apply(this,arguments)}function zh(){return(zh=(0,Oe.Z)(function*(i,e,r=tr()){const o=yield il(i,io(jh(e.bundledQuery))),c=ct(i);return c.persistence.runTransaction("Save named query","readwrite",f=>{const y=Vi(e.readTime);if(o.snapshotVersion.compareTo(y)>=0)return c.Ye.saveNamedQuery(f,e);const b=o.withResumeToken(di.EMPTY_BYTE_STRING,y);return c.qn=c.qn.insert(b.targetId,b),c.He.updateTargetData(f,b).next(()=>c.He.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>c.He.addMatchingKeys(f,r,o.targetId)).next(()=>c.Ye.saveNamedQuery(f,e))})})).apply(this,arguments)}class ib{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,r){return Ze.resolve(this.Xn.get(r))}saveBundleMetadata(e,r){var o;return this.Xn.set(r.id,{id:(o=r).id,version:o.version,createTime:Vi(o.createTime)}),Ze.resolve()}getNamedQuery(e,r){return Ze.resolve(this.Zn.get(r))}saveNamedQuery(e,r){return this.Zn.set(r.name,{name:(o=r).name,query:jh(o.bundledQuery),readTime:Vi(o.readTime)}),Ze.resolve();var o}}class Jg{constructor(){this.ts=new Lr(ji.es),this.ns=new Lr(ji.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,r){const o=new ji(e,r);this.ts=this.ts.add(o),this.ns=this.ns.add(o)}rs(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.os(new ji(e,r))}cs(e,r){e.forEach(o=>this.removeReference(o,r))}us(e){const r=new Ct(new Pn([])),o=new ji(r,e),c=new ji(r,e+1),f=[];return this.ns.forEachInRange([o,c],y=>{this.os(y),f.push(y.key)}),f}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const r=new Ct(new Pn([])),o=new ji(r,e),c=new ji(r,e+1);let f=tr();return this.ns.forEachInRange([o,c],y=>{f=f.add(y.key)}),f}containsKey(e){const r=new ji(e,0),o=this.ts.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class ji{constructor(e,r){this.key=e,this.fs=r}static es(e,r){return Ct.comparator(e.key,r.key)||_n(e.fs,r.fs)}static ss(e,r){return _n(e.fs,r.fs)||Ct.comparator(e.key,r.key)}}class R_{constructor(e,r){this.Jt=e,this.referenceDelegate=r,this.An=[],this.ds=1,this.ws=new Lr(ji.es)}checkEmpty(e){return Ze.resolve(0===this.An.length)}addMutationBatch(e,r,o,c){const f=this.ds;this.ds++;const y=new __(f,r,o,c);this.An.push(y);for(const b of c)this.ws=this.ws.add(new ji(b.key,f)),this.Jt.addToCollectionParentIndex(e,b.key.path.popLast());return Ze.resolve(y)}lookupMutationBatch(e,r){return Ze.resolve(this._s(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.gs(r+1),f=c<0?0:c;return Ze.resolve(this.An.length>f?this.An[f]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Ze.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new ji(r,0),c=new ji(r,Number.POSITIVE_INFINITY),f=[];return this.ws.forEachInRange([o,c],y=>{const b=this._s(y.fs);f.push(b)}),Ze.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Lr(_n);return r.forEach(c=>{const f=new ji(c,0),y=new ji(c,Number.POSITIVE_INFINITY);this.ws.forEachInRange([f,y],b=>{o=o.add(b.fs)})}),Ze.resolve(this.ys(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1;let f=o;Ct.isDocumentKey(f)||(f=f.child(""));const y=new ji(new Ct(f),0);let b=new Lr(_n);return this.ws.forEachWhile(O=>{const H=O.key.path;return!!o.isPrefixOf(H)&&(H.length===c&&(b=b.add(O.fs)),!0)},y),Ze.resolve(this.ys(b))}ys(e){const r=[];return e.forEach(o=>{const c=this._s(o);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){jt(0===this.ps(r.batchId,"removed")),this.An.shift();let o=this.ws;return Ze.forEach(r.mutations,c=>{const f=new ji(c.key,r.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.ws=o})}ee(e){}containsKey(e,r){const o=new ji(r,0),c=this.ws.firstAfterOrEqual(o);return Ze.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return Ze.resolve()}ps(e,r){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const r=this.gs(e);return r<0||r>=this.An.length?null:this.An[r]}}class x_{constructor(e,r){this.Jt=e,this.Ts=r,this.docs=new Fr(Ct.comparator),this.size=0}addEntry(e,r,o){const c=r.key,f=this.docs.get(c),y=f?f.size:0,b=this.Ts(r);return this.docs=this.docs.insert(c,{document:r.clone(),size:b,readTime:o}),this.size+=b-y,this.Jt.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Ze.resolve(o?o.document.clone():$t.newInvalidDocument(r))}getEntries(e,r){let o=_a();return r.forEach(c=>{const f=this.docs.get(c);o=o.insert(c,f?f.document.clone():$t.newInvalidDocument(c))}),Ze.resolve(o)}getDocumentsMatchingQuery(e,r,o){let c=_a();const f=new Ct(r.path.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:b,value:{document:O,readTime:H}}=y.getNext();if(!r.path.isPrefixOf(b.path))break;H.compareTo(o)<=0||Wl(r,O)&&(c=c.insert(O.key,O.clone()))}return Ze.resolve(c)}Es(e,r){return Ze.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new N_(this)}getSize(e){return Ze.resolve(this.size)}}class N_ extends h0{constructor(e){super(),this.De=e}applyChanges(e){const r=[];return this.changes.forEach((o,c)=>{c.document.isValidDocument()?r.push(this.De.addEntry(e,c.document,this.getReadTime(o))):this.De.removeEntry(o)}),Ze.waitFor(r)}getFromCache(e,r){return this.De.getEntry(e,r)}getAllFromCache(e,r){return this.De.getEntries(e,r)}}class M_{constructor(e){this.persistence=e,this.Is=new Bh(r=>Ha(r),Sd),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.As=0,this.Rs=new Jg,this.targetCount=0,this.Ps=Uu.ie()}forEachTarget(e,r){return this.Is.forEach((o,c)=>r(c)),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.As&&(this.As=r),Ze.resolve()}ce(e){this.Is.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Ps=new Uu(r),this.highestTargetId=r),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,r){return this.ce(r),this.targetCount+=1,Ze.resolve()}updateTargetData(e,r){return this.ce(r),Ze.resolve()}removeTargetData(e,r){return this.Is.delete(r.target),this.Rs.us(r.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,r,o){let c=0;const f=[];return this.Is.forEach((y,b)=>{b.sequenceNumber<=r&&null===o.get(b.targetId)&&(this.Is.delete(y),f.push(this.removeMatchingKeysForTargetId(e,b.targetId)),c++)}),Ze.waitFor(f).next(()=>c)}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,r){const o=this.Is.get(r)||null;return Ze.resolve(o)}addMatchingKeys(e,r,o){return this.Rs.rs(r,o),Ze.resolve()}removeMatchingKeys(e,r,o){this.Rs.cs(r,o);const c=this.persistence.referenceDelegate,f=[];return c&&r.forEach(y=>{f.push(c.markPotentiallyOrphaned(e,y))}),Ze.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Rs.us(r),Ze.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Rs.ls(r);return Ze.resolve(o)}containsKey(e,r){return Ze.resolve(this.Rs.containsKey(r))}}class _c{constructor(e,r){this.bs={},this.Be=new no(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new M_(this),this.Jt=new o0,this.Je=new x_(this.Jt,o=>this.referenceDelegate.vs(o)),this.k=new v_(r),this.Ye=new ib(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let r=this.bs[e.toKey()];return r||(r=new R_(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,r,o){nt("MemoryPersistence","Starting transaction:",e);const c=new ap(this.Be.next());return this.referenceDelegate.Vs(),o(c).next(f=>this.referenceDelegate.Ss(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Ds(e,r){return Ze.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,r)))}}class ap extends Vg{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Cs=new Jg,this.Ns=null}static ks(e){return new Xg(e)}get xs(){if(this.Ns)return this.Ns;throw bt()}addReference(e,r,o){return this.Cs.addReference(o,r),this.xs.delete(o.toString()),Ze.resolve()}removeReference(e,r,o){return this.Cs.removeReference(o,r),this.xs.add(o.toString()),Ze.resolve()}markPotentiallyOrphaned(e,r){return this.xs.add(r.toString()),Ze.resolve()}removeTarget(e,r){this.Cs.us(r.targetId).forEach(c=>this.xs.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(f=>this.xs.add(f.toString()))}).next(()=>o.removeTargetData(e,r))}Vs(){this.Ns=new Set}Ss(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.xs,o=>{const c=Ct.fromPath(o);return this.$s(e,c).next(f=>{f||r.removeEntry(c)})}).next(()=>(this.Ns=null,r.apply(e)))}updateLimboDocument(e,r){return this.$s(e,r).next(o=>{o?this.xs.delete(r.toString()):this.xs.add(r.toString())})}vs(e){return 0}$s(e,r){return Ze.or([()=>Ze.resolve(this.Cs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ds(e,r)])}}function P_(i,e){return`firestore_clients_${i}_${e}`}function _0(i,e,r){let o=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function sl(i,e){return`firestore_targets_${i}_${e}`}class Kh{constructor(e,r,o,c){this.user=e,this.batchId=r,this.state=o,this.error=c}static Fs(e,r,o){const c=JSON.parse(o);let f,y="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return y&&c.error&&(y="string"==typeof c.error.message&&"string"==typeof c.error.code,y&&(f=new Ke(c.error.code,c.error.message))),y?new Kh(e,r,c.state,f):(ei("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vc{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Fs(e,r){const o=JSON.parse(r);let c,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(c=new Ke(o.error.code,o.error.message))),f?new vc(e,o.state,c):(ei("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ol{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Fs(e,r){const o=JSON.parse(r);let c="object"==typeof o&&o.activeTargetIds instanceof Array,f=Nh();for(let y=0;c&&y<o.activeTargetIds.length;++y)c=uc(o.activeTargetIds[y]),f=f.add(o.activeTargetIds[y]);return c?new ol(e,f):(ei("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class em{constructor(e,r){this.clientId=e,this.onlineState=r}static Fs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new em(r.clientId,r.onlineState):(ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qh{constructor(){this.activeTargetIds=Nh()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class up{constructor(e,r,o,c,f){this.window=e,this.Oe=r,this.persistenceKey=o,this.Bs=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Fr(_n),this.started=!1,this.js=[];const y=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Qs=P_(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new qh),this.Gs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(b){return`firestore_bundle_loaded_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Oe.Z)(function*(){const r=yield e.syncEngine.Tn();for(const c of r){if(c===e.Bs)continue;const f=e.getItem(P_(e.persistenceKey,c));if(f){const y=ol.Fs(c,f);y&&(e.Ks=e.Ks.insert(y.clientId,y))}}e.Xs();const o=e.storage.getItem(e.Js);if(o){const c=e.Zs(o);c&&e.ti(c)}for(const c of e.js)e.qs(c);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let r=!1;return this.Ks.forEach((o,c)=>{c.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,r,o){this.ni(e,r,o),this.si(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(sl(this.persistenceKey,e));if(o){const c=vc.Fs(e,o);c&&(r=c.state)}}return this.ii.Ms(e),this.Xs(),r}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sl(this.persistenceKey,e))}updateQueryState(e,r,o){this.ri(e,r,o)}handleUserChange(e,r,o){r.forEach(c=>{this.si(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return nt("SharedClientState","READ",e,r),r}setItem(e,r){nt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(nt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Qs)return void ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Oe.Z)(function*(){if(r.started){if(null!==o.key)if(r.Gs.test(o.key)){if(null==o.newValue){const c=r.ci(o.key);return r.ui(c,null)}{const c=r.hi(o.key,o.newValue);if(c)return r.ui(c.clientId,c)}}else if(r.zs.test(o.key)){if(null!==o.newValue){const c=r.li(o.key,o.newValue);if(c)return r.fi(c)}}else if(r.Hs.test(o.key)){if(null!==o.newValue){const c=r.di(o.key,o.newValue);if(c)return r.wi(c)}}else if(o.key===r.Js){if(null!==o.newValue){const c=r.Zs(o.newValue);if(c)return r.ti(c)}}else if(o.key===r.Ws){const c=function(f){let y=no.I;if(null!=f)try{const b=JSON.parse(f);jt("number"==typeof b),y=b}catch(b){ei("SharedClientState","Failed to read sequence number from WebStorage",b)}return y}(o.newValue);c!==no.I&&r.sequenceNumberHandler(c)}else if(o.key===r.Ys)return r.syncEngine._i()}else r.js.push(o)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,r,o){const c=new Kh(this.currentUser,e,r,o),f=_0(this.persistenceKey,this.currentUser,e);this.setItem(f,c.Os())}si(e){const r=_0(this.persistenceKey,this.currentUser,e);this.removeItem(r)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,r,o){const c=sl(this.persistenceKey,e),f=new vc(e,r,o);this.setItem(c,f.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const r=this.Gs.exec(e);return r?r[1]:null}hi(e,r){const o=this.ci(e);return ol.Fs(o,r)}li(e,r){const o=this.zs.exec(e),c=Number(o[1]);return Kh.Fs(new Xr(void 0!==o[2]?o[2]:null),c,r)}di(e,r){const o=this.Hs.exec(e),c=Number(o[1]);return vc.Fs(c,r)}Zs(e){return em.Fs(e)}fi(e){var r=this;return(0,Oe.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.mi(e.batchId,e.state,e.error);nt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,r){const o=r?this.Ks.insert(e,r):this.Ks.remove(e),c=this.ei(this.Ks),f=this.ei(o),y=[],b=[];return f.forEach(O=>{c.has(O)||y.push(O)}),c.forEach(O=>{f.has(O)||b.push(O)}),this.syncEngine.yi(y,b).then(()=>{this.Ks=o})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let r=Nh();return e.forEach((o,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class O_{constructor(){this.pi=new qh,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,r,o){this.Ti[e]=r}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new qh,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class k_{Ei(e){}shutdown(){}}class F_{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const tm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class v0{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class E0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,r,o,c,f){const y=this.Ui(e,r);nt("RestConnection","Sending: ",y,o);const b={};return this.qi(b,c,f),this.Ki(e,y,b,o).then(O=>(nt("RestConnection","Received: ",O),O),O=>{throw jc("RestConnection",`${e} failed with error: `,O,"url: ",y,"request:",o),O})}ji(e,r,o,c,f){return this.Bi(e,r,o,c,f)}qi(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+oc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,f)=>e[f]=c),o&&o.headers.forEach((c,f)=>e[f]=c)}Ui(e,r){return`${this.Mi}/v1/${r}:${tm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,r,o,c){return new Promise((f,y)=>{const b=new Vl;b.listenOnce(Wo.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Du.NO_ERROR:const H=b.getResponseJson();nt("Connection","XHR received:",JSON.stringify(H)),f(H);break;case Du.TIMEOUT:nt("Connection",'RPC "'+e+'" timed out'),y(new Ke(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const Z=b.getStatus();if(nt("Connection",'RPC "'+e+'" failed with status:',Z,"response text:",b.getResponseText()),Z>0){const ue=b.getResponseJson().error;if(ue&&ue.status&&ue.message){const De=function(We){const Ye=We.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(Ye)>=0?Ye:Ae.UNKNOWN}(ue.status);y(new Ke(De,ue.message))}else y(new Ke(Ae.UNKNOWN,"Server responded with status "+b.getStatus()))}else y(new Ke(Ae.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{nt("Connection",'RPC "'+e+'" completed.')}});const O=JSON.stringify(c);b.send(r,"POST",O,o,15)})}Qi(e,r,o){const c=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=vd(),y=qy(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new yh({})),this.qi(b.initMessageHeaders,r,o),(0,Yt.uI)()||(0,Yt.b$)()||(0,Yt.d)()||(0,Yt.w1)()||(0,Yt.Mn)()||(0,Yt.ru)()||(b.httpHeadersOverwriteParam="$httpHeaders");const O=c.join("");nt("Connection","Creating WebChannel: "+O,b);const H=f.createWebChannel(O,b);let Z=!1,ue=!1;const De=new v0({Vi:Ye=>{ue?nt("Connection","Not sending because WebChannel is closed:",Ye):(Z||(nt("Connection","Opening WebChannel transport."),H.open(),Z=!0),nt("Connection","WebChannel sending:",Ye),H.send(Ye))},Si:()=>H.close()}),We=(Ye,_t,Bt)=>{Ye.listen(_t,mr=>{try{Bt(mr)}catch(fi){setTimeout(()=>{throw fi},0)}})};return We(H,Ll.EventType.OPEN,()=>{ue||nt("Connection","WebChannel transport opened.")}),We(H,Ll.EventType.CLOSE,()=>{ue||(ue=!0,nt("Connection","WebChannel transport closed"),De.Fi())}),We(H,Ll.EventType.ERROR,Ye=>{ue||(ue=!0,jc("Connection","WebChannel transport errored:",Ye),De.Fi(new Ke(Ae.UNAVAILABLE,"The operation could not be completed")))}),We(H,Ll.EventType.MESSAGE,Ye=>{var _t;if(!ue){const Bt=Ye.data[0];jt(!!Bt);const mr=Bt,fi=mr.error||(null===(_t=mr[0])||void 0===_t?void 0:_t.error);if(fi){nt("Connection","WebChannel received error:",fi);const So=fi.status;let Zn=function(eu){const lh=ir[eu];if(void 0!==lh)return Rh(lh)}(So),Kr=fi.message;void 0===Zn&&(Zn=Ae.INTERNAL,Kr="Unknown error status: "+So+" with message "+fi.message),ue=!0,De.Fi(new Ke(Zn,Kr)),H.close()}else nt("Connection","WebChannel received:",Bt),De.Oi(Bt)}}),We(y,Ed.STAT_EVENT,Ye=>{Ye.stat===$a.PROXY?nt("Connection","Detected buffering proxy"):Ye.stat===$a.NOPROXY&&nt("Connection","Detected no buffering proxy")}),setTimeout(()=>{De.$i()},0),De}}function nm(){return"undefined"!=typeof window?window:null}function Ec(){return"undefined"!=typeof document?document:null}function Gd(i){return new zf(i,!0)}class rm{constructor(e,r,o=1e3,c=1.5,f=6e4){this.Oe=e,this.timerId=r,this.Wi=o,this.Gi=c,this.zi=f,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const r=Math.floor(this.Hi+this.tr()),o=Math.max(0,Date.now()-this.Yi),c=Math.max(0,r-o);c>0&&nt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Hi} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class L_{constructor(e,r,o,c,f,y,b,O){this.Oe=e,this.nr=o,this.sr=c,this.ir=f,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=b,this.listener=O,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new rm(e,r)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,Oe.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,Oe.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,r){var o=this;return(0,Oe.Z)(function*(){o.yr(),o.pr(),o.ur.cancel(),o.rr++,4!==e?o.ur.reset():r&&r.code===Ae.RESOURCE_EXHAUSTED?(ei(r.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),o.ur.Xi()):r&&r.code===Ae.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Tr(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ni(r)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),r=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.rr===r&&this.Ir(o,c)},o=>{e(()=>{const c=new Ke(Ae.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ar(c)})})}Ir(e,r){const o=this.Er(this.rr);this.stream=this.Rr(e,r),this.stream.Di(()=>{o(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(c=>{o(()=>this.Ar(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}dr(){var e=this;this.state=5,this.ur.Zi((0,Oe.Z)(function*(){e.state=0,e.start()}))}Ar(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return r=>{this.Oe.enqueueAndForget(()=>this.rr===e?r():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zd extends L_{constructor(e,r,o,c,f,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,c,y),this.k=f}Rr(e,r){return this.ir.Qi("Listen",e,r)}onMessage(e){this.ur.reset();const r=function(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:bt(),c=e.targetChange.targetIds||[],f=function(O,H){return O.C?(jt(void 0===H||"string"==typeof H),di.fromBase64String(H||"")):(jt(void 0===H||H instanceof Uint8Array),di.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,b=y&&function(O){const H=void 0===O.code?Ae.UNKNOWN:Rh(O.code);return new Ke(H,O.message||"")}(y);r=new Ph(o,c,f,b||null)}else if("documentChange"in e){const o=e.documentChange,c=Ya(i,o.document.name),f=Vi(o.document.updateTime),y=new bi({mapValue:{fields:o.document.fields}}),b=$t.newFoundDocument(c,f,y);r=new Mh(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const o=e.documentDelete,c=Ya(i,o.document),f=o.readTime?Vi(o.readTime):rn.min(),y=$t.newNoDocument(c,f);r=new Mh([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,c=Ya(i,o.document);r=new Mh([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return bt();{const o=e.filter,f=new Wf(o.count||0);r=new e_(o.targetId,f)}}var O;return r}(this.k,e),o=function(c){if(!("targetChange"in c))return rn.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?rn.min():f.readTime?Vi(f.readTime):rn.min()}(e);return this.listener.Pr(r,o)}br(e){const r={};r.database=kd(this.k),r.addTarget=function(c,f){let y;const b=f.target;return y=Rd(b)?{documents:va(c,b)}:{query:a_(c,b)},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?y.resumeToken=Mg(c,f.resumeToken):f.snapshotVersion.compareTo(rn.min())>0&&(y.readTime=tl(c,f.snapshotVersion.toTimestamp())),y}(this.k,e);const o=function(i,e){const r=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.gr(r)}vr(e){const r={};r.database=kd(this.k),r.removeTarget=e,this.gr(r)}}class w0 extends L_{constructor(e,r,o,c,f,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,c,y),this.k=f,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,r){return this.ir.Qi("Write",e,r)}onMessage(e){if(jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const r=function(i,e){return i&&i.length>0?(jt(void 0!==e),i.map(r=>function(o,c){let f=Vi(o.updateTime?o.updateTime:c);return f.isEqual(rn.min())&&(f=Vi(c)),new g(f,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Vi(e.commitTime);return this.listener.Cr(o,r)}return jt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=kd(this.k),this.gr(e)}Dr(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Fh(this.k,o))};this.gr(r)}}class I0 extends class{}{constructor(e,r,o,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.ir=o,this.k=c,this.$r=!1}Fr(){if(this.$r)throw new Ke(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,r,o){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.ir.Bi(e,r,o,c,f)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ke(Ae.UNKNOWN,c.toString())})}ji(e,r,o){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.ir.ji(e,r,o,c,f)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ke(Ae.UNKNOWN,c.toString())})}terminate(){this.$r=!0}}class b0{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(ei(r),this.Lr=!1):nt("OnlineStateTracker",r)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class C0{constructor(e,r,o,c,f){var y=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=f,this.Hr.Ei(b=>{o.enqueueAndForget((0,Oe.Z)(function*(){var O;al(y)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,Oe.Z)(function*(H){const Z=ct(H);Z.Gr.add(4),yield td(Z),Z.Jr.set("Unknown"),Z.Gr.delete(4),yield cp(Z)}),function(H){return O.apply(this,arguments)})(y))}))}),this.Jr=new b0(o,c)}}function cp(i){return im.apply(this,arguments)}function im(){return(im=(0,Oe.Z)(function*(i){if(al(i))for(const e of i.zr)yield e(!0)})).apply(this,arguments)}function td(i){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,Oe.Z)(function*(i){for(const e of i.zr)yield e(!1)})).apply(this,arguments)}function Kd(i,e){const r=ct(i);r.Wr.has(e.targetId)||(r.Wr.set(e.targetId,e),V_(r)?Zh(r):rd(r).lr()&&Ja(r,e))}function lp(i,e){const r=ct(i),o=rd(r);r.Wr.delete(e),o.lr()&&dp(r,e),0===r.Wr.size&&(o.lr()?o._r():al(r)&&r.Jr.set("Unknown"))}function Ja(i,e){i.Yr.X(e.targetId),rd(i).br(e)}function dp(i,e){i.Yr.X(e),rd(i).vr(e)}function Zh(i){i.Yr=new n_({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Wr.get(e)||null}),rd(i).start(),i.Jr.Br()}function V_(i){return al(i)&&!rd(i).hr()&&i.Wr.size>0}function al(i){return 0===ct(i).Gr.size}function U_(i){i.Yr=void 0}function j_(i){return hp.apply(this,arguments)}function hp(){return(hp=(0,Oe.Z)(function*(i){i.Wr.forEach((e,r)=>{Ja(i,e)})})).apply(this,arguments)}function B_(i,e){return fp.apply(this,arguments)}function fp(){return(fp=(0,Oe.Z)(function*(i,e){U_(i),V_(i)?(i.Jr.Kr(e),Zh(i)):i.Jr.set("Unknown")})).apply(this,arguments)}function D0(i,e,r){return sm.apply(this,arguments)}function sm(){return(sm=(0,Oe.Z)(function*(i,e,r){if(i.Jr.set("Online"),e instanceof Ph&&2===e.state&&e.cause)try{yield(o=(0,Oe.Z)(function*(c,f){const y=f.cause;for(const b of f.targetIds)c.Wr.has(b)&&(yield c.remoteSyncer.rejectListen(b,y),c.Wr.delete(b),c.Yr.removeTarget(b))}),function(c,f){return o.apply(this,arguments)})(i,e)}catch(o){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield ul(i,o)}else if(e instanceof Mh?i.Yr.ot(e):e instanceof e_?i.Yr.dt(e):i.Yr.ut(e),!r.isEqual(rn.min()))try{const o=yield qg(i.localStore);r.compareTo(o)>=0&&(yield function(c,f){const y=c.Yr.gt(f);return y.targetChanges.forEach((b,O)=>{if(b.resumeToken.approximateByteSize()>0){const H=c.Wr.get(O);H&&c.Wr.set(O,H.withResumeToken(b.resumeToken,f))}}),y.targetMismatches.forEach(b=>{const O=c.Wr.get(b);if(!O)return;c.Wr.set(b,O.withResumeToken(di.EMPTY_BYTE_STRING,O.snapshotVersion)),dp(c,b);const H=new Lu(O.target,b,1,O.sequenceNumber);Ja(c,H)}),c.remoteSyncer.applyRemoteEvent(y)}(i,r))}catch(o){nt("RemoteStore","Failed to raise snapshot:",o),yield ul(i,o)}var o})).apply(this,arguments)}function ul(i,e,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,Oe.Z)(function*(i,e,r){if(!jd(e))throw e;i.Gr.add(1),yield td(i),i.Jr.set("Offline"),r||(r=()=>qg(i.localStore)),i.asyncQueue.enqueueRetryable((0,Oe.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield r(),i.Gr.delete(1),yield cp(i)}))})).apply(this,arguments)}function om(i,e){return e().catch(r=>ul(i,r,e))}function nd(i){return pp.apply(this,arguments)}function pp(){return(pp=(0,Oe.Z)(function*(i){const e=ct(i),r=wc(e);let o=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;$_(e);)try{const c=yield m0(e.localStore,o);if(null===c){0===e.Qr.length&&r._r();break}o=c.batchId,T0(e,c)}catch(c){yield ul(e,c)}H_(e)&&W_(e)})).apply(this,arguments)}function $_(i){return al(i)&&i.Qr.length<10}function T0(i,e){i.Qr.push(e);const r=wc(i);r.lr()&&r.Sr&&r.Dr(e.mutations)}function H_(i){return al(i)&&!wc(i).hr()&&i.Qr.length>0}function W_(i){wc(i).start()}function A0(i){return gp.apply(this,arguments)}function gp(){return(gp=(0,Oe.Z)(function*(i){wc(i).kr()})).apply(this,arguments)}function sb(i){return mp.apply(this,arguments)}function mp(){return(mp=(0,Oe.Z)(function*(i){const e=wc(i);for(const r of i.Qr)e.Dr(r.mutations)})).apply(this,arguments)}function S0(i,e,r){return am.apply(this,arguments)}function am(){return(am=(0,Oe.Z)(function*(i,e,r){const o=i.Qr.shift(),c=Fu.from(o,e,r);yield om(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield nd(i)})).apply(this,arguments)}function ob(i,e){return G_.apply(this,arguments)}function G_(){return(G_=(0,Oe.Z)(function*(i,e){var r;e&&wc(i).Sr&&(yield(r=(0,Oe.Z)(function*(o,c){if(Kl(f=c.code)&&f!==Ae.ABORTED){const y=o.Qr.shift();wc(o).wr(),yield om(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,c)),yield nd(o)}var f}),function(o,c){return r.apply(this,arguments)})(i,e)),H_(i)&&W_(i)})).apply(this,arguments)}function Qh(i,e){return um.apply(this,arguments)}function um(){return(um=(0,Oe.Z)(function*(i,e){const r=ct(i);e?(r.Gr.delete(2),yield cp(r)):e||(r.Gr.add(2),yield td(r),r.Jr.set("Unknown"))})).apply(this,arguments)}function rd(i){return i.Xr||(i.Xr=function(e,r,o){const c=ct(e);return c.Fr(),new zd(r,c.ir,c.authCredentials,c.appCheckCredentials,c.k,o)}(i.datastore,i.asyncQueue,{Di:j_.bind(null,i),Ni:B_.bind(null,i),Pr:D0.bind(null,i)}),i.zr.push(function(){var e=(0,Oe.Z)(function*(r){r?(i.Xr.wr(),V_(i)?Zh(i):i.Jr.set("Unknown")):(yield i.Xr.stop(),U_(i))});return function(r){return e.apply(this,arguments)}}())),i.Xr}function wc(i){return i.Zr||(i.Zr=function(e,r,o){const c=ct(e);return c.Fr(),new w0(r,c.ir,c.authCredentials,c.appCheckCredentials,c.k,o)}(i.datastore,i.asyncQueue,{Di:A0.bind(null,i),Ni:ob.bind(null,i),Nr:sb.bind(null,i),Cr:S0.bind(null,i)}),i.zr.push(function(){var e=(0,Oe.Z)(function*(r){r?(i.Zr.wr(),yield nd(i)):(yield i.Zr.stop(),i.Qr.length>0&&(nt("RemoteStore",`Stopping write stream with ${i.Qr.length} pending writes`),i.Qr=[]))});return function(r){return e.apply(this,arguments)}}())),i.Zr}class z_{constructor(e,r,o,c,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=c,this.removalCallback=f,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,r,o,c,f){const y=Date.now()+o,b=new z_(e,r,y,c,f);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ke(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ks(i,e){if(ei("AsyncQueue",`${e}: ${i}`),jd(i))return new Ke(Ae.UNAVAILABLE,`${e}: ${i}`);throw i}class Jh{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Ct.comparator(r.key,o.key):(r,o)=>Ct.comparator(r.key,o.key),this.keyedMap=xh(),this.sortedSet=new Fr(this.comparator)}static emptySet(e){return new Jh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Jh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,f=o.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Jh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class R0{constructor(){this.eo=new Fr(Ct.comparator)}track(e){const r=e.doc.key,o=this.eo.get(r);o?0!==e.type&&3===o.type?this.eo=this.eo.insert(r,e):3===e.type&&1!==o.type?this.eo=this.eo.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.eo=this.eo.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.eo=this.eo.remove(r):1===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):bt():this.eo=this.eo.insert(r,e)}no(){const e=[];return this.eo.inorderTraversal((r,o)=>{e.push(o)}),e}}class Xh{constructor(e,r,o,c,f,y,b,O){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=f,this.fromCache=y,this.syncStateChanged=b,this.excludesMetadataChanges=O}static fromInitialDocuments(e,r,o,c){const f=[];return r.forEach(y=>{f.push({type:0,doc:y})}),new Xh(e,r,Jh.emptySet(r),f,o,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==o[c].type||!r[c].doc.isEqual(o[c].doc))return!1;return!0}}class K_{constructor(){this.so=void 0,this.listeners=[]}}class q_{constructor(){this.queries=new Bh(e=>Sh(e),Yc),this.onlineState="Unknown",this.io=new Set}}function yp(i,e){return cm.apply(this,arguments)}function cm(){return(cm=(0,Oe.Z)(function*(i,e){const r=ct(i),o=e.query;let c=!1,f=r.queries.get(o);if(f||(c=!0,f=new K_),c)try{f.so=yield r.onListen(o)}catch(y){const b=ks(y,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(b)}r.queries.set(o,f),f.listeners.push(e),e.ro(r.onlineState),f.so&&e.oo(f.so)&&ef(r)})).apply(this,arguments)}function Z_(i,e){return _p.apply(this,arguments)}function _p(){return(_p=(0,Oe.Z)(function*(i,e){const r=ct(i),o=e.query;let c=!1;const f=r.queries.get(o);if(f){const y=f.listeners.indexOf(e);y>=0&&(f.listeners.splice(y,1),c=0===f.listeners.length)}if(c)return r.queries.delete(o),r.onUnlisten(o)})).apply(this,arguments)}function lm(i,e){const r=ct(i);let o=!1;for(const c of e){const y=r.queries.get(c.query);if(y){for(const b of y.listeners)b.oo(c)&&(o=!0);y.so=c}}o&&ef(r)}function x0(i,e,r){const o=ct(i),c=o.queries.get(e);if(c)for(const f of c.listeners)f.onError(r);o.queries.delete(e)}function ef(i){i.io.forEach(e=>{e.next()})}class dm{constructor(e,r,o){this.query=e,this.ao=r,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=o||{}}oo(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new Xh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.co?this.ho(e)&&(this.ao.next(e),r=!0):this.lo(e,this.onlineState)&&(this.fo(e),r=!0),this.uo=e,r}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let r=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),r=!0),r}lo(e,r){return!e.fromCache||!(this.options.wo&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Xh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class N0{constructor(e,r){this.payload=e,this.byteLength=r}_o(){return"metadata"in this.payload}}class Y_{constructor(e){this.k=e}Hn(e){return Ya(this.k,e)}Jn(e){return e.metadata.exists?YE(this.k,e.document,!1):$t.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Vi(e)}}class M0{constructor(e,r,o){this.mo=e,this.localStore=r,this.k=o,this.queries=[],this.documents=[],this.progress=Q_(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}po(e){const r=new Map,o=new Y_(this.k);for(const c of e)if(c.metadata.queries){const f=o.Hn(c.metadata.name);for(const y of c.metadata.queries){const b=(r.get(y)||tr()).add(f);r.set(y,b)}}return r}complete(){var e=this;return(0,Oe.Z)(function*(){const r=yield function(i,e,r,o){return Qg.apply(this,arguments)}(e.localStore,new Y_(e.k),e.documents,e.mo.id),o=e.po(e.documents);for(const c of e.queries)yield y0(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",new p0(Object.assign({},e.progress),r)})()}}function Q_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class J_{constructor(e){this.key=e}}class tf{constructor(e){this.key=e}}class id{constructor(e,r){this.query=e,this.To=r,this.Eo=null,this.current=!1,this.Io=tr(),this.mutatedKeys=tr(),this.Ao=za(e),this.Ro=new Jh(this.Ao)}get Po(){return this.To}bo(e,r){const o=r?r.vo:new R0,c=r?r.Ro:this.Ro;let f=r?r.mutatedKeys:this.mutatedKeys,y=c,b=!1;const O=Zc(this.query)&&c.size===this.query.limit?c.last():null,H=xd(this.query)&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((Z,ue)=>{const De=c.get(Z),We=Wl(this.query,ue)?ue:null,Ye=!!De&&this.mutatedKeys.has(De.key),_t=!!We&&(We.hasLocalMutations||this.mutatedKeys.has(We.key)&&We.hasCommittedMutations);let Bt=!1;De&&We?De.data.isEqual(We.data)?Ye!==_t&&(o.track({type:3,doc:We}),Bt=!0):this.Vo(De,We)||(o.track({type:2,doc:We}),Bt=!0,(O&&this.Ao(We,O)>0||H&&this.Ao(We,H)<0)&&(b=!0)):!De&&We?(o.track({type:0,doc:We}),Bt=!0):De&&!We&&(o.track({type:1,doc:De}),Bt=!0,(O||H)&&(b=!0)),Bt&&(We?(y=y.add(We),f=_t?f.add(Z):f.delete(Z)):(y=y.delete(Z),f=f.delete(Z)))}),Zc(this.query)||xd(this.query))for(;y.size>this.query.limit;){const Z=Zc(this.query)?y.last():y.first();y=y.delete(Z.key),f=f.delete(Z.key),o.track({type:1,doc:Z})}return{Ro:y,vo:o,Bn:b,mutatedKeys:f}}Vo(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const c=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const f=e.vo.no();f.sort((H,Z)=>function(ue,De){const We=Ye=>{switch(Ye){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return We(ue)-We(De)}(H.type,Z.type)||this.Ao(H.doc,Z.doc)),this.So(o);const y=r?this.Do():[],b=0===this.Io.size&&this.current?1:0,O=b!==this.Eo;return this.Eo=b,0!==f.length||O?{snapshot:new Xh(this.query,e.Ro,c,f,e.mutatedKeys,0===b,O,!1),Co:y}:{Co:y}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new R0,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(r=>this.To=this.To.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.To=this.To.delete(r)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=tr(),this.Ro.forEach(o=>{this.No(o.key)&&(this.Io=this.Io.add(o.key))});const r=[];return e.forEach(o=>{this.Io.has(o)||r.push(new tf(o))}),this.Io.forEach(o=>{e.has(o)||r.push(new J_(o))}),r}ko(e){this.To=e.zn,this.Io=tr();const r=this.bo(e.documents);return this.applyChanges(r,!0)}xo(){return Xh.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class X_{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class Xa{constructor(e){this.key=e,this.$o=!1}}class nf{constructor(e,r,o,c,f,y){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=y,this.Fo={},this.Oo=new Bh(b=>Sh(b),Yc),this.Mo=new Map,this.Lo=new Set,this.Bo=new Fr(Ct.comparator),this.Uo=new Map,this.qo=new Jg,this.Ko={},this.jo=new Map,this.Qo=Uu.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function P0(i,e){return hm.apply(this,arguments)}function hm(){return(hm=(0,Oe.Z)(function*(i,e){const r=gm(i);let o,c;const f=r.Oo.get(e);if(f)o=f.targetId,r.sharedClientState.addLocalQueryTarget(o),c=f.view.xo();else{const y=yield il(r.localStore,io(e)),b=r.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,c=yield rf(r,e,o,"current"===b),r.isPrimaryClient&&Kd(r.remoteStore,y)}return c})).apply(this,arguments)}function rf(i,e,r,o){return wa.apply(this,arguments)}function wa(){return(wa=(0,Oe.Z)(function*(i,e,r,o){i.Go=(Z,ue,De)=>{return(We=(0,Oe.Z)(function*(Ye,_t,Bt,mr){let fi=_t.view.bo(Bt);fi.Bn&&(fi=yield ed(Ye.localStore,_t.query,!1).then(({documents:Kr})=>_t.view.bo(Kr,fi)));const So=mr&&mr.targetChanges.get(_t.targetId),Zn=_t.view.applyChanges(fi,Ye.isPrimaryClient,So);return wp(Ye,_t.targetId,Zn.Co),Zn.snapshot}),function(Ye,_t,Bt,mr){return We.apply(this,arguments)})(i,Z,ue,De);var We};const c=yield ed(i.localStore,e,!0),f=new id(e,c.zn),y=f.bo(c.documents),b=Pd.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState),O=f.applyChanges(y,i.isPrimaryClient,b);wp(i,r,O.Co);const H=new X_(e,r,f);return i.Oo.set(e,H),i.Mo.has(r)?i.Mo.get(r).push(e):i.Mo.set(r,[e]),O.snapshot})).apply(this,arguments)}function sf(i,e){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,Oe.Z)(function*(i,e){const r=ct(i),o=r.Oo.get(e),c=r.Mo.get(o.targetId);if(c.length>1)return r.Mo.set(o.targetId,c.filter(f=>!Yc(f,e))),void r.Oo.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Wd(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),lp(r.remoteStore,o.targetId),ad(r,o.targetId)}).catch(rl))):(ad(r,o.targetId),yield Wd(r.localStore,o.targetId,!0))})).apply(this,arguments)}function qd(){return(qd=(0,Oe.Z)(function*(i,e,r){const o=ov(i);try{const c=yield function(f,y){const b=ct(f),O=xr.now(),H=y.reduce((ue,De)=>ue.add(De.key),tr());let Z;return b.persistence.runTransaction("Locally write mutations","readwrite",ue=>b.Wn.vn(ue,H).next(De=>{Z=De;const We=[];for(const Ye of y){const _t=ne(Ye,Z.get(Ye.key));null!=_t&&We.push(new ht(Ye.key,_t,Dh(_t.value.mapValue),d.exists(!0)))}return b.An.addMutationBatch(ue,O,We,y)})).then(ue=>(ue.applyToLocalDocumentSet(Z),{batchId:ue.batchId,changes:Z}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(f,y,b){let O=f.Ko[f.currentUser.toKey()];O||(O=new Fr(_n)),O=O.insert(y,b),f.Ko[f.currentUser.toKey()]=O}(o,c.batchId,r),yield $u(o,c.changes),yield nd(o.remoteStore)}catch(c){const f=ks(c,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Zo(i,e){return of.apply(this,arguments)}function of(){return(of=(0,Oe.Z)(function*(i,e){const r=ct(i);try{const o=yield g0(r.localStore,e);e.targetChanges.forEach((c,f)=>{const y=r.Uo.get(f);y&&(jt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?y.$o=!0:c.modifiedDocuments.size>0?jt(y.$o):c.removedDocuments.size>0&&(jt(y.$o),y.$o=!1))}),yield $u(r,o,e)}catch(o){yield rl(o)}})).apply(this,arguments)}function od(i,e,r){const o=ct(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const c=[];o.Oo.forEach((f,y)=>{const b=y.view.ro(e);b.snapshot&&c.push(b.snapshot)}),function(f,y){const b=ct(f);b.onlineState=y;let O=!1;b.queries.forEach((H,Z)=>{for(const ue of Z.listeners)ue.ro(y)&&(O=!0)}),O&&ef(b)}(o.eventManager,e),c.length&&o.Fo.Pr(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Zd(i,e,r){return cl.apply(this,arguments)}function cl(){return(cl=(0,Oe.Z)(function*(i,e,r){const o=ct(i);o.sharedClientState.updateQueryState(e,"rejected",r);const c=o.Uo.get(e),f=c&&c.key;if(f){let y=new Fr(Ct.comparator);y=y.insert(f,$t.newNoDocument(f,rn.min()));const b=tr().add(f),O=new Za(rn.min(),new Map,new Lr(_n),y,b);yield Zo(o,O),o.Bo=o.Bo.remove(f),o.Uo.delete(e),Ip(o)}else yield Wd(o.localStore,e,!1).then(()=>ad(o,e,r)).catch(rl)})).apply(this,arguments)}function Yd(i,e){return ll.apply(this,arguments)}function ll(){return(ll=(0,Oe.Z)(function*(i,e){const r=ct(i),o=e.batch.batchId;try{const c=yield rb(r.localStore,e);Ep(r,o,null),vp(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield $u(r,c)}catch(c){yield rl(c)}})).apply(this,arguments)}function Qd(i,e,r){return dl.apply(this,arguments)}function dl(){return(dl=(0,Oe.Z)(function*(i,e,r){const o=ct(i);try{const c=yield function(f,y){const b=ct(f);return b.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let H;return b.An.lookupMutationBatch(O,y).next(Z=>(jt(null!==Z),H=Z.keys(),b.An.removeMutationBatch(O,Z))).next(()=>b.An.performConsistencyCheck(O)).next(()=>b.Wn.vn(O,H))})}(o.localStore,e);Ep(o,e,r),vp(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield $u(o,c)}catch(c){yield rl(c)}})).apply(this,arguments)}function hl(){return(hl=(0,Oe.Z)(function*(i,e){const r=ct(i);al(r.remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const y=ct(f);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>y.An.getHighestUnacknowledgedBatchId(b))}(r.localStore);if(-1===o)return void e.resolve();const c=r.jo.get(o)||[];c.push(e),r.jo.set(o,c)}catch(o){const c=ks(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}})).apply(this,arguments)}function vp(i,e){(i.jo.get(e)||[]).forEach(r=>{r.resolve()}),i.jo.delete(e)}function Ep(i,e,r){const o=ct(i);let c=o.Ko[o.currentUser.toKey()];if(c){const f=c.get(e);f&&(r?f.reject(r):f.resolve(),c=c.remove(e)),o.Ko[o.currentUser.toKey()]=c}}function ad(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Mo.get(e))i.Oo.delete(o),r&&i.Fo.zo(o,r);i.Mo.delete(e),i.isPrimaryClient&&i.qo.us(e).forEach(o=>{i.qo.containsKey(o)||fm(i,o)})}function fm(i,e){i.Lo.delete(e.path.canonicalString());const r=i.Bo.get(e);null!==r&&(lp(i.remoteStore,r),i.Bo=i.Bo.remove(e),i.Uo.delete(r),Ip(i))}function wp(i,e,r){for(const o of r)o instanceof J_?(i.qo.addReference(o.key,e),ev(i,o)):o instanceof tf?(nt("SyncEngine","Document no longer in limbo: "+o.key),i.qo.removeReference(o.key,e),i.qo.containsKey(o.key)||fm(i,o.key)):bt()}function ev(i,e){const r=e.key,o=r.path.canonicalString();i.Bo.get(r)||i.Lo.has(o)||(nt("SyncEngine","New document in limbo: "+r),i.Lo.add(o),Ip(i))}function Ip(i){for(;i.Lo.size>0&&i.Bo.size<i.maxConcurrentLimboResolutions;){const e=i.Lo.values().next().value;i.Lo.delete(e);const r=new Ct(Pn.fromString(e)),o=i.Qo.next();i.Uo.set(o,new Xa(r)),i.Bo=i.Bo.insert(r,o),Kd(i.remoteStore,new Lu(io(Mu(r.path)),o,2,no.I))}}function $u(i,e,r){return bp.apply(this,arguments)}function bp(){return(bp=(0,Oe.Z)(function*(i,e,r){const o=ct(i),c=[],f=[],y=[];var b;o.Oo.isEmpty()||(o.Oo.forEach((b,O)=>{y.push(o.Go(O,e,r).then(H=>{if(H){o.isPrimaryClient&&o.sharedClientState.updateQueryState(O.targetId,H.fromCache?"not-current":"current"),c.push(H);const Z=ip.$n(O.targetId,H);f.push(Z)}}))}),yield Promise.all(y),o.Fo.Pr(c),yield(b=(0,Oe.Z)(function*(O,H){const Z=ct(O);try{yield Z.persistence.runTransaction("notifyLocalViewChanges","readwrite",ue=>Ze.forEach(H,De=>Ze.forEach(De.kn,We=>Z.persistence.referenceDelegate.addReference(ue,De.targetId,We)).next(()=>Ze.forEach(De.xn,We=>Z.persistence.referenceDelegate.removeReference(ue,De.targetId,We)))))}catch(ue){if(!jd(ue))throw ue;nt("LocalStore","Failed to update sequence numbers: "+ue)}for(const ue of H){const De=ue.targetId;if(!ue.fromCache){const We=Z.qn.get(De),_t=We.withLastLimboFreeSnapshotVersion(We.snapshotVersion);Z.qn=Z.qn.insert(De,_t)}}}),function(O,H){return b.apply(this,arguments)})(o.localStore,f))})).apply(this,arguments)}function O0(i,e){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,Oe.Z)(function*(i,e){const r=ct(i);if(!r.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const o=yield D_(r.localStore,e);r.currentUser=e,(c=r).jo.forEach(y=>{y.forEach(b=>{b.reject(new Ke(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.jo.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield $u(r,o.Gn)}var c})).apply(this,arguments)}function k0(i,e){const r=ct(i),o=r.Uo.get(e);if(o&&o.$o)return tr().add(o.key);{let c=tr();const f=r.Mo.get(e);if(!f)return c;for(const y of f){const b=r.Oo.get(y);c=c.unionWith(b.view.Po)}return c}}function F0(i,e){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,Oe.Z)(function*(i,e){const r=ct(i),o=yield ed(r.localStore,e.query,!0),c=e.view.ko(o);return r.isPrimaryClient&&wp(r,e.targetId,c.Co),c})).apply(this,arguments)}function L0(i){return tv.apply(this,arguments)}function tv(){return(tv=(0,Oe.Z)(function*(i){const e=ct(i);return A_(e.localStore).then(r=>$u(e,r))})).apply(this,arguments)}function V0(i,e,r,o){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,Oe.Z)(function*(i,e,r,o){const c=ct(i),f=yield function(y,b){const O=ct(y),H=ct(O.An);return O.persistence.runTransaction("Lookup mutation documents","readonly",Z=>H.Zt(Z,b).next(ue=>ue?O.Wn.vn(Z,ue):Ze.resolve(null)))}(c.localStore,e);var b;null!==f?("pending"===r?yield nd(c.remoteStore):"acknowledged"===r||"rejected"===r?(Ep(c,e,o||null),vp(c,e),b=e,ct(ct(c.localStore).An).ee(b)):bt(),yield $u(c,f)):nt("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Ap(){return(Ap=(0,Oe.Z)(function*(i,e){const r=ct(i);if(gm(r),ov(r),!0===e&&!0!==r.Wo){const o=r.sharedClientState.getAllActiveQueryTargets(),c=yield nv(r,o.toArray());r.Wo=!0,yield Qh(r.remoteStore,!0);for(const f of c)Kd(r.remoteStore,f)}else if(!1===e&&!1!==r.Wo){const o=[];let c=Promise.resolve();r.Mo.forEach((f,y)=>{r.sharedClientState.isLocalQueryTarget(y)?o.push(y):c=c.then(()=>(ad(r,y),Wd(r.localStore,y,!0))),lp(r.remoteStore,y)}),yield c,yield nv(r,o),function(f){const y=ct(f);y.Uo.forEach((b,O)=>{lp(y.remoteStore,O)}),y.qo.hs(),y.Uo=new Map,y.Bo=new Fr(Ct.comparator)}(r),r.Wo=!1,yield Qh(r.remoteStore,!1)}})).apply(this,arguments)}function nv(i,e,r){return pm.apply(this,arguments)}function pm(){return(pm=(0,Oe.Z)(function*(i,e,r){const o=ct(i),c=[],f=[];for(const y of e){let b;const O=o.Mo.get(y);if(O&&0!==O.length){b=yield il(o.localStore,io(O[0]));for(const H of O){const Z=o.Oo.get(H),ue=yield F0(o,Z);ue.snapshot&&f.push(ue.snapshot)}}else{const H=yield op(o.localStore,y);b=yield il(o.localStore,H),yield rf(o,j0(H),y,!1)}c.push(b)}return o.Fo.Pr(f),c})).apply(this,arguments)}function j0(i){return $l(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function B0(i){const e=ct(i);return ct(ct(e.localStore).persistence).Tn()}function rv(i,e,r,o){return iv.apply(this,arguments)}function iv(){return(iv=(0,Oe.Z)(function*(i,e,r,o){const c=ct(i);if(c.Wo)nt("SyncEngine","Ignoring unexpected query state notification.");else if(c.Mo.has(e))switch(r){case"current":case"not-current":{const f=yield A_(c.localStore),y=Za.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield $u(c,f,y);break}case"rejected":yield Wd(c.localStore,e,!0),ad(c,e,o);break;default:bt()}})).apply(this,arguments)}function ab(i,e,r){return sv.apply(this,arguments)}function sv(){return(sv=(0,Oe.Z)(function*(i,e,r){const o=gm(i);if(o.Wo){for(const c of e){if(o.Mo.has(c)){nt("SyncEngine","Adding an already active target "+c);continue}const f=yield op(o.localStore,c),y=yield il(o.localStore,f);yield rf(o,j0(f),y.targetId,!1),Kd(o.remoteStore,y)}for(const c of r)o.Mo.has(c)&&(yield Wd(o.localStore,c,!1).then(()=>{lp(o.remoteStore,c),ad(o,c)}).catch(rl))}})).apply(this,arguments)}function gm(i){const e=ct(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zo.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zd.bind(null,e),e.Fo.Pr=lm.bind(null,e.eventManager),e.Fo.zo=x0.bind(null,e.eventManager),e}function ov(i){const e=ct(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qd.bind(null,e),e}class av{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Oe.Z)(function*(){r.k=Gd(e.databaseInfo.databaseId),r.sharedClientState=r.Jo(e),r.persistence=r.Yo(e),yield r.persistence.start(),r.gcScheduler=r.Xo(e),r.localStore=r.Zo(e)})()}Xo(e){return null}Zo(e){return sp(this.persistence,new C_,e.initialUser,this.k)}Yo(e){return new _c(Xg.ks,this.k)}Jo(e){return new O_}terminate(){var e=this;return(0,Oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sp extends av{constructor(e,r,o){super(),this.ta=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,Oe.Z)(function*(){yield r().call(o,e),yield function(i){return Gh.apply(this,arguments)}(o.localStore),yield o.ta.initialize(o,e),yield ov(o.ta.syncEngine),yield nd(o.ta.remoteStore),yield o.persistence.sn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Zo(e){return sp(this.persistence,new C_,e.initialUser,this.k)}Xo(e){return new l0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const r=Gg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Yi.withCacheSize(this.cacheSizeBytes):Yi.DEFAULT;return new rp(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,nm(),Ec(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new O_}}class mm extends Sp{constructor(e,r){super(e,r,!1),this.ta=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,Oe.Z)(function*(){yield r().call(o,e);const c=o.ta.syncEngine;o.sharedClientState instanceof up&&(o.sharedClientState.syncEngine={mi:V0.bind(null,c),gi:rv.bind(null,c),yi:ab.bind(null,c),Tn:B0.bind(null,c),_i:L0.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.sn(function(){var f=(0,Oe.Z)(function*(y){yield function(i,e){return Ap.apply(this,arguments)}(o.ta.syncEngine,y),o.gcScheduler&&(y&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):y||o.gcScheduler.stop())});return function(y){return f.apply(this,arguments)}}())})()}Jo(e){const r=nm();if(!up.bt(r))throw new Ke(Ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Gg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new up(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class ym{initialize(e,r){var o=this;return(0,Oe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>od(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=O0.bind(null,o.syncEngine),yield Qh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new q_}createDatastore(e){const r=Gd(e.databaseInfo.databaseId),o=new E0(e.databaseInfo);return new I0(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,c=e.asyncQueue,f=b=>od(this.syncEngine,b,0),y=F_.bt()?new F_:new k_,new C0(r,o,c,f,y);var r,o,c,f,y}createSyncEngine(e,r){return function(o,c,f,y,b,O,H){const Z=new nf(o,c,f,y,b,O);return H&&(Z.Wo=!0),Z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,Oe.Z)(function*(r){const o=ct(r);nt("RemoteStore","RemoteStore shutting down."),o.Gr.add(5),yield td(o),o.Hr.shutdown(),o.Jr.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function H0(i,e=10240){let r=0;return{read:()=>(0,Oe.Z)(function*(){if(r<i.byteLength){const o={value:i.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,Oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _m{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class ub{constructor(e,r){this.sa=e,this.k=r,this.metadata=new Rr,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(o=>{o&&o._o()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,Oe.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,Oe.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,Oe.Z)(function*(){const r=yield e.oa();if(null===r)return null;const o=e.ia.decode(r),c=Number(o);isNaN(c)&&e.aa(`length string (${o}) is not valid number`);const f=yield e.ca(c);return new N0(JSON.parse(f),r.length+c)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,Oe.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const r=e.ua();r<0&&e.aa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}ca(e){var r=this;return(0,Oe.Z)(function*(){for(;r.buffer.length<e;)(yield r.ha())&&r.aa("Reached the end of bundle when more is expected.");const o=r.ia.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,Oe.Z)(function*(){const r=yield e.sa.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class W0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,Oe.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ke(Ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,Oe.Z)(function*(f,y){const b=ct(f),O=kd(b.k)+"/documents",H={documents:y.map(We=>kh(b.k,We))},Z=yield b.ji("BatchGetDocuments",O,H),ue=new Map;Z.forEach(We=>{const Ye=function(i,e){return"found"in e?function(r,o){jt(!!o.found);const c=Ya(r,o.found.name),f=Vi(o.found.updateTime),y=new bi({mapValue:{fields:o.found.fields}});return $t.newFoundDocument(c,f,y)}(i,e):"missing"in e?function(r,o){jt(!!o.missing),jt(!!o.readTime);const c=Ya(r,o.missing),f=Vi(o.readTime);return $t.newNoDocument(c,f)}(i,e):bt()}(b.k,We);ue.set(Ye.key.toString(),Ye)});const De=[];return y.forEach(We=>{const Ye=ue.get(We.toString());jt(!!Ye),De.push(Ye)}),De}),function(f,y){return c.apply(this,arguments)})(r.datastore,e);var c;return o.forEach(c=>r.recordVersion(c)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Os(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,c)=>{const f=Ct.fromPath(c);e.mutations.push(new pc(f,e.precondition(f)))}),yield(o=(0,Oe.Z)(function*(c,f){const y=ct(c),b=kd(y.k)+"/documents",O={writes:f.map(H=>Fh(y.k,H))};yield y.Bi("Commit",b,O)}),function(c,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw bt();r=rn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new Ke(Ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?d.updateTime(r):d.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(rn.min()))throw new Ke(Ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return d.updateTime(r)}return d.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uv{constructor(e,r,o,c){this.asyncQueue=e,this.datastore=r,this.updateFunction=o,this.deferred=c,this.la=5,this.ur=new rm(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,Oe.Z)(function*(){const r=new W0(e.datastore),o=e.da(r);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(c)}).catch(f=>{e.wa(f)}))}).catch(c=>{e.wa(c)})}))}da(e){try{const r=this.updateFunction(e);return!xu(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!Kl(r)}return!1}}class cb{constructor(e,r,o,c){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=c,this.user=Xr.UNAUTHENTICATED,this.clientId=bd.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,Oe.Z)(function*(b){nt("FirestoreClient","Received user=",b.uid),yield f.authCredentialListener(b),f.user=b});return function(b){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,Oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const c=ks(o,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function cv(i,e){return fl.apply(this,arguments)}function fl(){return(fl=(0,Oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var c=(0,Oe.Z)(function*(f){o.isEqual(f)||(yield D_(e.localStore,f),o=f)});return function(f){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e})).apply(this,arguments)}function lv(i,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,Oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield vm(i);nt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(c=>{return(f=(0,Oe.Z)(function*(y,b){const O=ct(y);O.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const H=al(O);O.Gr.add(3),yield td(O),H&&O.Jr.set("Unknown"),yield O.remoteSyncer.handleCredentialChange(b),O.Gr.delete(3),yield cp(O)}),function(y,b){return f.apply(this,arguments)})(e.remoteStore,c);var f}),i.onlineComponents=e})).apply(this,arguments)}function vm(i){return xp.apply(this,arguments)}function xp(){return(xp=(0,Oe.Z)(function*(i){return i.offlineComponents||(nt("FirestoreClient","Using default OfflineComponentProvider"),yield cv(i,new av)),i.offlineComponents})).apply(this,arguments)}function ud(i){return Em.apply(this,arguments)}function Em(){return(Em=(0,Oe.Z)(function*(i){return i.onlineComponents||(nt("FirestoreClient","Using default OnlineComponentProvider"),yield lv(i,new ym)),i.onlineComponents})).apply(this,arguments)}function wm(i){return vm(i).then(e=>e.persistence)}function Im(i){return vm(i).then(e=>e.localStore)}function dv(i){return ud(i).then(e=>e.remoteStore)}function bm(i){return ud(i).then(e=>e.syncEngine)}function Xd(i){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,Oe.Z)(function*(i){const e=yield ud(i),r=e.eventManager;return r.onListen=P0.bind(null,e.syncEngine),r.onUnlisten=sf.bind(null,e.syncEngine),r})).apply(this,arguments)}function Dm(i,e,r={}){const o=new Rr;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(c,f,y,b,O){const H=new _m({next:ue=>{f.enqueueAndForget(()=>Z_(c,Z));const De=ue.docs.has(y);!De&&ue.fromCache?O.reject(new Ke(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):De&&ue.fromCache&&b&&"server"===b.source?O.reject(new Ke(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(ue)},error:ue=>O.reject(ue)}),Z=new dm(Mu(y.path),H,{includeMetadataChanges:!0,wo:!0});return yp(c,Z)}(yield Xd(i),i.asyncQueue,e,r,o)})),o.promise}function z0(i,e,r={}){const o=new Rr;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(c,f,y,b,O){const H=new _m({next:ue=>{f.enqueueAndForget(()=>Z_(c,Z)),ue.fromCache&&"server"===b.source?O.reject(new Ke(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(ue)},error:ue=>O.reject(ue)}),Z=new dm(y,H,{includeMetadataChanges:!0,wo:!0});return yp(c,Z)}(yield Xd(i),i.asyncQueue,e,r,o)})),o.promise}class q0{constructor(e,r,o,c,f,y,b,O){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=c,this.ssl=f,this.forceLongPolling=y,this.autoDetectLongPolling=b,this.useFetchStreams=O}}class pl{constructor(e,r){this.projectId=e,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}const Np=new Map;function Sm(i,e,r){if(!r)throw new Ke(Ae.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Mp(i,e,r,o){if(!0===e&&!0===o)throw new Ke(Ae.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Pp(i){if(!Ct.isDocumentKey(i))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Rm(i){if(Ct.isDocumentKey(i))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function xm(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(r=i).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof i?"a function":bt()}function Rn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ke(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=xm(i);throw new Ke(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function Nm(i,e){if(e<=0)throw new Ke(Ae.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Mm{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ke(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ke(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Mp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,r,o){this._authCredentials=r,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mm({}),this._settingsFrozen=!1,e instanceof pl?this._databaseId=e:(this._app=e,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ke(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(c.options.projectId)}(e))}get app(){if(!this._app)throw new Ke(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mm(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new vg;switch(r.type){case"gapi":const o=r.client;return jt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new xf(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ke(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Np.get(e);r&&(nt("ComponentProvider","Removing Datastore"),Np.delete(e),r.terminate())}(this),Promise.resolve()}}class pr{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class ps{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class Ia extends ps{constructor(e,r,o){super(e,r,Mu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Ct(e))}withConverter(e){return new Ia(this.firestore,e,this._path)}}function Op(i,e,...r){if(i=(0,Yt.m9)(i),Sm("collection","path",e),i instanceof uf){const o=Pn.fromString(e,...r);return Rm(o),new Ia(i,null,o)}{if(!(i instanceof pr||i instanceof Ia))throw new Ke(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Pn.fromString(e,...r));return Rm(o),new Ia(i.firestore,null,o)}}function kp(i,e,...r){if(i=(0,Yt.m9)(i),1===arguments.length&&(e=bd.A()),Sm("doc","path",e),i instanceof uf){const o=Pn.fromString(e,...r);return Pp(o),new pr(i,null,new Ct(o))}{if(!(i instanceof pr||i instanceof Ia))throw new Ke(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Pn.fromString(e,...r));return Pp(o),new pr(i.firestore,i instanceof Ia?i.converter:null,new Ct(o))}}function Pm(i,e){return i=(0,Yt.m9)(i),e=(0,Yt.m9)(e),(i instanceof pr||i instanceof Ia)&&(e instanceof pr||e instanceof Ia)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Om(i,e){return i=(0,Yt.m9)(i),e=(0,Yt.m9)(e),i instanceof ps&&e instanceof ps&&i.firestore===e.firestore&&Yc(i._query,e._query)&&i.converter===e.converter}class km{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new rm(this,"async_queue_retry"),this.Ra=()=>{const r=Ec();r&&nt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.ur.er()};const e=Ec();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const r=Ec();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const r=new Rr;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,Oe.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(r){if(!jd(r))throw r;nt("AsyncQueue","Operation failed with retryable error: "+r)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const r=this.ma.then(()=>(this.Ea=!0,e().catch(o=>{throw this.Ta=o,this.Ea=!1,ei("INTERNAL UNHANDLED ERROR: ",function(f){let y=f.message||"";return f.stack&&(y=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),y}(o)),o}).then(o=>(this.Ea=!1,o))));return this.ma=r,r}enqueueAfterDelay(e,r,o){this.Pa(),this.Aa.indexOf(e)>-1&&(r=0);const c=z_.createAndSchedule(this,e,r,o,f=>this.Va(f));return this.pa.push(c),c}Pa(){this.Ta&&bt()}verifyOperationInProgress(){}Sa(){var e=this;return(0,Oe.Z)(function*(){let r;do{r=e.ma,yield r}while(r!==e.ma)})()}Da(e){for(const r of this.pa)if(r.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.pa)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const r=this.pa.indexOf(e);this.pa.splice(r,1)}}function Fp(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(i)}class Z0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wr extends uf{constructor(e,r,o){super(e,r,o),this.type="firestore",this._queue=new km,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Fm(this),this._firestoreClient.terminate()}}function Ti(i){return i._firestoreClient||Fm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Fm(i){var e;const r=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new q0(i._databaseId,f,i._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var f,b;i._firestoreClient=new cb(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Lm(i,e,r){const o=new Rr;return i.asyncQueue.enqueue((0,Oe.Z)(function*(){try{yield cv(i,r),yield lv(i,e),o.resolve()}catch(c){if(!("FirebaseError"===(f=c).name?f.code===Ae.FAILED_PRECONDITION||f.code===Ae.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),o.reject(c)}var f})).then(()=>o.promise)}function bv(i){if(i._initialized||i._terminated)throw new Ke(Ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gr{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ke(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hu(di.fromBase64String(e))}catch(r){throw new Ke(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Hu(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cd{constructor(e){this._methodName=e}}class cf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ke(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}}const ew=/^__.*__$/;class Cv{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new ht(e,this.data,this.fieldMask,r,this.fieldTransforms):new qe(e,this.data,r,this.fieldTransforms)}}class Vm{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new ht(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function ld(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class Lp{constructor(e,r,o,c,f,y){this.settings=e,this.databaseId=r,this.k=o,this.ignoreUndefinedProperties=c,void 0===f&&this.ka(),this.fieldTransforms=f||[],this.fieldMask=y||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new Lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.$a({path:o,Oa:!1});return c.Ma(e),c}La(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.$a({path:o,Oa:!1});return c.ka(),c}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return th(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(ld(this.xa)&&ew.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class tw{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.k=o||Gd(e)}ja(e,r,o,c=!1){return new Lp({xa:e,methodName:r,Ka:o,path:Li.emptyPath(),Oa:!1,qa:c},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function gl(i){const e=i._freezeSettings(),r=Gd(i._databaseId);return new tw(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Vp(i,e,r,o,c,f={}){const y=i.ja(f.merge||f.mergeFields?2:0,e,r,c);Hm("Data must be an object, but it was:",y,o);const b=Bm(o,y);let O,H;if(f.merge)O=new Su(y.fieldMask),H=y.fieldTransforms;else if(f.mergeFields){const Z=[];for(const ue of f.mergeFields){const De=Wm(e,ue,r);if(!y.contains(De))throw new Ke(Ae.INVALID_ARGUMENT,`Field '${De}' is specified in your field mask but missing from your input data.`);nh(Z,De)||Z.push(De)}O=new Su(Z),H=y.fieldTransforms.filter(ue=>O.covers(ue.field))}else O=null,H=y.fieldTransforms;return new Cv(new bi(b),O,H)}class eh extends cd{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function nw(i,e,r){return new Lp({xa:3,Ka:e.settings.Ka,methodName:i._methodName,Oa:r},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Up extends cd{_toFieldTransform(e){return new zl(e.path,new fc)}isEqual(e){return e instanceof Up}}class Um extends cd{constructor(e,r){super(e),this.Qa=r}_toFieldTransform(e){const r=nw(this,e,!0),o=this.Qa.map(f=>gs(f,r)),c=new hs(o);return new zl(e.path,c)}isEqual(e){return this===e}}class Wu extends cd{constructor(e,r){super(e),this.Qa=r}_toFieldTransform(e){const r=nw(this,e,!0),o=this.Qa.map(f=>gs(f,r)),c=new Ka(o);return new zl(e.path,c)}isEqual(e){return this===e}}class rw extends cd{constructor(e,r){super(e),this.Wa=r}_toFieldTransform(e){const r=new qa(e.k,jf(e.k,this.Wa));return new zl(e.path,r)}isEqual(e){return this===e}}function jm(i,e,r,o){const c=i.ja(1,e,r);Hm("Data must be an object, but it was:",c,o);const f=[],y=bi.empty();ac(o,(O,H)=>{const Z=Gm(e,O,r);H=(0,Yt.m9)(H);const ue=c.La(Z);if(H instanceof eh)f.push(Z);else{const De=gs(H,ue);null!=De&&(f.push(Z),y.set(Z,De))}});const b=new Su(f);return new Vm(y,b,c.fieldTransforms)}function ba(i,e,r,o,c,f){const y=i.ja(1,e,r),b=[Wm(e,o,r)],O=[c];if(f.length%2!=0)throw new Ke(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let De=0;De<f.length;De+=2)b.push(Wm(e,f[De])),O.push(f[De+1]);const H=[],Z=bi.empty();for(let De=b.length-1;De>=0;--De)if(!nh(H,b[De])){const We=b[De];let Ye=O[De];Ye=(0,Yt.m9)(Ye);const _t=y.La(We);if(Ye instanceof eh)H.push(We);else{const Bt=gs(Ye,_t);null!=Bt&&(H.push(We),Z.set(We,Bt))}}const ue=new Su(H);return new Vm(Z,ue,y.fieldTransforms)}function Ca(i,e,r,o=!1){return gs(r,i.ja(o?4:3,e))}function gs(i,e){if($m(i=(0,Yt.m9)(i)))return Hm("Unsupported field value:",e,i),Bm(i,e);if(i instanceof cd)return function(r,o){if(!ld(o.xa))throw o.Ua(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Ua(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(r,o){const c=[];let f=0;for(const y of r){let b=gs(y,o.Ba(f));null==b&&(b={nullValue:"NULL_VALUE"}),c.push(b),f++}return{arrayValue:{values:c}}}(i,e)}return function(r,o){if(null===(r=(0,Yt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return jf(o.k,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=xr.fromDate(r);return{timestampValue:tl(o.k,c)}}if(r instanceof xr){const c=new xr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tl(o.k,c)}}if(r instanceof cf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hu)return{bytesValue:Mg(o.k,r._byteString)};if(r instanceof pr){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.Ua(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Oh(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Ua(`Unsupported field value: ${xm(r)}`)}(i,e)}function Bm(i,e){const r={};return Mf(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ac(i,(o,c)=>{const f=gs(c,e.Fa(o));null!=f&&(r[o]=f)}),{mapValue:{fields:r}}}function $m(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof xr||i instanceof cf||i instanceof Hu||i instanceof pr||i instanceof cd)}function Hm(i,e,r){if(!$m(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=xm(r);throw e.Ua("an object"===o?i+" a custom object":i+" "+o)}var o}function Wm(i,e,r){if((e=(0,Yt.m9)(e))instanceof gr)return e._internalPath;if("string"==typeof e)return Gm(i,e);throw th("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const iw=new RegExp("[~\\*/\\[\\]]");function Gm(i,e,r){if(e.search(iw)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new gr(...e.split("."))._internalPath}catch(o){throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function th(i,e,r,o,c){const f=o&&!o.isEmpty(),y=void 0!==c;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let O="";return(f||y)&&(O+=" (found",f&&(O+=` in field ${o}`),y&&(O+=` in document ${c}`),O+=")"),new Ke(Ae.INVALID_ARGUMENT,b+i+O)}function nh(i,e){return i.some(r=>r.isEqual(e))}class lf{constructor(e,r,o,c,f){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Dv extends lf{data(){return super.data()}}function jp(i,e){return"string"==typeof e?Gm(i,e):e instanceof gr?e._internalPath:e._delegate._internalPath}class ml{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gu extends lf{constructor(e,r,o,c,f,y){super(e,r,o,c,y),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class yl extends Gu{data(e={}){return super.data(e)}}class _l{constructor(e,r,o,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new ml(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new yl(this._firestore,this._userDataWriter,o.key,o,new ml(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ke(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new yl(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ml(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>c||3!==y.type).map(y=>{const b=new yl(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ml(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let O=-1,H=-1;return 0!==y.type&&(O=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),1!==y.type&&(f=f.add(y.doc),H=f.indexOf(y.doc.key)),{type:Tv(y.type),doc:b,oldIndex:O,newIndex:H}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Tv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function zm(i,e){return i instanceof Gu&&e instanceof Gu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof _l&&e instanceof _l&&i._firestore===e._firestore&&Om(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Bp(i){if(xd(i)&&0===i.explicitOrderBy.length)throw new Ke(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vl{}function Ic(i,...e){for(const r of e)i=r._apply(i);return i}class Av extends vl{constructor(e,r,o){super(),this.Ga=e,this.za=r,this.Ha=o,this.type="where"}_apply(e){const r=gl(e.firestore),o=function(c,f,y,b,O,H,Z){let ue;if(O.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on FieldPath.documentId().`);if("in"===H||"not-in"===H){Lv(Z,H);const We=[];for(const Ye of Z)We.push(Fv(b,c,Ye));ue={arrayValue:{values:We}}}else ue=Fv(b,c,Z)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Lv(Z,H),ue=Ca(y,"where",Z,"in"===H||"not-in"===H);const De=Ci.create(O,H,ue);return function(We,Ye){if(Ye.V()){const Bt=ls(We);if(null!==Bt&&!Bt.isEqual(Ye.field))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Bt.toString()}' and '${Ye.field.toString()}'`);const mr=Hl(We);null!==mr&&Vv(0,Ye.field,mr)}const _t=function(Bt,mr){for(const fi of Bt.filters)if(mr.indexOf(fi.op)>=0)return fi.op;return null}(We,function(Bt){switch(Bt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ye.op));if(null!==_t)throw new Ke(Ae.INVALID_ARGUMENT,_t===Ye.op?`Invalid query. You cannot use more than one '${Ye.op.toString()}' filter.`:`Invalid query. You cannot use '${Ye.op.toString()}' filters with '${_t.toString()}' filters.`)}(c,De),De}(e._query,0,r,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new ps(e.firestore,e.converter,function(c,f){const y=c.filters.concat([f]);return new ya(c.path,c.collectionGroup,c.explicitOrderBy.slice(),y,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,o))}}class Rv extends vl{constructor(e,r){super(),this.Ga=e,this.Ja=r,this.type="orderBy"}_apply(e){const r=function(o,c,f){if(null!==o.startAt)throw new Ke(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ke(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new Nu(c,f);return function(b,O){if(null===Hl(b)){const H=ls(b);null!==H&&Vv(0,H,O.field)}}(o,y),y}(e._query,this.Ga,this.Ja);return new ps(e.firestore,e.converter,function(o,c){const f=o.explicitOrderBy.concat([c]);return new ya(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class Km extends vl{constructor(e,r,o){super(),this.type=e,this.Ya=r,this.Xa=o}_apply(e){return new ps(e.firestore,e.converter,Nd(e._query,this.Ya,this.Xa))}}class Pv extends vl{constructor(e,r,o){super(),this.type=e,this.Za=r,this.tc=o}_apply(e){const r=kv(e,this.type,this.Za,this.tc);return new ps(e.firestore,e.converter,(c=r,new ya((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}class Ov extends vl{constructor(e,r,o){super(),this.type=e,this.Za=r,this.tc=o}_apply(e){const r=kv(e,this.type,this.Za,this.tc);return new ps(e.firestore,e.converter,(c=r,new ya((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function kv(i,e,r,o){if(r[0]=(0,Yt.m9)(r[0]),r[0]instanceof lf)return function(c,f,y,b,O){if(!b)throw new Ke(Ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const H=[];for(const Z of Ga(c))if(Z.field.isKeyField())H.push(Td(f,b.key));else{const ue=b.data.field(Z.field);if(ro(ue))throw new Ke(Ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Z.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ue){const De=Z.field.canonicalString();throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${De}' (used as the orderBy) does not exist.`)}H.push(ue)}return new ti(H,O)}(i._query,i.firestore._databaseId,e,r[0]._document,o);{const c=gl(i.firestore);return function(f,y,b,O,H,Z){const ue=f.explicitOrderBy;if(H.length>ue.length)throw new Ke(Ae.INVALID_ARGUMENT,`Too many arguments provided to ${O}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const De=[];for(let We=0;We<H.length;We++){const Ye=H[We];if(ue[We].field.isKeyField()){if("string"!=typeof Ye)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${O}(), but got a ${typeof Ye}`);if(!Pu(f)&&-1!==Ye.indexOf("/"))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${O}() must be a plain document ID, but '${Ye}' contains a slash.`);const _t=f.path.child(Pn.fromString(Ye));if(!Ct.isDocumentKey(_t))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${O}() must result in a valid document path, but '${_t}' is not because it contains an odd number of segments.`);const Bt=new Ct(_t);De.push(Td(y,Bt))}else{const _t=Ca(b,O,Ye);De.push(_t)}}return new ti(De,Z)}(i._query,i.firestore._databaseId,c,e,r,o)}}function Fv(i,e,r){if("string"==typeof(r=(0,Yt.m9)(r))){if(""===r)throw new Ke(Ae.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pu(e)&&-1!==r.indexOf("/"))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Pn.fromString(r));if(!Ct.isDocumentKey(o))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Td(i,new Ct(o))}if(r instanceof pr)return Td(i,r._key);throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${xm(r)}.`)}function Lv(i,e){if(!Array.isArray(i)||0===i.length)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Vv(i,e,r){if(!r.isEqual(e))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class qm{convertValue(e,r="none"){switch(Gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ru(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw bt()}}convertObject(e,r){const o={};return ac(e.fields,(c,f)=>{o[c]=this.convertValue(f,r)}),o}convertGeoPoint(e){return new cf(wr(e.latitude),wr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Hc(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const r=ga(e);return new xr(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Pn.fromString(e);jt(Lh(o));const c=new pl(o.get(1),o.get(3)),f=new Ct(o.popFirst(5));return c.isEqual(r)||ei(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function $p(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}class cw extends qm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,r)}}class Uv{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=gl(e)}set(e,r,o){this._verifyNotCommitted();const c=El(e,this._firestore),f=$p(c.converter,r,o),y=Vp(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,o);return this._mutations.push(y.toMutation(c._key,d.none())),this}update(e,r,o,...c){this._verifyNotCommitted();const f=El(e,this._firestore);let y;return y="string"==typeof(r=(0,Yt.m9)(r))||r instanceof gr?ba(this._dataReader,"WriteBatch.update",f._key,r,o,c):jm(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(y.toMutation(f._key,d.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=El(e,this._firestore);return this._mutations=this._mutations.concat(new Os(r._key,d.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function El(i,e){if((i=(0,Yt.m9)(i)).firestore!==e)throw new Ke(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class dd extends qm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,r)}}function Zm(i,e,r){i=Rn(i,pr);const o=Rn(i.firestore,Wr),c=$p(i.converter,e,r);return hd(o,[Vp(gl(o),"setDoc",i._key,c,null!==i.converter,r).toMutation(i._key,d.none())])}function Ym(i,e,r,...o){i=Rn(i,pr);const c=Rn(i.firestore,Wr),f=gl(c);let y;return y="string"==typeof(e=(0,Yt.m9)(e))||e instanceof gr?ba(f,"updateDoc",i._key,e,r,o):jm(f,"updateDoc",i._key,e),hd(c,[y.toMutation(i._key,d.exists(!0))])}function Qm(i,...e){var r,o,c;i=(0,Yt.m9)(i);let f={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||Fp(e[y])||(f=e[y],y++);const b={includeMetadataChanges:f.includeMetadataChanges};if(Fp(e[y])){const ue=e[y];e[y]=null===(r=ue.next)||void 0===r?void 0:r.bind(ue),e[y+1]=null===(o=ue.error)||void 0===o?void 0:o.bind(ue),e[y+2]=null===(c=ue.complete)||void 0===c?void 0:c.bind(ue)}let O,H,Z;if(i instanceof pr)H=Rn(i.firestore,Wr),Z=Mu(i._key.path),O={next:ue=>{e[y]&&e[y](bc(H,i,ue))},error:e[y+1],complete:e[y+2]};else{const ue=Rn(i,ps);H=Rn(ue.firestore,Wr),Z=ue._query;const De=new dd(H);O={next:We=>{e[y]&&e[y](new _l(H,De,ue,We))},error:e[y+1],complete:e[y+2]},Bp(i._query)}return function(ue,De,We,Ye){const _t=new _m(Ye),Bt=new dm(De,_t,We);return ue.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return yp(yield Xd(ue),Bt)})),()=>{_t.na(),ue.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return Z_(yield Xd(ue),Bt)}))}}(Ti(H),Z,b,O)}function hd(i,e){return function(r,o){const c=new Rr;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(i,e,r){return qd.apply(this,arguments)}(yield bm(r),o,c)})),c.promise}(Ti(i),e)}function bc(i,e,r){const o=r.docs.get(e._key),c=new dd(i);return new Gu(i,c,e._key,o,new ml(r.hasPendingWrites,r.fromCache),e.converter)}class hw extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=gl(e)}get(e){const r=El(e,this._firestore),o=new cw(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return bt();const f=c[0];if(f.isFoundDocument())return new lf(this._firestore,o,f.key,f,r.converter);if(f.isNoDocument())return new lf(this._firestore,o,r._key,null,r.converter);throw bt()})}set(e,r,o){const c=El(e,this._firestore),f=$p(c.converter,r,o),y=Vp(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,o);return this._transaction.set(c._key,y),this}update(e,r,o,...c){const f=El(e,this._firestore);let y;return y="string"==typeof(r=(0,Yt.m9)(r))||r instanceof gr?ba(this._dataReader,"Transaction.update",f._key,r,o,c):jm(this._dataReader,"Transaction.update",f._key,r),this._transaction.update(f._key,y),this}delete(e){const r=El(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=El(e,this._firestore),o=new dd(this._firestore);return super.get(e).then(c=>new Gu(this._firestore,o,r._key,c._document,new ml(!1,!1),r.converter))}}function ey(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ke("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Kv(){if("undefined"==typeof Uint8Array)throw new Ke("unimplemented","Uint8Arrays are not available in this environment.")}function qv(){if("undefined"==typeof atob)throw new Ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){oc=Yr.SDK_VERSION,(0,Yr._registerComponent)(new Mr.wA("firestore",(r,{options:o})=>{const c=r.getProvider("app").getImmediate(),f=new Wr(c,new Id(r.getProvider("auth-internal")),new Nf(r.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC")),(0,Yr.registerVersion)(Tu,"3.4.0",i),(0,Yr.registerVersion)(Tu,"3.4.0","esm2017")}();class wl{constructor(e){this._delegate=e}static fromBase64String(e){return qv(),new wl(Hu.fromBase64String(e))}static fromUint8Array(e){return Kv(),new wl(Hu.fromUint8Array(e))}toBase64(){return qv(),this._delegate.toBase64()}toUint8Array(){return Kv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ty(i){return function(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(i)}class Wp{enableIndexedDbPersistence(e,r){return function(i,e){bv(i=Rn(i,Wr));const r=Ti(i),o=i._freezeSettings(),c=new ym;return Lm(r,c,new Sp(c,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function(i){bv(i=Rn(i,Wr));const e=Ti(i),r=i._freezeSettings(),o=new ym;return Lm(e,o,new mm(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(i){if(i._initialized&&!i._terminated)throw new Ke(Ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{yield(r=(0,Oe.Z)(function*(o){if(!ku.bt())return Promise.resolve();const c=o+"main";yield ku.delete(c)}),function(o){return r.apply(this,arguments)})(Gg(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class Gr{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof pl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&jc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function(i,e,r,o={}){var c;const f=(i=Rn(i,uf))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&jc("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let y,b;if("string"==typeof o.mockUserToken)y=o.mockUserToken,b=Xr.MOCK_USER;else{y=(0,Yt.Sg)(o.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const O=o.mockUserToken.sub||o.mockUserToken.user_id;if(!O)throw new Ke(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xr(O)}i._authCredentials=new vh(new _h(y,b))}}(this._delegate,e,r,o)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield wm(i),r=yield dv(i);return e.setNetworkEnabled(!0),function(o){const c=ct(o);return c.Gr.delete(0),cp(c)}(r)}))}(Ti(i=Rn(i,Wr)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield wm(i),r=yield dv(i);return e.setNetworkEnabled(!1),(o=(0,Oe.Z)(function*(c){const f=ct(c);f.Gr.add(0),yield td(f),f.Jr.set("Offline")}),function(c){return o.apply(this,arguments)})(r);var o}))}(Ti(i=Rn(i,Wr)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Mp("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(e){const r=new Rr;return e.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(i,e){return hl.apply(this,arguments)}(yield bm(e),r)})),r.promise}(Ti(i=Rn(i,Wr)))}(this._delegate)}onSnapshotsInSync(e){return function(i,e){return function(i,e){const r=new _m(e);return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return o=yield Xd(i),c=r,ct(o).io.add(c),void c.next();var o,c})),()=>{r.na(),i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return o=yield Xd(i),c=r,void ct(o).io.delete(c);var o,c}))}}(Ti(i=Rn(i,Wr)),Fp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ih(this,Op(this._delegate,e))}catch(r){throw Fs(r,"collection()","Firestore.collection()")}}doc(e){try{return new Yo(this,kp(this._delegate,e))}catch(r){throw Fs(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Bi(this,function(i,e){if(i=Rn(i,uf),Sm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ps(i,null,(r=e,new ya(Pn.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw Fs(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(i,e){return function(i,e){const r=new Rr;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){const o=yield(c=i,ud(c).then(f=>f.datastore));var c;new uv(i.asyncQueue,o,e,r).run()})),r.promise}(Ti(i=Rn(i,Wr)),r=>e(new hw(i,r)))}(this._delegate,r=>e(new Gp(this,r)))}batch(){return Ti(this._delegate),new Yv(new Uv(this._delegate,e=>hd(this._delegate,e)))}loadBundle(e){return function(i,e){const r=Ti(i=Rn(i,Wr)),o=new Z0;return function(i,e,r,o){const c=function(f,y){let b;return b="string"==typeof f?(new TextEncoder).encode(f):f,O=function(O,H){if(O instanceof Uint8Array)return H0(O,H);if(O instanceof ArrayBuffer)return H0(new Uint8Array(O),H);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new ub(O,y);var O}(r,Gd(e));i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){!function(i,e,r){const o=ct(i);var c;(c=(0,Oe.Z)(function*(f,y,b){try{const O=yield y.getMetadata();if(yield function(De,We){const Ye=ct(De),_t=Vi(We.createTime);return Ye.persistence.runTransaction("hasNewerBundle","readonly",Bt=>Ye.Ye.getBundleMetadata(Bt,We.id)).then(Bt=>!!Bt&&Bt.createTime.compareTo(_t)>=0)}(f.localStore,O))return yield y.close(),void b._completeWith((De=O,{taskState:"Success",documentsLoaded:De.totalDocuments,bytesLoaded:De.totalBytes,totalDocuments:De.totalDocuments,totalBytes:De.totalBytes}));b._updateProgress(Q_(O));const H=new M0(O,f.localStore,y.k);let Z=yield y.Ho();for(;Z;){const De=yield H.yo(Z);De&&b._updateProgress(De),Z=yield y.Ho()}const ue=yield H.complete();yield $u(f,ue.In,void 0),yield function(De,We){const Ye=ct(De);return Ye.persistence.runTransaction("Save bundle","readwrite",_t=>Ye.Ye.saveBundleMetadata(_t,We))}(f.localStore,O),b._completeWith(ue.progress)}catch(O){jc("SyncEngine",`Loading bundle failed with ${O}`),b._failWith(O)}var De}),function(f,y,b){return c.apply(this,arguments)})(o,e,r).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield bm(i),c,o)}))}(r,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function(i,e){return function(i,e){return i.asyncQueue.enqueue((0,Oe.Z)(function*(){return function(r,o){const c=ct(r);return c.persistence.runTransaction("Get named query","readonly",f=>c.Ye.getNamedQuery(f,o))}(yield Im(i),e)}))}(Ti(i=Rn(i,Wr)),e).then(r=>r?new ps(i,null,r.query):null)}(this._delegate,e).then(r=>r?new Bi(this,r):null)}}class ny extends qm{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(new Hu(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Yo.forKey(r,this.firestore,null)}}class Gp{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new ny(e)}get(e){const r=zu(e);return this._delegate.get(r).then(o=>new df(this._firestore,new Gu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const c=zu(e);return o?(ey("Transaction.set",o),this._delegate.set(c,r,o)):this._delegate.set(c,r),this}update(e,r,o,...c){const f=zu(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,o,...c),this}delete(e){const r=zu(e);return this._delegate.delete(r),this}}class Yv{constructor(e){this._delegate=e}set(e,r,o){const c=zu(e);return o?(ey("WriteBatch.set",o),this._delegate.set(c,r,o)):this._delegate.set(c,r),this}update(e,r,o,...c){const f=zu(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,o,...c),this}delete(e){const r=zu(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Il{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new yl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hf(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=Il.INSTANCES;let c=o.get(e);c||(c=new WeakMap,o.set(e,c));let f=c.get(r);return f||(f=new Il(e,new ny(e),r),c.set(r,f)),f}}Il.INSTANCES=new WeakMap;class Yo{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new ny(e)}static forPath(e,r,o){if(e.length%2!=0)throw new Ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yo(r,new pr(r._delegate,o,new Ct(e)))}static forKey(e,r,o){return new Yo(r,new pr(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new ih(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ih(this.firestore,Op(this._delegate,e))}catch(r){throw Fs(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.m9)(e))instanceof pr&&Pm(this._delegate,e)}set(e,r){r=ey("DocumentReference.set",r);try{return r?Zm(this._delegate,e,r):Zm(this._delegate,e)}catch(o){throw Fs(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?Ym(this._delegate,e):Ym(this._delegate,e,r,...o)}catch(c){throw Fs(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return hd(Rn(i.firestore,Wr),[new Os(i._key,d.none())])}(this._delegate)}onSnapshot(...e){const r=ry(e),o=Qv(e,c=>new df(this.firestore,new Gu(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Qm(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(i){i=Rn(i,pr);const e=Rn(i.firestore,Wr),r=Ti(e),o=new dd(e);return function(i,e){const r=new Rr;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(o=(0,Oe.Z)(function*(c,f,y){try{const b=yield function(O,H){const Z=ct(O);return Z.persistence.runTransaction("read document","readonly",ue=>Z.Wn.Rn(ue,H))}(c,f);b.isFoundDocument()?y.resolve(b):b.isNoDocument()?y.resolve(null):y.reject(new Ke(Ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const O=ks(b,`Failed to get document '${f} from cache`);y.reject(O)}}),function(c,f,y){return o.apply(this,arguments)})(yield Im(i),e,r);var o})),r.promise}(r,i._key).then(c=>new Gu(e,o,i._key,c,new ml(null!==c&&c.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(i){i=Rn(i,pr);const e=Rn(i.firestore,Wr);return Dm(Ti(e),i._key,{source:"server"}).then(r=>bc(e,i,r))}(this._delegate):function(i){i=Rn(i,pr);const e=Rn(i.firestore,Wr);return Dm(Ti(e),i._key).then(r=>bc(e,i,r))}(this._delegate),r.then(o=>new df(this.firestore,new Gu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Yo(this.firestore,this._delegate.withConverter(e?Il.getInstance(this.firestore,e):null))}}function Fs(i,e,r){return i.message=i.message.replace(e,r),i}function ry(i){for(const e of i)if("object"==typeof e&&!ty(e))return e;return{}}function Qv(i,e){var r,o;let c;return c=ty(i[0])?i[0]:ty(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:f=>{c.next&&c.next(e(f))},error:null===(r=c.error)||void 0===r?void 0:r.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class df{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Yo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return zm(this._delegate,e._delegate)}}class hf extends df{data(e){const r=this._delegate.data(e);return function(i,e){i||bt()}(void 0!==r),r}}class Bi{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new ny(e)}where(e,r,o){try{return new Bi(this.firestore,Ic(this._delegate,function(i,e,r){const o=e,c=jp("where",i);return new Av(c,o,r)}(e,r,o)))}catch(c){throw Fs(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Bi(this.firestore,Ic(this._delegate,function(i,e="asc"){const r=e,o=jp("orderBy",i);return new Rv(o,r)}(e,r)))}catch(o){throw Fs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Bi(this.firestore,Ic(this._delegate,function(i){return Nm("limit",i),new Km("limit",i,"F")}(e)))}catch(r){throw Fs(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Bi(this.firestore,Ic(this._delegate,function(i){return Nm("limitToLast",i),new Km("limitToLast",i,"L")}(e)))}catch(r){throw Fs(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Bi(this.firestore,Ic(this._delegate,function(...i){return new Pv("startAt",i,!0)}(...e)))}catch(r){throw Fs(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Bi(this.firestore,Ic(this._delegate,function(...i){return new Pv("startAfter",i,!1)}(...e)))}catch(r){throw Fs(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Bi(this.firestore,Ic(this._delegate,function(...i){return new Ov("endBefore",i,!0)}(...e)))}catch(r){throw Fs(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Bi(this.firestore,Ic(this._delegate,function(...i){return new Ov("endAt",i,!1)}(...e)))}catch(r){throw Fs(r,"endAt()","Query.endAt()")}}isEqual(e){return Om(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(i){i=Rn(i,ps);const e=Rn(i.firestore,Wr),r=Ti(e),o=new dd(e);return function(i,e){const r=new Rr;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(o=(0,Oe.Z)(function*(c,f,y){try{const b=yield ed(c,f,!0),O=new id(f,b.zn),H=O.bo(b.documents),Z=O.applyChanges(H,!1);y.resolve(Z.snapshot)}catch(b){const O=ks(b,`Failed to execute query '${f} against cache`);y.reject(O)}}),function(c,f,y){return o.apply(this,arguments)})(yield Im(i),e,r);var o})),r.promise}(r,i._query).then(c=>new _l(e,o,i,c))}(this._delegate):"server"===(null==e?void 0:e.source)?function(i){i=Rn(i,ps);const e=Rn(i.firestore,Wr),r=Ti(e),o=new dd(e);return z0(r,i._query,{source:"server"}).then(c=>new _l(e,o,i,c))}(this._delegate):function(i){i=Rn(i,ps);const e=Rn(i.firestore,Wr),r=Ti(e),o=new dd(e);return Bp(i._query),z0(r,i._query).then(c=>new _l(e,o,i,c))}(this._delegate),r.then(o=>new iy(this.firestore,new _l(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=ry(e),o=Qv(e,c=>new iy(this.firestore,new _l(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Qm(this._delegate,r,o)}withConverter(e){return new Bi(this.firestore,this._delegate.withConverter(e?Il.getInstance(this.firestore,e):null))}}class gw{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new hf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iy{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Bi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new gw(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new hf(this._firestore,o))})}isEqual(e){return zm(this._delegate,e._delegate)}}class ih extends Bi{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yo(this.firestore,e):null}doc(e){try{return new Yo(this.firestore,void 0===e?kp(this._delegate):kp(this._delegate,e))}catch(r){throw Fs(r,"doc()","CollectionReference.doc()")}}add(e){return function(i,e){const r=Rn(i.firestore,Wr),o=kp(i),c=$p(i.converter,e);return hd(r,[Vp(gl(i.firestore),"addDoc",o._key,c,null!==i.converter,{}).toMutation(o._key,d.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new Yo(this.firestore,r))}isEqual(e){return Pm(this._delegate,e._delegate)}withConverter(e){return new ih(this.firestore,this._delegate.withConverter(e?Il.getInstance(this.firestore,e):null))}}function zu(i){return Rn(i,pr)}class zp{constructor(...e){this._delegate=new gr(...e)}static documentId(){return new zp(Li.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.m9)(e))instanceof gr&&this._delegate._internalPath.isEqual(e._internalPath)}}class bl{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Up("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new bl(e)}static delete(){const e=new eh("deleteField");return e._methodName="FieldValue.delete",new bl(e)}static arrayUnion(...e){const r=function(...i){return new Um("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new bl(r)}static arrayRemove(...e){const r=function(...i){return new Wu("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new bl(r)}static increment(e){const r=function(i){return new rw("increment",i)}(e);return r._methodName="FieldValue.increment",new bl(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Jv={Firestore:Gr,GeoPoint:cf,Timestamp:xr,Blob:wl,Transaction:Gp,WriteBatch:Yv,DocumentReference:Yo,DocumentSnapshot:df,Query:Bi,QueryDocumentSnapshot:hf,QuerySnapshot:iy,CollectionReference:ih,FieldPath:zp,FieldValue:bl,setLogLevel:function(i){!function(i){fa.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,e){i.INTERNAL.registerComponent(new Mr.wA("firestore-compat",r=>((e,r)=>new Gr(e,r,new Wp))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Jv)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.9")}(Ni.Z);var sh=U(9765),yw=U(6682),pf=U(309),Cl=U(3190),Xv=U(7771),eE=U(5319),tE=U(7971),_w=U(8858);class nE extends sh.xQ{constructor(e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new vw(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const r=this._infiniteTimeWindow,o=r?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,f=o.length;let y;if(this.closed)throw new tE.N;if(this.isStopped||this.hasError?y=eE.w.EMPTY:(this.observers.push(e),y=new _w.W(this,e)),c&&e.add(e=new pf.ht(e,c)),r)for(let b=0;b<f&&!e.closed;b++)e.next(o[b]);else for(let b=0;b<f&&!e.closed;b++)e.next(o[b].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),y}_getNow(){return(this.scheduler||Xv.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),r=this._bufferSize,o=this._windowTime,c=this._events,f=c.length;let y=0;for(;y<f&&!(e-c[y].time<o);)y++;return f>r&&(y=Math.max(y,f-r)),y>0&&c.splice(0,y),c}}class vw{constructor(e,r){this.time=e,this.value=r}}function rE(i,e,r){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:e,refCount:!1,scheduler:r},c=>c.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:r,scheduler:o}){let c,y,f=0,b=!1,O=!1;return function(Z){let ue;f++,!c||b?(b=!1,c=new nE(i,e,o),ue=c.subscribe(this),y=Z.subscribe({next(De){c.next(De)},error(De){b=!0,c.error(De)},complete(){O=!0,y=void 0,c.complete()}}),O&&(y=void 0)):ue=c.subscribe(this),this.add(()=>{f--,ue.unsubscribe(),ue=void 0,y&&!O&&r&&0===f&&(y.unsubscribe(),y=void 0,c=void 0)})}}(o))}var yb=U(8049);function Ew(i,e){return e?(0,Cl.w)(()=>i,e):(0,Cl.w)(()=>i)}var iE=U(3101);U(2329);const oy=new Map,Tw={activated:!1,tokenObservers:[]},oE={initialized:!1,enabled:!1};function Ji(i){return oy.get(i)||Tw}function Qo(i,e){oy.set(i,e)}function Kp(){return oE}class Rw{constructor(e,r,o,c,f){if(this.operation=e,this.retryPolicy=r,this.getWaitDuration=o,this.lowerBound=c,this.upperBound=f,this.pending=null,this.nextErrorWaitInterval=c,c>f)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var r=this;return(0,Oe.Z)(function*(){r.stop();try{r.pending=new Yt.BH,yield function(i){return new Promise(e=>{setTimeout(e,i)})}(r.getNextRun(e)),r.pending.resolve(),yield r.pending.promise,r.pending=new Yt.BH,yield r.operation(),r.pending.resolve(),yield r.pending.promise,r.process(!0).catch(()=>{})}catch(o){r.retryPolicy(o)?r.process(!1).catch(()=>{}):r.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const r=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),r}}}const ao=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function lE(i){if(!Ji(i).activated)throw ao.create("use-before-activation",{appName:i.name})}function cy(i,e){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,Oe.Z)(function*({url:i,body:e},r){const o={"Content-Type":"application/json"},c=r.getImmediate({optional:!0});c&&(o["X-Firebase-Client"]=c.getPlatformInfoString());const f={method:"POST",body:JSON.stringify(e),headers:o};let y,b;try{y=yield fetch(i,f)}catch(ue){throw ao.create("fetch-network-error",{originalErrorMessage:ue.message})}if(200!==y.status)throw ao.create("fetch-status-error",{httpStatus:y.status});try{b=yield y.json()}catch(ue){throw ao.create("fetch-parse-error",{originalErrorMessage:ue.message})}const O=b.ttl.match(/^([\d.]+)(s)$/);if(!O||!O[2]||isNaN(Number(O[1])))throw ao.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const H=1e3*Number(O[1]),Z=Date.now();return{token:b.attestationToken,expireTimeMillis:Z+H,issuedAtTimeMillis:Z}})).apply(this,arguments)}function Pw(i,e){const{projectId:r,appId:o,apiKey:c}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${r}/apps/${o}:exchangeDebugToken?key=${c}`,body:{debug_token:e}}}const mf="firebase-app-check-store";let oh=null;function Jp(){return oh||(oh=new Promise((i,e)=>{try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{i(o.target.result)},r.onerror=o=>{var c;e(ao.create("storage-open",{originalErrorMessage:null===(c=o.target.error)||void 0===c?void 0:c.message}))},r.onupgradeneeded=o=>{const c=o.target.result;switch(o.oldVersion){case 0:c.createObjectStore(mf,{keyPath:"compositeKey"})}}}catch(r){e(ao.create("storage-open",{originalErrorMessage:r.message}))}}),oh)}function dy(){return(dy=(0,Oe.Z)(function*(i,e){const o=(yield Jp()).transaction(mf,"readwrite"),f=o.objectStore(mf).put({compositeKey:i,value:e});return new Promise((y,b)=>{f.onsuccess=O=>{y()},o.onerror=O=>{var H;b(ao.create("storage-set",{originalErrorMessage:null===(H=O.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const ah=new yi.Yd("@firebase/app-check");function yE(i,e){return(0,Yt.hl)()?function(i,e){return function(i,e){return dy.apply(this,arguments)}(function(i){return`${i.options.appId}-${i.name}`}(i),e)}(i,e).catch(r=>{ah.warn(`Failed to write token to IndexedDB. Error: ${r}`)}):Promise.resolve()}function eg(){return Kp().enabled}function yf(){return gy.apply(this,arguments)}function gy(){return(gy=(0,Oe.Z)(function*(){const i=Kp();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Lw={error:"UNKNOWN_ERROR"};function Tb(i){return Yt.US.encodeString(JSON.stringify(i),!1)}function tg(i){return Da.apply(this,arguments)}function Da(){return(Da=(0,Oe.Z)(function*(i,e=!1){const r=i.app;lE(r);const o=Ji(r);let f,c=o.token;if(!c){const O=yield o.cachedTokenPromise;O&&my(O)&&(c=O)}if(!e&&c&&my(c))return{token:c.token};let b,y=!1;if(eg()){o.exchangeTokenPromise||(o.exchangeTokenPromise=cy(Pw(r,yield yf()),i.platformLoggerProvider).then(H=>(o.exchangeTokenPromise=void 0,H)),y=!0);const O=yield o.exchangeTokenPromise;return yield yE(r,O),Qo(r,Object.assign(Object.assign({},o),{token:O})),{token:O.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(O=>(o.exchangeTokenPromise=void 0,O)),y=!0),c=yield o.exchangeTokenPromise}catch(O){"appCheck/throttled"===O.code?ah.warn(O.message):ah.error(O),f=O}return c?(b={token:c.token},Qo(r,Object.assign(Object.assign({},o),{token:c})),yield yE(r,c)):b=Uw(f),y&&EE(r,b),b})).apply(this,arguments)}function vE(i,e){const r=Ji(i),o=r.tokenObservers.filter(c=>c.next!==e);0===o.length&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),Qo(i,Object.assign(Object.assign({},r),{tokenObservers:o}))}function _f(i){const{app:e}=i,r=Ji(e);let o=r.tokenRefresher;o||(o=function(i){const{app:e}=i;return new Rw((0,Oe.Z)(function*(){let o;if(o=Ji(e).token?yield tg(i,!0):yield tg(i),o.error)throw o.error}),()=>!0,()=>{const r=Ji(e);if(r.token){let o=r.token.issuedAtTimeMillis+.5*(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,r.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(i),Qo(e,Object.assign(Object.assign({},r),{tokenRefresher:o}))),!o.isRunning()&&r.isTokenAutoRefreshEnabled&&o.start()}function EE(i,e){const r=Ji(i).tokenObservers;for(const o of r)try{"EXTERNAL"===o.type&&null!=e.error?o.error(e.error):o.next(e)}catch(c){}}function my(i){return i.expireTimeMillis-Date.now()>0}function Uw(i){return{token:Tb(Lw),error:i}}class jw{constructor(e,r){this.app=e,this.platformLoggerProvider=r}_delete(){const{tokenObservers:e}=Ji(this.app);for(const r of e)vE(this.app,r.next);return Promise.resolve()}}const AE="app-check-internal";(0,Yr._registerComponent)(new Mr.wA("app-check",i=>function(i,e){return new jw(i,e)}(i.getProvider("app").getImmediate(),i.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,e,r)=>{i.getProvider(AE).initialize()})),(0,Yr._registerComponent)(new Mr.wA(AE,i=>function(i){return{getToken:e=>tg(i,e),addTokenListener:e=>function(i,e,r,o){const{app:c}=i,f=Ji(c),y={next:r,error:o,type:e};if(Qo(c,Object.assign(Object.assign({},f),{tokenObservers:[...f.tokenObservers,y]})),f.token&&my(f.token)){const b=f.token;Promise.resolve().then(()=>{r({token:b.token}),_f(i)}).catch(()=>{})}f.cachedTokenPromise.then(()=>_f(i))}(i,"INTERNAL",e),removeTokenListener:e=>vE(i.app,e)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yr.registerVersion)("@firebase/app-check","0.5.2");class Cy{constructor(){return(0,In.vb)("app-check")}}"undefined"!=typeof window&&window;var Jw=U(7841);const Sy=new x.OlP("angularfire2.auth.use-emulator"),Ry=new x.OlP("angularfire2.auth.settings"),og=new x.OlP("angularfire2.auth.tenant-id"),xy=new x.OlP("angularfire2.auth.langugage-code"),Ny=new x.OlP("angularfire2.auth.use-device-language"),RE=new x.OlP("angularfire.auth.persistence"),xE=(i,e,r,o,c,f,y,b)=>(0,Cr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const O=e.runOutsideAngular(()=>i.auth());if(r&&O.useEmulator(...r),o&&(O.tenantId=o),O.languageCode=c,f&&O.useDeviceLanguage(),y)for(const[H,Z]of Object.entries(y))O.settings[H]=Z;return b&&O.setPersistence(b),O},[r,o,c,f,y,b]);let My=(()=>{class i{constructor(r,o,c,f,y,b,O,H,Z,ue,De,We){const Ye=new sh.xQ,_t=(0,Zr.of)(void 0).pipe((0,pf.QV)(y.outsideAngular),(0,Cl.w)(()=>f.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,941)))),(0,an.U)(()=>(0,Cr.on)(r,f,o)),(0,an.U)(Bt=>xE(Bt,f,b,H,Z,ue,O,De)),rE({bufferSize:1,refCount:!1}));if((0,A.PM)(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Zr.of)(null);else{_t.pipe((0,yb.P)()).subscribe();const mr=_t.pipe((0,Cl.w)(Zn=>Zn.getRedirectResult().then(Kr=>Kr,()=>null)),In.iC,rE({bufferSize:1,refCount:!1})),fi=_t.pipe((0,Cl.w)(Zn=>new Dr.y(Kr=>({unsubscribe:f.runOutsideAngular(()=>Zn.onAuthStateChanged(eu=>Kr.next(eu),eu=>Kr.error(eu),()=>Kr.complete()))})))),So=_t.pipe((0,Cl.w)(Zn=>new Dr.y(Kr=>({unsubscribe:f.runOutsideAngular(()=>Zn.onIdTokenChanged(eu=>Kr.next(eu),eu=>Kr.error(eu),()=>Kr.complete()))}))));this.authState=mr.pipe(Ew(fi),(0,iE.R)(y.outsideAngular),(0,pf.QV)(y.insideAngular)),this.user=mr.pipe(Ew(So),(0,iE.R)(y.outsideAngular),(0,pf.QV)(y.insideAngular)),this.idToken=this.user.pipe((0,Cl.w)(Zn=>Zn?(0,Ur.D)(Zn.getIdToken()):(0,Zr.of)(null))),this.idTokenResult=this.user.pipe((0,Cl.w)(Zn=>Zn?(0,Ur.D)(Zn.getIdTokenResult()):(0,Zr.of)(null))),this.credential=(0,yw.T)(mr,Ye,this.authState.pipe((0,ii.h)(Zn=>!Zn))).pipe((0,an.U)(Zn=>(null==Zn?void 0:Zn.user)?Zn:null),(0,iE.R)(y.outsideAngular),(0,pf.QV)(y.insideAngular))}return(0,Cr.pX)(this,_t,f,{spy:{apply:(Bt,mr,fi)=>{(Bt.startsWith("signIn")||Bt.startsWith("createUser"))&&fi.then(So=>Ye.next(So))}}})}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(Cr.Dh),x.LFG(Cr.xv,8),x.LFG(x.Lbi),x.LFG(x.R0b),x.LFG(In.HU),x.LFG(Sy,8),x.LFG(Ry,8),x.LFG(og,8),x.LFG(xy,8),x.LFG(Ny,8),x.LFG(RE,8),x.LFG(Cy,8))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function If(i,e){return function(i,e=ri.z){return new Dr.y(r=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},r)}):o=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(i,e)}function ME(i,e){return If(i,e).pipe((0,an.U)(r=>({payload:r,type:"query"})))}function Dl(i,e){return ME(i,e).pipe((0,vn.O)(void 0),co(),(0,an.U)(([r,o])=>{const c=o.payload.docChanges(),f=c.map(y=>({type:y.type,payload:y}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((y,b)=>{const O=c.find(Z=>Z.doc.ref.isEqual(y.ref)),H=null==r?void 0:r.payload.docs.find(Z=>Z.ref.isEqual(y.ref));O&&JSON.stringify(O.doc.metadata)===JSON.stringify(y.metadata)||!O&&H&&JSON.stringify(H.metadata)===JSON.stringify(y.metadata)||f.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:y}})}),f}))}function Bn(i,e,r){return Dl(i,r).pipe((0,mi.R)((o,c)=>function(i,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(i=function(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Al(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return Al(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Al(i,e.oldIndex,1)}return i}(i,o))}),i}(o,c.map(f=>f.payload),e),[]),r=>r.lift(new Tr(void 0,void 0)),(0,an.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function Al(i,e,r,...o){const c=i.slice();return c.splice(e,r,...o),c}function eI(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Jt{constructor(e,r,o){this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=Dl(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,an.U)(o=>o.filter(c=>e.indexOf(c.type)>-1)))),r.pipe((0,vn.O)(void 0),co(),(0,ii.h)(([o,c])=>c.length>0||!o),(0,an.U)(([o,c])=>c),In.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,mi.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=eI(e);return Bn(this.query,r,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return ME(this.query,this.afs.schedulers.outsideAngular).pipe((0,an.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),In.iC)}get(e){return(0,Ur.D)(this.query.get(e)).pipe(In.iC)}add(e){return this.ref.add(e)}doc(e){return new Jo(this.ref.doc(e),this.afs)}}class Jo{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:c,query:f}=nI(o,r);return new Jt(c,f,this.afs)}snapshotChanges(){return function(i,e){return If(i,e).pipe((0,vn.O)(void 0),co(),(0,an.U)(([r,o])=>o.exists?(null==r?void 0:r.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,an.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,Ur.D)(this.ref.get(e)).pipe(In.iC)}}class Py{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?Dl(this.query,this.afs.schedulers.outsideAngular).pipe((0,an.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,ii.h)(r=>r.length>0),In.iC):Dl(this.query,this.afs.schedulers.outsideAngular).pipe(In.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,mi.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=eI(e);return Bn(this.query,r,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return ME(this.query,this.afs.schedulers.outsideAngular).pipe((0,an.U)(o=>o.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),In.iC)}get(e){return(0,Ur.D)(this.query.get(e)).pipe(In.iC)}}const Sl=new x.OlP("angularfire2.enableFirestorePersistence"),tI=new x.OlP("angularfire2.firestore.persistenceSettings"),PE=new x.OlP("angularfire2.firestore.settings"),OE=new x.OlP("angularfire2.firestore.use-emulator");function nI(i,e=(r=>r)){return{query:e(i),ref:i}}let rI=(()=>{class i{constructor(r,o,c,f,y,b,O,H,Z,ue,De,We,Ye,_t,Bt,mr,fi){this.schedulers=O;const So=(0,Cr.on)(r,b,o),Zn=Z;ue&&xE(So,b,De,Ye,_t,Bt,We,mr),[this.firestore,this.persistenceEnabled$]=(0,Cr.cc)(`${So.name}.firestore`,"AngularFirestore",So.name,()=>{const Kr=b.runOutsideAngular(()=>So.firestore());if(f&&Kr.settings(f),Zn&&Kr.useEmulator(...Zn),c&&!(0,A.PM)(y)){const eu=()=>{try{return(0,Ur.D)(Kr.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(lh){return"undefined"!=typeof console&&console.warn(lh),(0,Zr.of)(!1)}};return[Kr,b.runOutsideAngular(eu)]}return[Kr,(0,Zr.of)(!1)]},[f,Zn,c])}collection(r,o){let c;c="string"==typeof r?this.firestore.collection(r):r;const{ref:f,query:y}=nI(c,o),b=this.schedulers.ngZone.run(()=>f);return new Jt(b,y,this)}collectionGroup(r,o){const c=o||(y=>y),f=this.firestore.collectionGroup(r);return new Py(c(f),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const c=this.schedulers.ngZone.run(()=>o);return new Jo(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(Cr.Dh),x.LFG(Cr.xv,8),x.LFG(Sl,8),x.LFG(PE,8),x.LFG(x.Lbi),x.LFG(x.R0b),x.LFG(In.HU),x.LFG(tI,8),x.LFG(OE,8),x.LFG(My,8),x.LFG(Sy,8),x.LFG(Ry,8),x.LFG(og,8),x.LFG(xy,8),x.LFG(Ny,8),x.LFG(RE,8),x.LFG(Cy,8))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),iI=(()=>{class i{constructor(){Jw.Z.registerVersion("angularfire",In.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:Sl,useValue:!0},{provide:tI,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=x.oAB({type:i}),i.\u0275inj=x.cJS({providers:[rI]}),i})();const Xo_firebase={apiKey:"AIzaSyA5jkzx-qimPiUK4J6sfex3JNQ8K4pmsZE",authDomain:"announcement-task.firebaseapp.com",projectId:"announcement-task",storageBucket:"announcement-task.appspot.com",messagingSenderId:"223092801936",appId:"1:223092801936:web:4402f315a69d0ffb527315",databaseURL:"https://announcement-task-default-rtdb.europe-west1.firebasedatabase.app"};let zr=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=x.oAB({type:i,bootstrap:[Es]}),i.\u0275inj=x.cJS({providers:[],imports:[[js,yr.JF,Ft,Cr.hO.initializeApp(Xo_firebase),iI,yr.JF]]}),i})();(0,x.G48)(),ur().bootstrapModule(zr).catch(i=>console.error(i))},3394:(dt,Re,U)=>{"use strict";U.d(Re,{Z:()=>Ue});var A=U(3854),x=U(3910),W=U(8026),me=U(5422);class le{constructor(he,ke){this._delegate=he,this.firebase=ke,(0,W._addComponent)(he,new x.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(he,ke=W._DEFAULT_ENTRY_NAME){var Te;this._delegate.checkDestroyed();const xe=this._delegate.container.getProvider(he);return!xe.isInitialized()&&"EXPLICIT"===(null===(Te=xe.getComponent())||void 0===Te?void 0:Te.instantiationMode)&&xe.initialize(),xe.getImmediate({identifier:ke})}_removeServiceInstance(he,ke=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(ke)}_addComponent(he){(0,W._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,W._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new A.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ce(){const Me=function(Me){const he={},ke={__esModule:!0,initializeApp:function(Nt,kt={}){const At=W.initializeApp(Nt,kt);if((0,A.r3)(he,At.name))return he[At.name];const Vt=new Me(At,ke);return he[At.name]=Vt,Vt},app:xe,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function(Nt){const kt=Nt.name,At=kt.replace("-compat","");if(W._registerComponent(Nt)&&"PUBLIC"===Nt.type){const Vt=(Dt=xe())=>{if("function"!=typeof Dt[At])throw _e.create("invalid-app-argument",{appName:kt});return Dt[At]()};void 0!==Nt.serviceProps&&(0,A.ZB)(Vt,Nt.serviceProps),ke[At]=Vt,Me.prototype[At]=function(...Dt){return this._getService.bind(this,kt).apply(this,Nt.multipleInstances?Dt:[])}}return"PUBLIC"===Nt.type?ke[At]:null},removeApp:function(Nt){delete he[Nt]},useAsService:function(Nt,kt){return"serverAuth"===kt?null:kt},modularAPIs:W}};function xe(Nt){if(!(0,A.r3)(he,Nt=Nt||W._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Nt});return he[Nt]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function(){return Object.keys(he).map(Nt=>he[Nt])}}),xe.App=Me,ke}(le);return Me.INTERNAL=Object.assign(Object.assign({},Me.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function(ke){(0,A.ZB)(Me,ke)},createSubscribe:A.ne,ErrorFactory:A.LL,deepExtend:A.ZB}),Me}(),q=new me.Yd("@firebase/app-compat");if((0,A.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Me=self.firebase.SDK_VERSION;Me&&Me.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=z;(0,W.registerVersion)("@firebase/app-compat","0.1.11",undefined)},8026:(dt,Re,U)=>{"use strict";U.r(Re),U.d(Re,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>Ri,_DEFAULT_ENTRY_NAME:()=>Ai,_addComponent:()=>Hi,_addOrOverwriteComponent:()=>Xi,_apps:()=>Yn,_clearComponents:()=>Tn,_components:()=>$i,_getProvider:()=>Fn,_registerComponent:()=>Wi,_removeServiceInstance:()=>Et,deleteApp:()=>br,getApp:()=>ln,getApps:()=>Fe,initializeApp:()=>Qn,onLog:()=>zt,registerVersion:()=>Jn,setLogLevel:()=>or});var A=U(8239),x=U(3910),W=U(5422),me=U(3854);class le{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(ie=>{if(function(ve){const K=ve.getComponent();return"VERSION"===(null==K?void 0:K.type)}(ie)){const Le=ie.getImmediate();return`${Le.library}/${Le.version}`}return null}).filter(ie=>ie).join(" ")}}const _e="@firebase/app",ce=new W.Yd("@firebase/app"),Ai="[DEFAULT]",Us={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yn=new Map,$i=new Map;function Hi(ve,K){try{ve.container.addComponent(K)}catch(ie){ce.debug(`Component ${K.name} failed to register with FirebaseApp ${ve.name}`,ie)}}function Xi(ve,K){ve.container.addOrOverwriteComponent(K)}function Wi(ve){const K=ve.name;if($i.has(K))return ce.debug(`There were multiple attempts to register component ${K}.`),!1;$i.set(K,ve);for(const ie of Yn.values())Hi(ie,ve);return!0}function Fn(ve,K){return ve.container.getProvider(K)}function Et(ve,K,ie=Ai){Fn(ve,K).clearInstance(ie)}function Tn(){$i.clear()}const en=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Pt{constructor(K,ie,Le){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},ie),this._name=ie.name,this._automaticDataCollectionEnabled=ie.automaticDataCollectionEnabled,this._container=Le,this.container.addComponent(new x.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}const Ri="9.6.0";function Qn(ve,K={}){"object"!=typeof K&&(K={name:K});const ie=Object.assign({name:Ai,automaticDataCollectionEnabled:!1},K),Le=ie.name;if("string"!=typeof Le||!Le)throw en.create("bad-app-name",{appName:String(Le)});const Ve=Yn.get(Le);if(Ve){if((0,me.vZ)(ve,Ve.options)&&(0,me.vZ)(ie,Ve.config))return Ve;throw en.create("duplicate-app",{appName:Le})}const rt=new x.H0(Le);for(const tt of $i.values())rt.addComponent(tt);const Je=new Pt(ve,ie,rt);return Yn.set(Le,Je),Je}function ln(ve=Ai){const K=Yn.get(ve);if(!K)throw en.create("no-app",{appName:ve});return K}function Fe(){return Array.from(Yn.values())}function br(ve){return $n.apply(this,arguments)}function $n(){return($n=(0,A.Z)(function*(ve){const K=ve.name;Yn.has(K)&&(Yn.delete(K),yield Promise.all(ve.container.getProviders().map(ie=>ie.delete())),ve.isDeleted=!0)})).apply(this,arguments)}function Jn(ve,K,ie){var Le;let Ve=null!==(Le=Us[ve])&&void 0!==Le?Le:ve;ie&&(Ve+=`-${ie}`);const rt=Ve.match(/\s|\//),Je=K.match(/\s|\//);if(rt||Je){const tt=[`Unable to register library "${Ve}" with version "${K}":`];return rt&&tt.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),rt&&Je&&tt.push("and"),Je&&tt.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void ce.warn(tt.join(" "))}Wi(new x.wA(`${Ve}-version`,()=>({library:Ve,version:K}),"VERSION"))}function zt(ve,K){if(null!==ve&&"function"!=typeof ve)throw en.create("invalid-log-argument");(0,W.Am)(ve,K)}function or(ve){(0,W.Ub)(ve)}Wi(new x.wA("platform-logger",K=>new le(K),"PRIVATE")),Jn(_e,"0.7.10",""),Jn(_e,"0.7.10","esm2017"),Jn("fire-js","")},3910:(dt,Re,U)=>{"use strict";U.d(Re,{wA:()=>W,H0:()=>oe});var A=U(8239),x=U(3854);class W{constructor(z,q,fe){this.name=z,this.instanceFactory=q,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const me="[DEFAULT]";class le{constructor(z,q){this.name=z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(q)){const fe=new x.BH;if(this.instancesDeferred.set(q,fe),this.isInitialized(q)||this.shouldAutoInitialize())try{const pe=this.getOrInitializeService({instanceIdentifier:q});pe&&fe.resolve(pe)}catch(pe){}}return this.instancesDeferred.get(q).promise}getImmediate(z){var q;const fe=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),pe=null!==(q=null==z?void 0:z.optional)&&void 0!==q&&q;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(be){if(pe)return null;throw be}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if("EAGER"===z.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:me})}catch(q){}for(const[q,fe]of this.instancesDeferred.entries()){const pe=this.normalizeInstanceIdentifier(q);try{const be=this.getOrInitializeService({instanceIdentifier:pe});fe.resolve(be)}catch(be){}}}}clearInstance(z=me){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,A.Z)(function*(){const q=Array.from(z.instances.values());yield Promise.all([...q.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...q.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=me){return this.instances.has(z)}getOptions(z=me){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:q={}}=z,fe=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pe=this.getOrInitializeService({instanceIdentifier:fe,options:q});for(const[be,Ue]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(be)&&Ue.resolve(pe);return pe}onInit(z,q){var fe;const pe=this.normalizeInstanceIdentifier(q),be=null!==(fe=this.onInitCallbacks.get(pe))&&void 0!==fe?fe:new Set;be.add(z),this.onInitCallbacks.set(pe,be);const Ue=this.instances.get(pe);return Ue&&z(Ue,pe),()=>{be.delete(z)}}invokeOnInitCallbacks(z,q){const fe=this.onInitCallbacks.get(q);if(fe)for(const pe of fe)try{pe(z,q)}catch(be){}}getOrInitializeService({instanceIdentifier:z,options:q={}}){let fe=this.instances.get(z);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=z,ce===me?void 0:ce),options:q}),this.instances.set(z,fe),this.instancesOptions.set(z,q),this.invokeOnInitCallbacks(fe,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,fe)}catch(pe){}var ce;return fe||null}normalizeInstanceIdentifier(z=me){return this.component?this.component.multipleInstances?z:me:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const q=this.getProvider(z.name);if(q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const q=new le(z,this);return this.providers.set(z,q),q}getProviders(){return Array.from(this.providers.values())}}},5422:(dt,Re,U)=>{"use strict";U.d(Re,{in:()=>x,Yd:()=>_e,Ub:()=>oe,Am:()=>ce});const A=[];var x=(()=>{return(z=x||(x={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",x;var z})();const W={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},me=x.INFO,le={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},ae=(z,q,...fe)=>{if(q<z.logLevel)return;const pe=(new Date).toISOString(),be=le[q];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[be](`[${pe}]  ${z.name}:`,...fe)};class _e{constructor(q){this.name=q,this._logLevel=me,this._logHandler=ae,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in x))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?W[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...q),this._logHandler(this,x.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...q),this._logHandler(this,x.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,x.INFO,...q),this._logHandler(this,x.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,x.WARN,...q),this._logHandler(this,x.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...q),this._logHandler(this,x.ERROR,...q)}}function oe(z){A.forEach(q=>{q.setLogLevel(z)})}function ce(z,q){for(const fe of A){let pe=null;q&&q.level&&(pe=W[q.level]),fe.userLogHandler=null===z?null:(be,Ue,...Me)=>{const he=Me.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch(Te){return null}}).filter(ke=>ke).join(" ");Ue>=(null!=pe?pe:be.logLevel)&&z({level:x[Ue].toLowerCase(),message:he,args:Me,type:be.name})}}}},8239:(dt,Re,U)=>{"use strict";function A(W,me,le,ae,_e,oe,ce){try{var z=W[oe](ce),q=z.value}catch(fe){return void le(fe)}z.done?me(q):Promise.resolve(q).then(ae,_e)}function x(W){return function(){var me=this,le=arguments;return new Promise(function(ae,_e){var oe=W.apply(me,le);function ce(q){A(oe,ae,_e,ce,z,"next",q)}function z(q){A(oe,ae,_e,ce,z,"throw",q)}ce(void 0)})}}U.d(Re,{Z:()=>x})}},dt=>{dt(dt.s=1974)}]);